(this["webpackJsonpcra-demo"]=this["webpackJsonpcra-demo"]||[]).push([[0],{102:function(e,t){},149:function(e,t){},260:function(e,t){},261:function(e,t){},269:function(e,t){},270:function(e,t){},271:function(e,t){},272:function(e,t){},276:function(e,t,n){"use strict";n.r(t);var r=n(52),a=n.n(r),c=n(213),i=n.n(c),o=n(8),u=n.n(o),s=n(12),f=(n(0),n(274),n(275),n(81)),l=n(235),p=n.n(l),d=n(27);function h(e,t,n){null!=e.keypoints&&function(e,t,n){var r=f.d.getKeypointIndexBySide(f.a.MoveNet);t.fillStyle="Red",t.strokeStyle="White",t.lineWidth=2;var a,c=Object(d.a)(r.middle);try{for(c.s();!(a=c.n()).done;){v(e[a.value],t,n)}}catch(l){c.e(l)}finally{c.f()}t.fillStyle="Green";var i,o=Object(d.a)(r.left);try{for(o.s();!(i=o.n()).done;){v(e[i.value],t,n)}}catch(l){o.e(l)}finally{o.f()}t.fillStyle="Orange";var u,s=Object(d.a)(r.right);try{for(s.s();!(u=s.n()).done;){v(e[u.value],t,n)}}catch(l){s.e(l)}finally{s.f()}}(e.keypoints,t,n)}function v(e,t,n){if((null!=e.score?e.score:1)>=(n||0)){var r=new Path2D;r.arc(e.x,e.y,2,0,2*Math.PI),t.fill(r),t.stroke(r)}}var y,b,j=n(48),x=1280,O=720;function m(){var e=Object(r.useRef)(null),t=Object(r.useRef)(null);function n(){y=e.current,t.current.getContext("2d")}function a(){return c.apply(this,arguments)}function c(){return(c=Object(s.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.a.MoveNet,n={modelType:f.c.modelType.MULTIPOSE_LIGHTNING,minPoseScore:.2,enableTracking:!0},e.next=4,f.b(t,n);case 4:b=e.sent;case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(e){return o.apply(this,arguments)}function o(){return(o=Object(s.a)(u.a.mark((function e(n){var r,a,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof y&&null!==y){e.next=2;break}return e.abrupt("return");case 2:if(4===y.video.readyState){e.next=4;break}return e.abrupt("return");case 4:if(n){e.next=6;break}return e.abrupt("return");case 6:return r=y.video,a=r.videoWidth,c=r.videoHeight,y.video.width=a,y.video.height=c,e.next=13,n.estimatePoses(r);case 13:i=e.sent,console.log("found poses:"),console.log(i),l(i,a,c,t);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e,t,n,r){var a=r.current.getContext("2d");r.current.videoWidth=t,r.current.videoHeight=n,function(e,t,n){if(e){var r,a=Object(d.a)(e);try{for(a.s();!(r=a.n()).done;)h(r.value,t,n)}catch(c){a.e(c)}finally{a.f()}}}(e,a,0)}function v(){return m.apply(this,arguments)}function m(){return(m=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,i(b);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return k.apply(this,arguments)}function k(){return(k=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:requestAnimationFrame(g);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(),e.next=3,a();case 3:g();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){console.log("LOADING ..."),function(){w.apply(this,arguments)}(),console.log("DONE LOADING.")})),Object(j.jsxs)("div",{style:{position:"relative"},children:[Object(j.jsx)(p.a,{ref:e,mirrored:!0,style:{position:"absolute",width:x,height:O,left:0,top:0}}),Object(j.jsx)("canvas",{ref:t,style:{position:"absolute",width:x,height:O,left:0,top:0}})]})}var g=function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsx)("header",{className:"App-header",children:Object(j.jsx)(m,{})})})};i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(g,{})}),document.getElementById("root"))}},[[276,1,2]]]);
//# sourceMappingURL=main.5d03b291.chunk.js.map