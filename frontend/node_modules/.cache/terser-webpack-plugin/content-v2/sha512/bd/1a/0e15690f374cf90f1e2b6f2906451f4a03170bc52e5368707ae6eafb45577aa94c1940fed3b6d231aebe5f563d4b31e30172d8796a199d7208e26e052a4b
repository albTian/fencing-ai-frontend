{"code":"(this[\"webpackJsonpcra-demo\"]=this[\"webpackJsonpcra-demo\"]||[]).push([[0],{102:function(e,t){},149:function(e,t){},260:function(e,t){},261:function(e,t){},269:function(e,t){},270:function(e,t){},271:function(e,t){},272:function(e,t){},276:function(e,t,n){\"use strict\";n.r(t);var r=n(52),a=n.n(r),c=n(213),i=n.n(c),o=n(8),u=n.n(o),s=n(12),f=(n(0),n(274),n(275),n(81)),l=n(235),p=n.n(l),d=n(27);function h(e,t,n){null!=e.keypoints&&function(e,t,n){var r=f.d.getKeypointIndexBySide(f.a.MoveNet);t.fillStyle=\"Red\",t.strokeStyle=\"White\",t.lineWidth=2;var a,c=Object(d.a)(r.middle);try{for(c.s();!(a=c.n()).done;){v(e[a.value],t,n)}}catch(l){c.e(l)}finally{c.f()}t.fillStyle=\"Green\";var i,o=Object(d.a)(r.left);try{for(o.s();!(i=o.n()).done;){v(e[i.value],t,n)}}catch(l){o.e(l)}finally{o.f()}t.fillStyle=\"Orange\";var u,s=Object(d.a)(r.right);try{for(s.s();!(u=s.n()).done;){v(e[u.value],t,n)}}catch(l){s.e(l)}finally{s.f()}}(e.keypoints,t,n)}function v(e,t,n){if((null!=e.score?e.score:1)>=(n||0)){var r=new Path2D;r.arc(e.x,e.y,2,0,2*Math.PI),t.fill(r),t.stroke(r)}}var y,b,j=n(48),x=1280,O=720;function m(){var e=Object(r.useRef)(null),t=Object(r.useRef)(null);function n(){y=e.current,t.current.getContext(\"2d\")}function a(){return c.apply(this,arguments)}function c(){return(c=Object(s.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.a.MoveNet,n={modelType:f.c.modelType.MULTIPOSE_LIGHTNING,minPoseScore:.2,enableTracking:!0},e.next=4,f.b(t,n);case 4:b=e.sent;case 5:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function i(e){return o.apply(this,arguments)}function o(){return(o=Object(s.a)(u.a.mark((function e(n){var r,a,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(\"undefined\"!==typeof y&&null!==y){e.next=2;break}return e.abrupt(\"return\");case 2:if(4===y.video.readyState){e.next=4;break}return e.abrupt(\"return\");case 4:if(n){e.next=6;break}return e.abrupt(\"return\");case 6:return r=y.video,a=r.videoWidth,c=r.videoHeight,y.video.width=a,y.video.height=c,e.next=13,n.estimatePoses(r);case 13:i=e.sent,console.log(\"found poses:\"),console.log(i),l(i,a,c,t);case 17:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function l(e,t,n,r){var a=r.current.getContext(\"2d\");r.current.videoWidth=t,r.current.videoHeight=n,function(e,t,n){if(e){var r,a=Object(d.a)(e);try{for(a.s();!(r=a.n()).done;)h(r.value,t,n)}catch(c){a.e(c)}finally{a.f()}}}(e,a,0)}function v(){return m.apply(this,arguments)}function m(){return(m=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b){e.next=2;break}return e.abrupt(\"return\");case 2:return e.next=4,i(b);case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return k.apply(this,arguments)}function k(){return(k=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:requestAnimationFrame(g);case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(),e.next=3,a();case 3:g();case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){console.log(\"LOADING ...\"),function(){w.apply(this,arguments)}(),console.log(\"DONE LOADING.\")})),Object(j.jsxs)(\"div\",{style:{position:\"relative\"},children:[Object(j.jsx)(p.a,{ref:e,mirrored:!0,style:{position:\"absolute\",width:x,height:O,left:0,top:0}}),Object(j.jsx)(\"canvas\",{ref:t,style:{position:\"absolute\",width:x,height:O,left:0,top:0}})]})}var g=function(){return Object(j.jsx)(\"div\",{className:\"App\",children:Object(j.jsx)(\"header\",{className:\"App-header\",children:Object(j.jsx)(m,{})})})};i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(g,{})}),document.getElementById(\"root\"))}},[[276,1,2]]]);","name":"static/js/main.5d03b291.chunk.js","map":{"version":3,"sources":["static/js/main.5d03b291.chunk.js"],"names":["this","push","102","module","exports","149","260","261","269","270","271","272","276","__webpack_exports__","__webpack_require__","r","react","react_default","n","react_dom","react_dom_default","regenerator","regenerator_default","asyncToGenerator","pose_detection_esm","react_webcam","react_webcam_default","createForOfIteratorHelper","drawResult","pose","ctx","scoreThreshold","keypoints","keypointInd","getKeypointIndexBySide","MoveNet","fillStyle","strokeStyle","lineWidth","_step2","_iterator2","Object","middle","s","done","drawKeypoint","value","err","e","f","_step3","_iterator3","left","_step4","_iterator4","right","drawKeypoints","keypoint","score","circle","Path2D","arc","x","y","Math","PI","fill","stroke","camera","Camera_detector","jsx_runtime","videoDim","Camera","webcamRef","canvasRef","setupCamera","current","getContext","setupDetector","_setupDetector","apply","arguments","a","mark","_callee","model","detectorConfig","wrap","_context","prev","next","modelType","MULTIPOSE_LIGHTNING","minPoseScore","enableTracking","sent","stop","detect","_x","_detect","_callee2","detector","video","videoWidth","videoHeight","poses","_context2","abrupt","readyState","width","height","estimatePoses","console","log","drawCanvas","canvas","_step","_iterator","drawResults","renderResult","_renderResult","_callee3","_context3","renderPrediction","_renderPrediction","_callee4","_context4","requestAnimationFrame","_run","_callee5","_context5","run","style","position","children","ref","mirrored","top","src_App","className","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpcra-demo\"] = this[\"webpackJsonpcra-demo\"] || []).push([[0],{\n\n/***/ 102:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 149:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 260:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 261:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 269:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 270:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 271:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 272:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 276:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(52);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(213);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(8);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./node_modules/@tensorflow/tfjs-core/dist/index.js + 28 modules\nvar dist = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/@tensorflow/tfjs-backend-webgl/dist/index.js + 318 modules\nvar tfjs_backend_webgl_dist = __webpack_require__(274);\n\n// EXTERNAL MODULE: ./node_modules/@tensorflow/tfjs-backend-wasm/dist/index.js + 106 modules\nvar tfjs_backend_wasm_dist = __webpack_require__(275);\n\n// EXTERNAL MODULE: ./node_modules/@tensorflow-models/pose-detection/dist/pose-detection.esm.js + 33 modules\nvar pose_detection_esm = __webpack_require__(81);\n\n// EXTERNAL MODULE: ./node_modules/react-webcam/dist/react-webcam.js\nvar react_webcam = __webpack_require__(235);\nvar react_webcam_default = /*#__PURE__*/__webpack_require__.n(react_webcam);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\nvar createForOfIteratorHelper = __webpack_require__(27);\n\n// CONCATENATED MODULE: ./src/utils/drawUtils.js\n/**\n * Draw the keypoints and skeleton on the video.\n * @param poses A list of poses to render.\n * @param ctx The context object to draw on\n * @param scoreThreshold The minimum score needed\n */function drawResults(poses,ctx,scoreThreshold){if(!poses)return;var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(poses),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var pose=_step.value;drawResult(pose,ctx,scoreThreshold);}}catch(err){_iterator.e(err);}finally{_iterator.f();}}/**\n  * Draw the keypoints and skeleton on the video.\n  * @param pose A pose with keypoints to render.\n  */function drawResult(pose,ctx,scoreThreshold){if(pose.keypoints!=null){drawKeypoints(pose.keypoints,ctx,scoreThreshold);// drawSkeleton(pose.keypoints, pose.id);\n}}/**\n * Draw the keypoints on the video.\n * @param keypoints A list of keypoints.\n */function drawKeypoints(keypoints,ctx,scoreThreshold){// Hardcoding MoveNet in\nvar keypointInd=pose_detection_esm[\"d\" /* util */].getKeypointIndexBySide(pose_detection_esm[\"a\" /* SupportedModels */].MoveNet);ctx.fillStyle='Red';ctx.strokeStyle='White';ctx.lineWidth=2;var _iterator2=Object(createForOfIteratorHelper[\"a\" /* default */])(keypointInd.middle),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var i=_step2.value;drawKeypoint(keypoints[i],ctx,scoreThreshold);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}ctx.fillStyle='Green';var _iterator3=Object(createForOfIteratorHelper[\"a\" /* default */])(keypointInd.left),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var _i=_step3.value;drawKeypoint(keypoints[_i],ctx,scoreThreshold);}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}ctx.fillStyle='Orange';var _iterator4=Object(createForOfIteratorHelper[\"a\" /* default */])(keypointInd.right),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var _i2=_step4.value;drawKeypoint(keypoints[_i2],ctx,scoreThreshold);}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}}function drawKeypoint(keypoint,ctx,scoreThreshold){// If score is null, just show the keypoint.\nvar score=keypoint.score!=null?keypoint.score:1;var minScore=scoreThreshold||0;if(score>=minScore){var circle=new Path2D();circle.arc(keypoint.x,keypoint.y,2,0,2*Math.PI);ctx.fill(circle);ctx.stroke(circle);}}\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(48);\n\n// CONCATENATED MODULE: ./src/components/Camera.jsx\nvar videoDim={width:1280,height:720};var rafId;var camera,Camera_detector;var Camera_ctx;function Camera(){var webcamRef=Object(react[\"useRef\"])(null);var canvasRef=Object(react[\"useRef\"])(null);function setupCamera(){camera=webcamRef.current;Camera_ctx=canvasRef.current.getContext(\"2d\");}function setupDetector(){return _setupDetector.apply(this,arguments);}function _setupDetector(){_setupDetector=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var model,detectorConfig;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:model=pose_detection_esm[\"a\" /* SupportedModels */].MoveNet;detectorConfig={modelType:pose_detection_esm[\"c\" /* movenet */].modelType.MULTIPOSE_LIGHTNING,minPoseScore:0.2,enableTracking:true};_context.next=4;return pose_detection_esm[\"b\" /* createDetector */](model,detectorConfig);case 4:Camera_detector=_context.sent;case 5:case\"end\":return _context.stop();}}},_callee);}));return _setupDetector.apply(this,arguments);}function detect(_x){return _detect.apply(this,arguments);}function _detect(){_detect=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(detector){var video,videoWidth,videoHeight,poses;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(typeof camera===\"undefined\"||camera===null)){_context2.next=2;break;}return _context2.abrupt(\"return\");case 2:if(!(camera.video.readyState!==4)){_context2.next=4;break;}return _context2.abrupt(\"return\");case 4:if(detector){_context2.next=6;break;}return _context2.abrupt(\"return\");case 6:video=camera.video;videoWidth=video.videoWidth;videoHeight=video.videoHeight;camera.video.width=videoWidth;camera.video.height=videoHeight;_context2.next=13;return detector.estimatePoses(video);case 13:poses=_context2.sent;console.log(\"found poses:\");console.log(poses);drawCanvas(poses,videoWidth,videoHeight,canvasRef);case 17:case\"end\":return _context2.stop();}}},_callee2);}));return _detect.apply(this,arguments);}function drawCanvas(poses,videoWidth,videoHeight,canvas){var ctx=canvas.current.getContext(\"2d\");canvas.current.videoWidth=videoWidth;canvas.current.videoHeight=videoHeight;drawResults(poses,ctx,0);}function renderResult(){return _renderResult.apply(this,arguments);}function _renderResult(){_renderResult=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee3(){return regenerator_default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(Camera_detector){_context3.next=2;break;}return _context3.abrupt(\"return\");case 2:_context3.next=4;return detect(Camera_detector);case 4:case\"end\":return _context3.stop();}}},_callee3);}));return _renderResult.apply(this,arguments);}function renderPrediction(){return _renderPrediction.apply(this,arguments);}function _renderPrediction(){_renderPrediction=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee4(){return regenerator_default.a.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return renderResult();case 2:rafId=requestAnimationFrame(renderPrediction);if(rafId){}case 4:case\"end\":return _context4.stop();}}},_callee4);}));return _renderPrediction.apply(this,arguments);}function run(){return _run.apply(this,arguments);}function _run(){_run=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee5(){return regenerator_default.a.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:setupCamera();_context5.next=3;return setupDetector();case 3:renderPrediction();case 4:case\"end\":return _context5.stop();}}},_callee5);}));return _run.apply(this,arguments);}Object(react[\"useEffect\"])(function(){console.log(\"LOADING ...\");run();console.log(\"DONE LOADING.\");});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{position:\"relative\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_webcam_default.a,{ref:webcamRef,mirrored:true,style:{position:\"absolute\",width:videoDim.width,height:videoDim.height,left:0,top:0}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"canvas\",{ref:canvasRef,style:{position:\"absolute\",width:videoDim.width,height:videoDim.height,left:0,top:0}})]});}\n// CONCATENATED MODULE: ./src/App.jsx\nfunction App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"App\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"header\",{className:\"App-header\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Camera,{})})});}/* harmony default export */ var src_App = (App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));\n\n/***/ })\n\n},[[276,1,2]]]);","inputSourceMap":{"version":3,"sources":["ignored /Users/alberttian/f21/playground/frontend/fencing-ai-frontend/node_modules/@tensorflow/tfjs-backend-wasm/wasm-out path","ignored /Users/alberttian/f21/playground/frontend/fencing-ai-frontend/node_modules/@tensorflow/tfjs-backend-wasm/wasm-out fs","ignored /Users/alberttian/f21/playground/frontend/fencing-ai-frontend/node_modules/@tensorflow/tfjs-core/dist/platforms node-fetch","ignored /Users/alberttian/f21/playground/frontend/fencing-ai-frontend/node_modules/@tensorflow/tfjs-core/dist/platforms util","ignored /Users/alberttian/f21/playground/frontend/fencing-ai-frontend/node_modules/seedrandom crypto","ignored /Users/alberttian/f21/playground/frontend/fencing-ai-frontend/node_modules/@tensorflow/tfjs-backend-wasm/wasm-out worker_threads","ignored /Users/alberttian/f21/playground/frontend/fencing-ai-frontend/node_modules/@tensorflow/tfjs-backend-wasm/wasm-out perf_hooks","ignored /Users/alberttian/f21/playground/frontend/fencing-ai-frontend/node_modules/@tensorflow/tfjs-backend-wasm/wasm-out os","/Users/alberttian/f21/playground/frontend/fencing-ai-frontend/src/utils/drawUtils.js","/Users/alberttian/f21/playground/frontend/fencing-ai-frontend/src/components/Camera.jsx","/Users/alberttian/f21/playground/frontend/fencing-ai-frontend/src/App.jsx","/Users/alberttian/f21/playground/frontend/fencing-ai-frontend/src/index.js"],"names":["drawResults","poses","ctx","scoreThreshold","pose","drawResult","keypoints","drawKeypoints","keypointInd","poseDetection","getKeypointIndexBySide","MoveNet","fillStyle","strokeStyle","lineWidth","middle","i","drawKeypoint","left","right","keypoint","score","minScore","circle","Path2D","arc","x","y","Math","PI","fill","stroke","videoDim","width","height","rafId","camera","detector","Camera","webcamRef","useRef","canvasRef","setupCamera","current","getContext","setupDetector","model","detectorConfig","modelType","MULTIPOSE_LIGHTNING","minPoseScore","enableTracking","detect","video","readyState","videoWidth","videoHeight","estimatePoses","console","log","drawCanvas","canvas","renderResult","renderPrediction","requestAnimationFrame","run","useEffect","position","top","App","ReactDOM","render","document","getElementById"],"mappings":";;;;;AAAA,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACEA;AACA;AACA;AACA;AACA;AACA,GACA,QAASA,YAAT,CAAqBC,KAArB,CAA4BC,GAA5B,CAAiCC,cAAjC,CAAiD,CAC7C,GAAI,CAACF,KAAL,CAAY,OADiC,mEAE1BA,KAF0B,YAE7C,+CAA0B,IAAfG,KAAe,aACtBC,UAAU,CAACD,IAAD,CAAOF,GAAP,CAAYC,cAAZ,CAAV,CACH,CAJ4C,qDAKhD,CAED;AACA;AACA;AACA,IACA,QAASE,WAAT,CAAoBD,IAApB,CAA0BF,GAA1B,CAA+BC,cAA/B,CAA+C,CAC3C,GAAIC,IAAI,CAACE,SAAL,EAAkB,IAAtB,CAA4B,CACxBC,aAAa,CAACH,IAAI,CAACE,SAAN,CAAiBJ,GAAjB,CAAsBC,cAAtB,CAAb,CACA;AACH,CACJ,CAED;AACA;AACA;AACA,GACA,QAASI,cAAT,CAAuBD,SAAvB,CAAkCJ,GAAlC,CAAuCC,cAAvC,CAAuD,CACnD;AACA,GAAMK,YAAW,CAAGC,kCAAA,CAAmBC,sBAAnB,CAA0CD,6CAAA,CAA8BE,OAAxE,CAApB,CACAT,GAAG,CAACU,SAAJ,CAAgB,KAAhB,CACAV,GAAG,CAACW,WAAJ,CAAkB,OAAlB,CACAX,GAAG,CAACY,SAAJ,CAAgB,CAAhB,CALmD,oEAOnCN,WAAW,CAACO,MAPuB,aAOnD,kDAAoC,IAAzBC,EAAyB,cAChCC,YAAY,CAACX,SAAS,CAACU,CAAD,CAAV,CAAed,GAAf,CAAoBC,cAApB,CAAZ,CACH,CATkD,uDAWnDD,GAAG,CAACU,SAAJ,CAAgB,OAAhB,CAXmD,oEAYnCJ,WAAW,CAACU,IAZuB,aAYnD,kDAAkC,IAAvBF,GAAuB,cAC9BC,YAAY,CAACX,SAAS,CAACU,EAAD,CAAV,CAAed,GAAf,CAAoBC,cAApB,CAAZ,CACH,CAdkD,uDAgBnDD,GAAG,CAACU,SAAJ,CAAgB,QAAhB,CAhBmD,oEAiBnCJ,WAAW,CAACW,KAjBuB,aAiBnD,kDAAmC,IAAxBH,IAAwB,cAC/BC,YAAY,CAACX,SAAS,CAACU,GAAD,CAAV,CAAed,GAAf,CAAoBC,cAApB,CAAZ,CACH,CAnBkD,uDAoBtD,CAED,QAASc,aAAT,CAAsBG,QAAtB,CAAgClB,GAAhC,CAAqCC,cAArC,CAAqD,CACjD;AACA,GAAMkB,MAAK,CAAGD,QAAQ,CAACC,KAAT,EAAkB,IAAlB,CAAyBD,QAAQ,CAACC,KAAlC,CAA0C,CAAxD,CACA,GAAMC,SAAQ,CAAGnB,cAAc,EAAI,CAAnC,CAEA,GAAIkB,KAAK,EAAIC,QAAb,CAAuB,CACnB,GAAMC,OAAM,CAAG,GAAIC,OAAJ,EAAf,CACAD,MAAM,CAACE,GAAP,CAAWL,QAAQ,CAACM,CAApB,CAAuBN,QAAQ,CAACO,CAAhC,CAAmC,CAAnC,CAAsC,CAAtC,CAAyC,EAAIC,IAAI,CAACC,EAAlD,EACA3B,GAAG,CAAC4B,IAAJ,CAASP,MAAT,EACArB,GAAG,CAAC6B,MAAJ,CAAWR,MAAX,EACH,CACJ,C;;;;;ACvDD,GAAMS,SAAQ,CAAG,CACfC,KAAK,CAAE,IADQ,CAEfC,MAAM,CAAE,GAFO,CAAjB,CAKA,GAAIC,MAAJ,CACA,GAAIC,OAAJ,CAAYC,eAAZ,CACA,GAAInC,WAAJ,CAEe,QAASoC,OAAT,EAAkB,CAC/B,GAAMC,UAAS,CAAGC,uBAAM,CAAC,IAAD,CAAxB,CACA,GAAMC,UAAS,CAAGD,uBAAM,CAAC,IAAD,CAAxB,CAEA,QAASE,YAAT,EAAuB,CACrBN,MAAM,CAAGG,SAAS,CAACI,OAAnB,CACAzC,UAAG,CAAGuC,SAAS,CAACE,OAAV,CAAkBC,UAAlB,CAA6B,IAA7B,CAAN,CACD,CAP8B,QAShBC,cATgB,6KAS/B,8JACQC,KADR,CACgBrC,6CAAA,CAA8BE,OAD9C,CAEQoC,cAFR,CAEyB,CACrBC,SAAS,CAAEvC,qCAAA,CAAsBuC,SAAtB,CAAgCC,mBADtB,CAErBC,YAAY,CAAE,GAFO,CAGrBC,cAAc,CAAE,IAHK,CAFzB,uBAOmB1C,6CAAA,CAA6BqC,KAA7B,CAAoCC,cAApC,CAPnB,QAOEV,eAPF,qEAT+B,wDAmBhBe,OAnBgB,0JAmB/B,kBAAsBf,QAAtB,oKACM,MAAOD,OAAP,GAAkB,WAAlB,EAAiCA,MAAM,GAAK,IADlD,yEAEMA,MAAM,CAACiB,KAAP,CAAaC,UAAb,GAA4B,CAFlC,uEAGOjB,QAHP,mEAKQgB,KALR,CAKgBjB,MAAM,CAACiB,KALvB,CAMQE,UANR,CAMqBF,KAAK,CAACE,UAN3B,CAOQC,WAPR,CAOsBH,KAAK,CAACG,WAP5B,CASEpB,MAAM,CAACiB,KAAP,CAAapB,KAAb,CAAqBsB,UAArB,CACAnB,MAAM,CAACiB,KAAP,CAAanB,MAAb,CAAsBsB,WAAtB,CAVF,wBAYsBnB,SAAQ,CAACoB,aAAT,CAAuBJ,KAAvB,CAZtB,SAYQpD,KAZR,gBAaEyD,OAAO,CAACC,GAAR,CAAY,cAAZ,EACAD,OAAO,CAACC,GAAR,CAAY1D,KAAZ,EACA2D,UAAU,CAAC3D,KAAD,CAAQsD,UAAR,CAAoBC,WAApB,CAAiCf,SAAjC,CAAV,CAfF,yDAnB+B,yCAqC/B,QAASmB,WAAT,CAAoB3D,KAApB,CAA2BsD,UAA3B,CAAuCC,WAAvC,CAAoDK,MAApD,CAA4D,CAC1D,GAAM3D,IAAG,CAAG2D,MAAM,CAAClB,OAAP,CAAeC,UAAf,CAA0B,IAA1B,CAAZ,CACAiB,MAAM,CAAClB,OAAP,CAAeY,UAAf,CAA4BA,UAA5B,CACAM,MAAM,CAAClB,OAAP,CAAea,WAAf,CAA6BA,WAA7B,CAEAxD,WAAW,CAACC,KAAD,CAAQC,GAAR,CAAa,CAAb,CAAX,CACD,CA3C8B,QA6ChB4D,aA7CgB,0KA6C/B,6IACOzB,eADP,0FAEQe,OAAM,CAACf,eAAD,CAFd,yDA7C+B,uDAkDhB0B,iBAlDgB,sLAkD/B,iKACQD,aAAY,EADpB,QAEE3B,KAAK,CAAG6B,qBAAqB,CAACD,gBAAD,CAA7B,CACA,GAAI5B,KAAJ,CAAW,CACV,CAJH,wDAlD+B,2DAyDhB8B,IAzDgB,+IAyD/B,0IACEvB,WAAW,GADb,uBAEQG,cAAa,EAFrB,QAGEkB,gBAAgB,GAHlB,wDAzD+B,sCA+D/BG,0BAAS,CAAC,UAAM,CACdR,OAAO,CAACC,GAAR,CAAY,aAAZ,EACAM,GAAG,GACHP,OAAO,CAACC,GAAR,CAAY,eAAZ,EACD,CAJQ,CAAT,CAMA,mBACE,mCAAK,KAAK,CAAE,CAAEQ,QAAQ,CAAE,UAAZ,CAAZ,wBACE,2BAAC,sBAAD,EACE,GAAG,CAAE5B,SADP,CAEE,QAAQ,KAFV,CAGE,KAAK,CAAE,CACL4B,QAAQ,CAAE,UADL,CAELlC,KAAK,CAAED,QAAQ,CAACC,KAFX,CAGLC,MAAM,CAAEF,QAAQ,CAACE,MAHZ,CAILhB,IAAI,CAAE,CAJD,CAKLkD,GAAG,CAAE,CALA,CAHT,EADF,cAYE,qCACE,GAAG,CAAE3B,SADP,CAEE,KAAK,CAAE,CACL0B,QAAQ,CAAE,UADL,CAELlC,KAAK,CAAED,QAAQ,CAACC,KAFX,CAGLC,MAAM,CAAEF,QAAQ,CAACE,MAHZ,CAILhB,IAAI,CAAE,CAJD,CAKLkD,GAAG,CAAE,CALA,CAFT,EAZF,GADF,CAyBD,C;;AC3GD,QAASC,IAAT,EAAe,CAEb,mBACE,kCAAK,SAAS,CAAC,KAAf,uBACE,qCAAQ,SAAS,CAAC,YAAlB,uBACI,2BAAC,MAAD,IADJ,EADF,EADF,CAOD,CAEcA,+CAAf,E;;ACXAC,mBAAQ,CAACC,MAAT,cACE,2BAAC,eAAD,CAAO,UAAP,wBACE,2BAAC,OAAD,IADF,EADF,CAIEC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAJF,E","file":"x","sourcesContent":["/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","import * as poseDetection from '@tensorflow-models/pose-detection'\n\n/**\n * Draw the keypoints and skeleton on the video.\n * @param poses A list of poses to render.\n * @param ctx The context object to draw on\n * @param scoreThreshold The minimum score needed\n */\nfunction drawResults(poses, ctx, scoreThreshold) {\n    if (!poses) return\n    for (const pose of poses) {\n        drawResult(pose, ctx, scoreThreshold);\n    }\n}\n\n/**\n  * Draw the keypoints and skeleton on the video.\n  * @param pose A pose with keypoints to render.\n  */\nfunction drawResult(pose, ctx, scoreThreshold) {\n    if (pose.keypoints != null) {\n        drawKeypoints(pose.keypoints, ctx, scoreThreshold);\n        // drawSkeleton(pose.keypoints, pose.id);\n    }\n}\n\n/**\n * Draw the keypoints on the video.\n * @param keypoints A list of keypoints.\n */\nfunction drawKeypoints(keypoints, ctx, scoreThreshold) {\n    // Hardcoding MoveNet in\n    const keypointInd = poseDetection.util.getKeypointIndexBySide(poseDetection.SupportedModels.MoveNet)\n    ctx.fillStyle = 'Red';\n    ctx.strokeStyle = 'White';\n    ctx.lineWidth = 2;\n\n    for (const i of keypointInd.middle) {\n        drawKeypoint(keypoints[i], ctx, scoreThreshold);\n    }\n\n    ctx.fillStyle = 'Green';\n    for (const i of keypointInd.left) {\n        drawKeypoint(keypoints[i], ctx, scoreThreshold);\n    }\n\n    ctx.fillStyle = 'Orange';\n    for (const i of keypointInd.right) {\n        drawKeypoint(keypoints[i], ctx, scoreThreshold);\n    }\n}\n\nfunction drawKeypoint(keypoint, ctx, scoreThreshold) {\n    // If score is null, just show the keypoint.\n    const score = keypoint.score != null ? keypoint.score : 1;\n    const minScore = scoreThreshold || 0;\n\n    if (score >= minScore) {\n        const circle = new Path2D();\n        circle.arc(keypoint.x, keypoint.y, 2, 0, 2 * Math.PI);\n        ctx.fill(circle);\n        ctx.stroke(circle);\n    }\n}\n\nexport { drawResults }","import React, { useRef, useEffect } from \"react\";\nimport \"@tensorflow/tfjs-core\";\nimport \"@tensorflow/tfjs-backend-webgl\";\nimport \"@tensorflow/tfjs-backend-wasm\";\nimport * as poseDetection from \"@tensorflow-models/pose-detection\";\nimport Webcam from \"react-webcam\";\nimport { drawResults } from \"../utils/drawUtils\";\n\nconst videoDim = {\n  width: 1280,\n  height: 720,\n};\n\nlet rafId;\nlet camera, detector;\nlet ctx;\n\nexport default function Camera() {\n  const webcamRef = useRef(null);\n  const canvasRef = useRef(null);\n\n  function setupCamera() {\n    camera = webcamRef.current;\n    ctx = canvasRef.current.getContext(\"2d\");\n  }\n\n  async function setupDetector() {\n    const model = poseDetection.SupportedModels.MoveNet;\n    const detectorConfig = {\n      modelType: poseDetection.movenet.modelType.MULTIPOSE_LIGHTNING,\n      minPoseScore: 0.2,\n      enableTracking: true,\n    };\n    detector = await poseDetection.createDetector(model, detectorConfig);\n  }\n\n  async function detect(detector) {\n    if (typeof camera === \"undefined\" || camera === null) return;\n    if (camera.video.readyState !== 4) return;\n    if (!detector) return;\n\n    const video = camera.video;\n    const videoWidth = video.videoWidth;\n    const videoHeight = video.videoHeight;\n\n    camera.video.width = videoWidth;\n    camera.video.height = videoHeight;\n\n    const poses = await detector.estimatePoses(video);\n    console.log(\"found poses:\");\n    console.log(poses);\n    drawCanvas(poses, videoWidth, videoHeight, canvasRef);\n  }\n\n  function drawCanvas(poses, videoWidth, videoHeight, canvas) {\n    const ctx = canvas.current.getContext(\"2d\");\n    canvas.current.videoWidth = videoWidth;\n    canvas.current.videoHeight = videoHeight;\n\n    drawResults(poses, ctx, 0);\n  }\n\n  async function renderResult() {\n    if (!detector) return;\n    await detect(detector);\n  }\n\n  async function renderPrediction() {\n    await renderResult();\n    rafId = requestAnimationFrame(renderPrediction);\n    if (rafId) {\n    }\n  }\n\n  async function run() {\n    setupCamera();\n    await setupDetector();\n    renderPrediction();\n  }\n\n  useEffect(() => {\n    console.log(\"LOADING ...\");\n    run();\n    console.log(\"DONE LOADING.\");\n  });\n\n  return (\n    <div style={{ position: \"relative\" }}>\n      <Webcam\n        ref={webcamRef}\n        mirrored\n        style={{\n          position: \"absolute\",\n          width: videoDim.width,\n          height: videoDim.height,\n          left: 0,\n          top: 0,\n        }}\n      />\n      <canvas\n        ref={canvasRef}\n        style={{\n          position: \"absolute\",\n          width: videoDim.width,\n          height: videoDim.height,\n          left: 0,\n          top: 0,\n        }}\n      />\n    </div>\n  );\n}\n","import React from \"react\"\nimport Camera from \"./components/Camera\"\n\n\nfunction App() {\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n          <Camera />\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"]}}