{"id":"NKbW","dependencies":[{"name":"/Users/alberttian/f21/playground/frontend/upload_video/.babelrc","includedInParent":true,"mtime":1634449693369},{"name":"/Users/alberttian/f21/playground/frontend/upload_video/package.json","includedInParent":true,"mtime":1634449883544},{"name":"@tensorflow/tfjs-core","loc":{"line":17,"column":20},"parent":"/Users/alberttian/f21/playground/frontend/upload_video/src/util.js","resolved":"/Users/alberttian/f21/playground/frontend/upload_video/node_modules/@tensorflow/tfjs-core/dist/index.js"},{"name":"./params","loc":{"line":18,"column":43},"parent":"/Users/alberttian/f21/playground/frontend/upload_video/src/util.js","resolved":"/Users/alberttian/f21/playground/frontend/upload_video/src/params.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.isMobile=o,exports.setBackendAndEnvFlags=a;var e=n(require(\"@tensorflow/tfjs-core\")),t=require(\"./params\");function r(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(\"default\"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(o,a,s):o[a]=e[a]}return o.default=e,n&&n.set(e,o),o}function o(){const e=/Android/i.test(navigator.userAgent),t=/iPhone|iPad|iPod/i.test(navigator.userAgent);return e||t}async function i(t){const r=e.engine();if(!(t in r.registryFactory))throw new Error(`${t} backend is not registed.`);if(t in r.registry){const r=e.findBackendFactory(t);e.removeBackend(t),e.registerBackend(t,r)}await e.setBackend(t)}async function a(r,n){if(null==r)return;if(\"object\"!=typeof r)throw new Error(`An object is expected, while a(n) ${typeof r} is found.`);for(const e in r){if(!(e in t.TUNABLE_FLAG_VALUE_RANGE_MAP))throw new Error(`${e} is not a tunable or valid environment flag.`);if(-1===t.TUNABLE_FLAG_VALUE_RANGE_MAP[e].indexOf(r[e]))throw new Error(`${e} value is expected to be in the range [${t.TUNABLE_FLAG_VALUE_RANGE_MAP[e]}], while ${r[e]}`+\" is found.\")}e.env().setFlags(r);const[o,a]=n.split(\"-\");\"tfjs\"===o&&await i(a)}"},"sourceMaps":{"js":{"mappings":[{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":0}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":13}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":20}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":35}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":43}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":56}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":57}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":64}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":68}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":76}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":85}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":87}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":95}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":117}},{"source":"src/util.js","original":{"line":17,"column":0},"generated":{"line":1,"column":119}},{"source":"src/util.js","original":{"line":17,"column":0},"generated":{"line":1,"column":123}},{"source":"src/util.js","original":{"line":17,"column":0},"generated":{"line":1,"column":125}},{"source":"src/util.js","original":{"line":17,"column":0},"generated":{"line":1,"column":127}},{"source":"src/util.js","original":{"line":17,"column":0},"generated":{"line":1,"column":135}},{"source":"src/util.js","original":{"line":18,"column":0},"generated":{"line":1,"column":161}},{"source":"src/util.js","original":{"line":18,"column":0},"generated":{"line":1,"column":163}},{"source":"src/util.js","original":{"line":18,"column":0},"generated":{"line":1,"column":171}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":183}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":192}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":194}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":197}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":200}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":219}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":227}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":234}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":239}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":243}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":245}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":249}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":257}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":259}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":263}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":271}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":278}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":280}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":289}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":292}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":299}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":301}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":303}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":307}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":310}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":319}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":321}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":323}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":326}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":330}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":333}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":336}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":338}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":349}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":356}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":358}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":361}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":368}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":371}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":388}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":391}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":410}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":412}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":418}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":419}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":427}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":430}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":434}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":436}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":438}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":441}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":444}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":447}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":449}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":453}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":456}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":463}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":465}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":469}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":472}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":476}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":478}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":481}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":483}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":490}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":506}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":513}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":538}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":542}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":546}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":551}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":553}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":556}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":568}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":571}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":578}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":588}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":603}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":608}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":610}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":613}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":614}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":618}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":620}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":622}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":629}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":654}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":656}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":659}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":664}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":668}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":670}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":675}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":677}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":682}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":689}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":704}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":706}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":708}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":711}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":713}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":716}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":718}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":721}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":728}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":730}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":738}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":740}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":743}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":745}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":749}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":751}},{"source":"src/util.js","original":{"line":93,"column":1},"generated":{"line":1,"column":754}},{"source":"src/util.js","original":{"line":20,"column":7},"generated":{"line":1,"column":756}},{"source":"src/util.js","name":"isMobile","original":{"line":20,"column":16},"generated":{"line":1,"column":765}},{"source":"src/util.js","name":"isAndroid","original":{"line":21,"column":8},"generated":{"line":1,"column":769}},{"source":"src/util.js","name":"isAndroid","original":{"line":21,"column":8},"generated":{"line":1,"column":775}},{"source":"src/util.js","original":{"line":21,"column":20},"generated":{"line":1,"column":777}},{"source":"src/util.js","name":"test","original":{"line":21,"column":31},"generated":{"line":1,"column":788}},{"source":"src/util.js","name":"navigator","original":{"line":21,"column":36},"generated":{"line":1,"column":793}},{"source":"src/util.js","name":"userAgent","original":{"line":21,"column":46},"generated":{"line":1,"column":803}},{"source":"src/util.js","name":"isiOS","original":{"line":22,"column":8},"generated":{"line":1,"column":814}},{"source":"src/util.js","original":{"line":22,"column":16},"generated":{"line":1,"column":816}},{"source":"src/util.js","name":"test","original":{"line":22,"column":36},"generated":{"line":1,"column":836}},{"source":"src/util.js","name":"navigator","original":{"line":22,"column":41},"generated":{"line":1,"column":841}},{"source":"src/util.js","name":"userAgent","original":{"line":22,"column":51},"generated":{"line":1,"column":851}},{"source":"src/util.js","name":"isAndroid","original":{"line":23,"column":9},"generated":{"line":1,"column":862}},{"source":"src/util.js","name":"isAndroid","original":{"line":23,"column":9},"generated":{"line":1,"column":869}},{"source":"src/util.js","name":"isiOS","original":{"line":23,"column":22},"generated":{"line":1,"column":872}},{"source":"src/util.js","original":{"line":31,"column":0},"generated":{"line":1,"column":874}},{"source":"src/util.js","name":"resetBackend","original":{"line":31,"column":15},"generated":{"line":1,"column":889}},{"source":"src/util.js","name":"backendName","original":{"line":31,"column":28},"generated":{"line":1,"column":891}},{"source":"src/util.js","name":"ENGINE","original":{"line":32,"column":8},"generated":{"line":1,"column":894}},{"source":"src/util.js","name":"ENGINE","original":{"line":32,"column":8},"generated":{"line":1,"column":900}},{"source":"src/util.js","name":"tf","original":{"line":32,"column":17},"generated":{"line":1,"column":902}},{"source":"src/util.js","name":"engine","original":{"line":32,"column":20},"generated":{"line":1,"column":904}},{"source":"src/util.js","original":{"line":33,"column":6},"generated":{"line":1,"column":913}},{"source":"src/util.js","name":"backendName","original":{"line":33,"column":8},"generated":{"line":1,"column":918}},{"source":"src/util.js","name":"ENGINE","original":{"line":33,"column":23},"generated":{"line":1,"column":923}},{"source":"src/util.js","name":"registryFactory","original":{"line":33,"column":30},"generated":{"line":1,"column":925}},{"source":"src/util.js","original":{"line":34,"column":10},"generated":{"line":1,"column":942}},{"source":"src/util.js","original":{"line":34,"column":10},"generated":{"line":1,"column":948}},{"source":"src/util.js","name":"Error","original":{"line":34,"column":14},"generated":{"line":1,"column":952}},{"source":"src/util.js","name":"backendName","original":{"line":34,"column":23},"generated":{"line":1,"column":961}},{"source":"src/util.js","name":"backendName","original":{"line":37,"column":6},"generated":{"line":1,"column":991}},{"source":"src/util.js","name":"backendName","original":{"line":37,"column":6},"generated":{"line":1,"column":994}},{"source":"src/util.js","name":"ENGINE","original":{"line":37,"column":21},"generated":{"line":1,"column":999}},{"source":"src/util.js","name":"registry","original":{"line":37,"column":28},"generated":{"line":1,"column":1001}},{"source":"src/util.js","original":{"line":37,"column":38},"generated":{"line":1,"column":1010}},{"source":"src/util.js","name":"backendFactory","original":{"line":38,"column":10},"generated":{"line":1,"column":1011}},{"source":"src/util.js","name":"backendFactory","original":{"line":38,"column":10},"generated":{"line":1,"column":1017}},{"source":"src/util.js","name":"tf","original":{"line":38,"column":27},"generated":{"line":1,"column":1019}},{"source":"src/util.js","name":"findBackendFactory","original":{"line":38,"column":30},"generated":{"line":1,"column":1021}},{"source":"src/util.js","name":"backendName","original":{"line":38,"column":49},"generated":{"line":1,"column":1040}},{"source":"src/util.js","name":"tf","original":{"line":39,"column":4},"generated":{"line":1,"column":1043}},{"source":"src/util.js","name":"removeBackend","original":{"line":39,"column":7},"generated":{"line":1,"column":1045}},{"source":"src/util.js","name":"backendName","original":{"line":39,"column":21},"generated":{"line":1,"column":1059}},{"source":"src/util.js","name":"tf","original":{"line":40,"column":4},"generated":{"line":1,"column":1062}},{"source":"src/util.js","name":"registerBackend","original":{"line":40,"column":7},"generated":{"line":1,"column":1064}},{"source":"src/util.js","name":"backendName","original":{"line":40,"column":23},"generated":{"line":1,"column":1080}},{"source":"src/util.js","name":"backendFactory","original":{"line":40,"column":36},"generated":{"line":1,"column":1082}},{"source":"src/util.js","name":"tf","original":{"line":43,"column":8},"generated":{"line":1,"column":1091}},{"source":"src/util.js","name":"setBackend","original":{"line":43,"column":11},"generated":{"line":1,"column":1093}},{"source":"src/util.js","name":"backendName","original":{"line":43,"column":22},"generated":{"line":1,"column":1104}},{"source":"src/util.js","original":{"line":64,"column":7},"generated":{"line":1,"column":1107}},{"source":"src/util.js","name":"setBackendAndEnvFlags","original":{"line":64,"column":22},"generated":{"line":1,"column":1122}},{"source":"src/util.js","name":"flagConfig","original":{"line":64,"column":44},"generated":{"line":1,"column":1124}},{"source":"src/util.js","name":"backend","original":{"line":64,"column":56},"generated":{"line":1,"column":1126}},{"source":"src/util.js","name":"flagConfig","original":{"line":65,"column":6},"generated":{"line":1,"column":1129}},{"source":"src/util.js","original":{"line":65,"column":20},"generated":{"line":1,"column":1132}},{"source":"src/util.js","name":"flagConfig","original":{"line":65,"column":6},"generated":{"line":1,"column":1138}},{"source":"src/util.js","original":{"line":66,"column":4},"generated":{"line":1,"column":1140}},{"source":"src/util.js","original":{"line":67,"column":9},"generated":{"line":1,"column":1147}},{"source":"src/util.js","original":{"line":67,"column":35},"generated":{"line":1,"column":1150}},{"source":"src/util.js","name":"flagConfig","original":{"line":67,"column":20},"generated":{"line":1,"column":1167}},{"source":"src/util.js","original":{"line":68,"column":10},"generated":{"line":1,"column":1169}},{"source":"src/util.js","original":{"line":68,"column":10},"generated":{"line":1,"column":1175}},{"source":"src/util.js","name":"Error","original":{"line":68,"column":14},"generated":{"line":1,"column":1179}},{"source":"src/util.js","name":"flagConfig","original":{"line":69,"column":52},"generated":{"line":1,"column":1229}},{"source":"src/util.js","original":{"line":73,"column":7},"generated":{"line":1,"column":1244}},{"source":"src/util.js","original":{"line":73,"column":7},"generated":{"line":1,"column":1248}},{"source":"src/util.js","name":"flag","original":{"line":73,"column":13},"generated":{"line":1,"column":1254}},{"source":"src/util.js","name":"flagConfig","original":{"line":73,"column":21},"generated":{"line":1,"column":1259}},{"source":"src/util.js","original":{"line":73,"column":33},"generated":{"line":1,"column":1261}},{"source":"src/util.js","original":{"line":75,"column":8},"generated":{"line":1,"column":1262}},{"source":"src/util.js","name":"flag","original":{"line":75,"column":10},"generated":{"line":1,"column":1267}},{"source":"src/util.js","name":"TUNABLE_FLAG_VALUE_RANGE_MAP","original":{"line":75,"column":18},"generated":{"line":1,"column":1272}},{"source":"src/util.js","original":{"line":75,"column":8},"generated":{"line":1,"column":1274}},{"source":"src/util.js","original":{"line":76,"column":12},"generated":{"line":1,"column":1304}},{"source":"src/util.js","original":{"line":76,"column":12},"generated":{"line":1,"column":1310}},{"source":"src/util.js","name":"Error","original":{"line":76,"column":16},"generated":{"line":1,"column":1314}},{"source":"src/util.js","name":"flag","original":{"line":76,"column":25},"generated":{"line":1,"column":1323}},{"source":"src/util.js","name":"TUNABLE_FLAG_VALUE_RANGE_MAP","original":{"line":78,"column":8},"generated":{"line":1,"column":1372}},{"source":"src/util.js","original":{"line":78,"column":74},"generated":{"line":1,"column":1376}},{"source":"src/util.js","name":"TUNABLE_FLAG_VALUE_RANGE_MAP","original":{"line":78,"column":8},"generated":{"line":1,"column":1380}},{"source":"src/util.js","name":"flag","original":{"line":78,"column":37},"generated":{"line":1,"column":1382}},{"source":"src/util.js","name":"flag","original":{"line":78,"column":37},"generated":{"line":1,"column":1411}},{"source":"src/util.js","name":"indexOf","original":{"line":78,"column":43},"generated":{"line":1,"column":1414}},{"source":"src/util.js","name":"flagConfig","original":{"line":78,"column":51},"generated":{"line":1,"column":1422}},{"source":"src/util.js","name":"flag","original":{"line":78,"column":62},"generated":{"line":1,"column":1424}},{"source":"src/util.js","original":{"line":79,"column":12},"generated":{"line":1,"column":1428}},{"source":"src/util.js","original":{"line":79,"column":12},"generated":{"line":1,"column":1434}},{"source":"src/util.js","name":"Error","original":{"line":79,"column":16},"generated":{"line":1,"column":1438}},{"source":"src/util.js","name":"flag","original":{"line":80,"column":13},"generated":{"line":1,"column":1447}},{"source":"src/util.js","name":"TUNABLE_FLAG_VALUE_RANGE_MAP","original":{"line":81,"column":14},"generated":{"line":1,"column":1490}},{"source":"src/util.js","name":"flag","original":{"line":81,"column":43},"generated":{"line":1,"column":1492}},{"source":"src/util.js","name":"flag","original":{"line":81,"column":43},"generated":{"line":1,"column":1521}},{"source":"src/util.js","name":"flagConfig","original":{"line":81,"column":60},"generated":{"line":1,"column":1535}},{"source":"src/util.js","name":"flag","original":{"line":81,"column":71},"generated":{"line":1,"column":1537}},{"source":"src/util.js","original":{"line":82,"column":10},"generated":{"line":1,"column":1542}},{"source":"src/util.js","name":"tf","original":{"line":86,"column":2},"generated":{"line":1,"column":1556}},{"source":"src/util.js","name":"env","original":{"line":86,"column":5},"generated":{"line":1,"column":1558}},{"source":"src/util.js","name":"setFlags","original":{"line":86,"column":11},"generated":{"line":1,"column":1564}},{"source":"src/util.js","name":"flagConfig","original":{"line":86,"column":20},"generated":{"line":1,"column":1573}},{"source":"src/util.js","original":{"line":88,"column":8},"generated":{"line":1,"column":1576}},{"source":"src/util.js","name":"runtime","original":{"line":88,"column":9},"generated":{"line":1,"column":1582}},{"source":"src/util.js","name":"$backend","original":{"line":88,"column":18},"generated":{"line":1,"column":1584}},{"source":"src/util.js","name":"backend","original":{"line":88,"column":30},"generated":{"line":1,"column":1587}},{"source":"src/util.js","name":"split","original":{"line":88,"column":38},"generated":{"line":1,"column":1589}},{"source":"src/util.js","original":{"line":88,"column":44},"generated":{"line":1,"column":1595}},{"source":"src/util.js","original":{"line":90,"column":18},"generated":{"line":1,"column":1600}},{"source":"src/util.js","name":"runtime","original":{"line":90,"column":6},"generated":{"line":1,"column":1609}},{"source":"src/util.js","name":"resetBackend","original":{"line":91,"column":10},"generated":{"line":1,"column":1618}},{"source":"src/util.js","name":"$backend","original":{"line":91,"column":23},"generated":{"line":1,"column":1620}}],"sources":{"src/util.js":"/**\n * @license\n * Copyright 2021 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport * as tf from '@tensorflow/tfjs-core';\nimport {TUNABLE_FLAG_VALUE_RANGE_MAP} from './params';\n\nexport function isMobile() {\n  const isAndroid = /Android/i.test(navigator.userAgent);\n  const isiOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);\n  return isAndroid || isiOS;\n}\n\n/**\n * Reset the target backend.\n *\n * @param backendName The name of the backend to be reset.\n */\nasync function resetBackend(backendName) {\n  const ENGINE = tf.engine();\n  if (!(backendName in ENGINE.registryFactory)) {\n    throw new Error(`${backendName} backend is not registed.`);\n  }\n\n  if (backendName in ENGINE.registry) {\n    const backendFactory = tf.findBackendFactory(backendName);\n    tf.removeBackend(backendName);\n    tf.registerBackend(backendName, backendFactory);\n  }\n\n  await tf.setBackend(backendName);\n}\n\n/**\n * Set environment flags.\n *\n * This is a wrapper function of `tf.env().setFlags()` to constrain users to\n * only set tunable flags (the keys of `TUNABLE_FLAG_TYPE_MAP`).\n *\n * ```js\n * const flagConfig = {\n *        WEBGL_PACK: false,\n *      };\n * await setEnvFlags(flagConfig);\n *\n * console.log(tf.env().getBool('WEBGL_PACK')); // false\n * console.log(tf.env().getBool('WEBGL_PACK_BINARY_OPERATIONS')); // false\n * ```\n *\n * @param flagConfig An object to store flag-value pairs.\n */\nexport async function setBackendAndEnvFlags(flagConfig, backend) {\n  if (flagConfig == null) {\n    return;\n  } else if (typeof flagConfig !== 'object') {\n    throw new Error(\n        `An object is expected, while a(n) ${typeof flagConfig} is found.`);\n  }\n\n  // Check the validation of flags and values.\n  for (const flag in flagConfig) {\n    // TODO: check whether flag can be set as flagConfig[flag].\n    if (!(flag in TUNABLE_FLAG_VALUE_RANGE_MAP)) {\n      throw new Error(`${flag} is not a tunable or valid environment flag.`);\n    }\n    if (TUNABLE_FLAG_VALUE_RANGE_MAP[flag].indexOf(flagConfig[flag]) === -1) {\n      throw new Error(\n          `${flag} value is expected to be in the range [${\n              TUNABLE_FLAG_VALUE_RANGE_MAP[flag]}], while ${flagConfig[flag]}` +\n          ' is found.');\n    }\n  }\n\n  tf.env().setFlags(flagConfig);\n\n  const [runtime, $backend] = backend.split('-');\n\n  if (runtime === 'tfjs') {\n    await resetBackend($backend);\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"10cc40131388232f50b7dcd2b0714f16","cacheData":{"env":{}}}