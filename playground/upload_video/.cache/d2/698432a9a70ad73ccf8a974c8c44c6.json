{"id":"rxPu","dependencies":[{"name":"/Users/alberttian/f21/playground/frontend/upload_video/.babelrc","includedInParent":true,"mtime":1634449693369},{"name":"/Users/alberttian/f21/playground/frontend/upload_video/package.json","includedInParent":true,"mtime":1634449883544},{"name":"@tensorflow-models/pose-detection","loc":{"line":17,"column":31},"parent":"/Users/alberttian/f21/playground/frontend/upload_video/src/camera.js","resolved":"/Users/alberttian/f21/playground/frontend/upload_video/node_modules/@tensorflow-models/pose-detection/dist/pose-detection.esm.js"},{"name":"./params","loc":{"line":19,"column":24},"parent":"/Users/alberttian/f21/playground/frontend/upload_video/src/camera.js","resolved":"/Users/alberttian/f21/playground/frontend/upload_video/src/params.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Context=void 0;var e=i(require(\"@tensorflow-models/pose-detection\")),t=i(require(\"./params\"));function o(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(o=function(e){return e?i:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var i=o(t);if(i&&i.has(e))return i.get(e);var r={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if(\"default\"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var a=s?Object.getOwnPropertyDescriptor(e,n):null;a&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n]}return r.default=e,i&&i.set(e,r),r}class r{constructor(){this.video=document.getElementById(\"video\"),this.canvas=document.getElementById(\"output\"),this.source=document.getElementById(\"currentVID\"),this.ctx=this.canvas.getContext(\"2d\");const e=this.canvas.captureStream();this.mediaRecorder=new MediaRecorder(e,{mimeType:\"video/webm; codecs=vp9\"}),this.mediaRecorder.ondataavailable=this.handleDataAvailable}drawCtx(){this.ctx.drawImage(this.video,0,0,this.video.videoWidth,this.video.videoHeight)}clearCtx(){this.ctx.clearRect(0,0,this.video.videoWidth,this.video.videoHeight)}drawResults(e){for(const t of e)this.drawResult(t)}drawResult(e){null!=e.keypoints&&(this.drawKeypoints(e.keypoints),this.drawSkeleton(e.keypoints))}drawKeypoints(o){const i=e.util.getKeypointIndexBySide(t.STATE.model);this.ctx.fillStyle=\"White\",this.ctx.strokeStyle=\"White\",this.ctx.lineWidth=t.DEFAULT_LINE_WIDTH;for(const e of i.middle)this.drawKeypoint(o[e]);this.ctx.fillStyle=\"Green\";for(const e of i.left)this.drawKeypoint(o[e]);this.ctx.fillStyle=\"Orange\";for(const e of i.right)this.drawKeypoint(o[e])}drawKeypoint(e){if((null!=e.score?e.score:1)>=(t.STATE.modelConfig.scoreThreshold||0)){const o=new Path2D;o.arc(e.x,e.y,t.DEFAULT_RADIUS,0,2*Math.PI),this.ctx.fill(o),this.ctx.stroke(o)}}drawSkeleton(o){this.ctx.fillStyle=\"White\",this.ctx.strokeStyle=\"White\",this.ctx.lineWidth=t.DEFAULT_LINE_WIDTH,e.util.getAdjacentPairs(t.STATE.model).forEach(([e,i])=>{const r=o[e],s=o[i],n=null!=r.score?r.score:1,a=null!=s.score?s.score:1,c=t.STATE.modelConfig.scoreThreshold||0;n>=c&&a>=c&&(this.ctx.beginPath(),this.ctx.moveTo(r.x,r.y),this.ctx.lineTo(s.x,s.y),this.ctx.stroke())})}start(){this.mediaRecorder.start()}stop(){this.mediaRecorder.stop()}handleDataAvailable(e){if(e.data.size>0){const t=[e.data],o=new Blob(t,{type:\"video/webm\"}),i=URL.createObjectURL(o),r=document.createElement(\"a\");document.body.appendChild(r),r.style=\"display: none\",r.href=i,r.download=\"pose.webm\",r.click(),window.URL.revokeObjectURL(i)}}}exports.Context=r;"},"sourceMaps":{"js":{"mappings":[{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":0}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":13}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":20}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":35}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":43}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":56}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":57}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":64}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":68}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":76}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":89}},{"source":"src/camera.js","original":{"line":17,"column":0},"generated":{"line":1,"column":91}},{"source":"src/camera.js","original":{"line":17,"column":0},"generated":{"line":1,"column":95}},{"source":"src/camera.js","original":{"line":17,"column":0},"generated":{"line":1,"column":97}},{"source":"src/camera.js","original":{"line":17,"column":0},"generated":{"line":1,"column":99}},{"source":"src/camera.js","original":{"line":17,"column":0},"generated":{"line":1,"column":107}},{"source":"src/camera.js","original":{"line":19,"column":0},"generated":{"line":1,"column":145}},{"source":"src/camera.js","original":{"line":19,"column":0},"generated":{"line":1,"column":147}},{"source":"src/camera.js","original":{"line":19,"column":0},"generated":{"line":1,"column":149}},{"source":"src/camera.js","original":{"line":19,"column":0},"generated":{"line":1,"column":157}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":170}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":179}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":181}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":184}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":187}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":206}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":214}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":221}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":226}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":230}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":232}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":236}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":244}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":246}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":250}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":258}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":265}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":267}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":276}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":279}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":286}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":288}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":290}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":294}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":297}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":306}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":308}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":310}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":313}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":317}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":320}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":323}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":325}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":336}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":343}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":345}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":348}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":355}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":358}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":375}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":378}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":397}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":399}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":405}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":406}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":414}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":417}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":421}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":423}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":425}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":428}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":431}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":434}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":436}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":440}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":443}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":450}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":452}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":456}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":459}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":463}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":465}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":468}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":470}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":477}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":493}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":500}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":525}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":529}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":533}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":538}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":540}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":543}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":555}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":558}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":565}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":575}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":590}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":595}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":597}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":600}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":601}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":605}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":607}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":609}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":616}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":641}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":643}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":646}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":651}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":655}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":657}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":662}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":664}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":669}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":676}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":691}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":693}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":695}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":698}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":700}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":703}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":705}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":708}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":715}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":717}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":725}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":727}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":730}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":732}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":736}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":738}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":741}},{"source":"src/camera.js","original":{"line":21,"column":7},"generated":{"line":1,"column":743}},{"source":"src/camera.js","name":"Context","original":{"line":21,"column":13},"generated":{"line":1,"column":749}},{"source":"src/camera.js","name":"constructor","original":{"line":22,"column":2},"generated":{"line":1,"column":751}},{"source":"src/camera.js","name":"video","original":{"line":23,"column":9},"generated":{"line":1,"column":765}},{"source":"src/camera.js","name":"video","original":{"line":23,"column":9},"generated":{"line":1,"column":770}},{"source":"src/camera.js","name":"document","original":{"line":23,"column":17},"generated":{"line":1,"column":776}},{"source":"src/camera.js","name":"getElementById","original":{"line":23,"column":26},"generated":{"line":1,"column":785}},{"source":"src/camera.js","original":{"line":23,"column":41},"generated":{"line":1,"column":800}},{"source":"src/camera.js","name":"canvas","original":{"line":24,"column":9},"generated":{"line":1,"column":809}},{"source":"src/camera.js","name":"canvas","original":{"line":24,"column":9},"generated":{"line":1,"column":814}},{"source":"src/camera.js","name":"document","original":{"line":24,"column":18},"generated":{"line":1,"column":821}},{"source":"src/camera.js","name":"getElementById","original":{"line":24,"column":27},"generated":{"line":1,"column":830}},{"source":"src/camera.js","original":{"line":24,"column":42},"generated":{"line":1,"column":845}},{"source":"src/camera.js","name":"source","original":{"line":25,"column":9},"generated":{"line":1,"column":855}},{"source":"src/camera.js","name":"source","original":{"line":25,"column":9},"generated":{"line":1,"column":860}},{"source":"src/camera.js","name":"document","original":{"line":25,"column":18},"generated":{"line":1,"column":867}},{"source":"src/camera.js","name":"getElementById","original":{"line":25,"column":27},"generated":{"line":1,"column":876}},{"source":"src/camera.js","original":{"line":25,"column":42},"generated":{"line":1,"column":891}},{"source":"src/camera.js","name":"ctx","original":{"line":26,"column":9},"generated":{"line":1,"column":905}},{"source":"src/camera.js","name":"ctx","original":{"line":26,"column":9},"generated":{"line":1,"column":910}},{"source":"src/camera.js","original":{"line":26,"column":15},"generated":{"line":1,"column":914}},{"source":"src/camera.js","name":"canvas","original":{"line":26,"column":20},"generated":{"line":1,"column":919}},{"source":"src/camera.js","name":"getContext","original":{"line":26,"column":27},"generated":{"line":1,"column":926}},{"source":"src/camera.js","original":{"line":26,"column":38},"generated":{"line":1,"column":937}},{"source":"src/camera.js","name":"stream","original":{"line":27,"column":10},"generated":{"line":1,"column":943}},{"source":"src/camera.js","name":"stream","original":{"line":27,"column":10},"generated":{"line":1,"column":949}},{"source":"src/camera.js","original":{"line":27,"column":19},"generated":{"line":1,"column":951}},{"source":"src/camera.js","name":"canvas","original":{"line":27,"column":24},"generated":{"line":1,"column":956}},{"source":"src/camera.js","name":"captureStream","original":{"line":27,"column":31},"generated":{"line":1,"column":963}},{"source":"src/camera.js","name":"mediaRecorder","original":{"line":29,"column":9},"generated":{"line":1,"column":979}},{"source":"src/camera.js","name":"mediaRecorder","original":{"line":29,"column":9},"generated":{"line":1,"column":984}},{"source":"src/camera.js","original":{"line":29,"column":25},"generated":{"line":1,"column":998}},{"source":"src/camera.js","name":"MediaRecorder","original":{"line":29,"column":29},"generated":{"line":1,"column":1002}},{"source":"src/camera.js","name":"stream","original":{"line":29,"column":43},"generated":{"line":1,"column":1016}},{"source":"src/camera.js","original":{"line":28,"column":20},"generated":{"line":1,"column":1018}},{"source":"src/camera.js","name":"mimeType","original":{"line":28,"column":21},"generated":{"line":1,"column":1019}},{"source":"src/camera.js","original":{"line":28,"column":31},"generated":{"line":1,"column":1028}},{"source":"src/camera.js","name":"mediaRecorder","original":{"line":30,"column":9},"generated":{"line":1,"column":1055}},{"source":"src/camera.js","name":"mediaRecorder","original":{"line":30,"column":9},"generated":{"line":1,"column":1060}},{"source":"src/camera.js","name":"ondataavailable","original":{"line":30,"column":23},"generated":{"line":1,"column":1074}},{"source":"src/camera.js","original":{"line":30,"column":41},"generated":{"line":1,"column":1090}},{"source":"src/camera.js","name":"handleDataAvailable","original":{"line":30,"column":46},"generated":{"line":1,"column":1095}},{"source":"src/camera.js","name":"drawCtx","original":{"line":33,"column":2},"generated":{"line":1,"column":1115}},{"source":"src/camera.js","name":"ctx","original":{"line":34,"column":9},"generated":{"line":1,"column":1125}},{"source":"src/camera.js","name":"ctx","original":{"line":34,"column":9},"generated":{"line":1,"column":1130}},{"source":"src/camera.js","name":"drawImage","original":{"line":34,"column":13},"generated":{"line":1,"column":1134}},{"source":"src/camera.js","original":{"line":35,"column":8},"generated":{"line":1,"column":1144}},{"source":"src/camera.js","name":"video","original":{"line":35,"column":13},"generated":{"line":1,"column":1149}},{"source":"src/camera.js","original":{"line":35,"column":20},"generated":{"line":1,"column":1155}},{"source":"src/camera.js","original":{"line":35,"column":23},"generated":{"line":1,"column":1157}},{"source":"src/camera.js","original":{"line":35,"column":26},"generated":{"line":1,"column":1159}},{"source":"src/camera.js","name":"video","original":{"line":35,"column":31},"generated":{"line":1,"column":1164}},{"source":"src/camera.js","name":"videoWidth","original":{"line":35,"column":37},"generated":{"line":1,"column":1170}},{"source":"src/camera.js","original":{"line":35,"column":49},"generated":{"line":1,"column":1181}},{"source":"src/camera.js","name":"video","original":{"line":35,"column":54},"generated":{"line":1,"column":1186}},{"source":"src/camera.js","name":"videoHeight","original":{"line":35,"column":60},"generated":{"line":1,"column":1192}},{"source":"src/camera.js","name":"clearCtx","original":{"line":38,"column":2},"generated":{"line":1,"column":1205}},{"source":"src/camera.js","name":"ctx","original":{"line":39,"column":9},"generated":{"line":1,"column":1216}},{"source":"src/camera.js","name":"ctx","original":{"line":39,"column":9},"generated":{"line":1,"column":1221}},{"source":"src/camera.js","name":"clearRect","original":{"line":39,"column":13},"generated":{"line":1,"column":1225}},{"source":"src/camera.js","original":{"line":39,"column":23},"generated":{"line":1,"column":1235}},{"source":"src/camera.js","original":{"line":39,"column":26},"generated":{"line":1,"column":1237}},{"source":"src/camera.js","original":{"line":39,"column":29},"generated":{"line":1,"column":1239}},{"source":"src/camera.js","name":"video","original":{"line":39,"column":34},"generated":{"line":1,"column":1244}},{"source":"src/camera.js","name":"videoWidth","original":{"line":39,"column":40},"generated":{"line":1,"column":1250}},{"source":"src/camera.js","original":{"line":39,"column":52},"generated":{"line":1,"column":1261}},{"source":"src/camera.js","name":"video","original":{"line":39,"column":57},"generated":{"line":1,"column":1266}},{"source":"src/camera.js","name":"videoHeight","original":{"line":39,"column":63},"generated":{"line":1,"column":1272}},{"source":"src/camera.js","name":"drawResults","original":{"line":46,"column":2},"generated":{"line":1,"column":1285}},{"source":"src/camera.js","name":"poses","original":{"line":46,"column":14},"generated":{"line":1,"column":1297}},{"source":"src/camera.js","original":{"line":47,"column":9},"generated":{"line":1,"column":1300}},{"source":"src/camera.js","original":{"line":47,"column":9},"generated":{"line":1,"column":1304}},{"source":"src/camera.js","name":"pose","original":{"line":47,"column":15},"generated":{"line":1,"column":1310}},{"source":"src/camera.js","name":"poses","original":{"line":47,"column":23},"generated":{"line":1,"column":1315}},{"source":"src/camera.js","name":"drawResult","original":{"line":48,"column":11},"generated":{"line":1,"column":1317}},{"source":"src/camera.js","name":"drawResult","original":{"line":48,"column":11},"generated":{"line":1,"column":1322}},{"source":"src/camera.js","name":"pose","original":{"line":48,"column":22},"generated":{"line":1,"column":1333}},{"source":"src/camera.js","name":"drawResult","original":{"line":56,"column":2},"generated":{"line":1,"column":1336}},{"source":"src/camera.js","name":"pose","original":{"line":56,"column":13},"generated":{"line":1,"column":1347}},{"source":"src/camera.js","original":{"line":57,"column":26},"generated":{"line":1,"column":1350}},{"source":"src/camera.js","name":"pose","original":{"line":57,"column":8},"generated":{"line":1,"column":1356}},{"source":"src/camera.js","name":"keypoints","original":{"line":57,"column":13},"generated":{"line":1,"column":1358}},{"source":"src/camera.js","name":"drawKeypoints","original":{"line":58,"column":11},"generated":{"line":1,"column":1370}},{"source":"src/camera.js","name":"drawKeypoints","original":{"line":58,"column":11},"generated":{"line":1,"column":1375}},{"source":"src/camera.js","name":"pose","original":{"line":58,"column":25},"generated":{"line":1,"column":1389}},{"source":"src/camera.js","name":"keypoints","original":{"line":58,"column":30},"generated":{"line":1,"column":1391}},{"source":"src/camera.js","name":"drawSkeleton","original":{"line":59,"column":11},"generated":{"line":1,"column":1402}},{"source":"src/camera.js","name":"drawSkeleton","original":{"line":59,"column":11},"generated":{"line":1,"column":1407}},{"source":"src/camera.js","name":"pose","original":{"line":59,"column":24},"generated":{"line":1,"column":1420}},{"source":"src/camera.js","name":"keypoints","original":{"line":59,"column":29},"generated":{"line":1,"column":1422}},{"source":"src/camera.js","name":"drawKeypoints","original":{"line":67,"column":2},"generated":{"line":1,"column":1434}},{"source":"src/camera.js","name":"keypoints","original":{"line":67,"column":16},"generated":{"line":1,"column":1448}},{"source":"src/camera.js","name":"keypointInd","original":{"line":68,"column":10},"generated":{"line":1,"column":1451}},{"source":"src/camera.js","name":"keypointInd","original":{"line":68,"column":10},"generated":{"line":1,"column":1457}},{"source":"src/camera.js","name":"posedetection","original":{"line":69,"column":8},"generated":{"line":1,"column":1459}},{"source":"src/camera.js","name":"util","original":{"line":69,"column":22},"generated":{"line":1,"column":1461}},{"source":"src/camera.js","name":"getKeypointIndexBySide","original":{"line":69,"column":27},"generated":{"line":1,"column":1466}},{"source":"src/camera.js","name":"params","original":{"line":69,"column":50},"generated":{"line":1,"column":1489}},{"source":"src/camera.js","name":"STATE","original":{"line":69,"column":57},"generated":{"line":1,"column":1491}},{"source":"src/camera.js","name":"model","original":{"line":69,"column":63},"generated":{"line":1,"column":1497}},{"source":"src/camera.js","name":"ctx","original":{"line":70,"column":9},"generated":{"line":1,"column":1504}},{"source":"src/camera.js","name":"ctx","original":{"line":70,"column":9},"generated":{"line":1,"column":1509}},{"source":"src/camera.js","name":"fillStyle","original":{"line":70,"column":13},"generated":{"line":1,"column":1513}},{"source":"src/camera.js","original":{"line":70,"column":25},"generated":{"line":1,"column":1523}},{"source":"src/camera.js","name":"ctx","original":{"line":71,"column":9},"generated":{"line":1,"column":1531}},{"source":"src/camera.js","name":"ctx","original":{"line":71,"column":9},"generated":{"line":1,"column":1536}},{"source":"src/camera.js","name":"strokeStyle","original":{"line":71,"column":13},"generated":{"line":1,"column":1540}},{"source":"src/camera.js","original":{"line":71,"column":27},"generated":{"line":1,"column":1552}},{"source":"src/camera.js","name":"ctx","original":{"line":72,"column":9},"generated":{"line":1,"column":1560}},{"source":"src/camera.js","name":"ctx","original":{"line":72,"column":9},"generated":{"line":1,"column":1565}},{"source":"src/camera.js","name":"lineWidth","original":{"line":72,"column":13},"generated":{"line":1,"column":1569}},{"source":"src/camera.js","name":"params","original":{"line":72,"column":25},"generated":{"line":1,"column":1579}},{"source":"src/camera.js","name":"DEFAULT_LINE_WIDTH","original":{"line":72,"column":32},"generated":{"line":1,"column":1581}},{"source":"src/camera.js","original":{"line":74,"column":9},"generated":{"line":1,"column":1600}},{"source":"src/camera.js","original":{"line":74,"column":9},"generated":{"line":1,"column":1604}},{"source":"src/camera.js","name":"i","original":{"line":74,"column":15},"generated":{"line":1,"column":1610}},{"source":"src/camera.js","name":"keypointInd","original":{"line":74,"column":20},"generated":{"line":1,"column":1615}},{"source":"src/camera.js","name":"middle","original":{"line":74,"column":32},"generated":{"line":1,"column":1617}},{"source":"src/camera.js","name":"drawKeypoint","original":{"line":75,"column":11},"generated":{"line":1,"column":1624}},{"source":"src/camera.js","name":"drawKeypoint","original":{"line":75,"column":11},"generated":{"line":1,"column":1629}},{"source":"src/camera.js","name":"keypoints","original":{"line":75,"column":24},"generated":{"line":1,"column":1642}},{"source":"src/camera.js","name":"i","original":{"line":75,"column":34},"generated":{"line":1,"column":1644}},{"source":"src/camera.js","name":"ctx","original":{"line":78,"column":9},"generated":{"line":1,"column":1648}},{"source":"src/camera.js","name":"ctx","original":{"line":78,"column":9},"generated":{"line":1,"column":1653}},{"source":"src/camera.js","name":"fillStyle","original":{"line":78,"column":13},"generated":{"line":1,"column":1657}},{"source":"src/camera.js","original":{"line":78,"column":25},"generated":{"line":1,"column":1667}},{"source":"src/camera.js","original":{"line":79,"column":9},"generated":{"line":1,"column":1675}},{"source":"src/camera.js","original":{"line":79,"column":9},"generated":{"line":1,"column":1679}},{"source":"src/camera.js","name":"i","original":{"line":79,"column":15},"generated":{"line":1,"column":1685}},{"source":"src/camera.js","name":"keypointInd","original":{"line":79,"column":20},"generated":{"line":1,"column":1690}},{"source":"src/camera.js","name":"left","original":{"line":79,"column":32},"generated":{"line":1,"column":1692}},{"source":"src/camera.js","name":"drawKeypoint","original":{"line":80,"column":11},"generated":{"line":1,"column":1697}},{"source":"src/camera.js","name":"drawKeypoint","original":{"line":80,"column":11},"generated":{"line":1,"column":1702}},{"source":"src/camera.js","name":"keypoints","original":{"line":80,"column":24},"generated":{"line":1,"column":1715}},{"source":"src/camera.js","name":"i","original":{"line":80,"column":34},"generated":{"line":1,"column":1717}},{"source":"src/camera.js","name":"ctx","original":{"line":83,"column":9},"generated":{"line":1,"column":1721}},{"source":"src/camera.js","name":"ctx","original":{"line":83,"column":9},"generated":{"line":1,"column":1726}},{"source":"src/camera.js","name":"fillStyle","original":{"line":83,"column":13},"generated":{"line":1,"column":1730}},{"source":"src/camera.js","original":{"line":83,"column":25},"generated":{"line":1,"column":1740}},{"source":"src/camera.js","original":{"line":84,"column":9},"generated":{"line":1,"column":1749}},{"source":"src/camera.js","original":{"line":84,"column":9},"generated":{"line":1,"column":1753}},{"source":"src/camera.js","name":"i","original":{"line":84,"column":15},"generated":{"line":1,"column":1759}},{"source":"src/camera.js","name":"keypointInd","original":{"line":84,"column":20},"generated":{"line":1,"column":1764}},{"source":"src/camera.js","name":"right","original":{"line":84,"column":32},"generated":{"line":1,"column":1766}},{"source":"src/camera.js","name":"drawKeypoint","original":{"line":85,"column":11},"generated":{"line":1,"column":1772}},{"source":"src/camera.js","name":"drawKeypoint","original":{"line":85,"column":11},"generated":{"line":1,"column":1777}},{"source":"src/camera.js","name":"keypoints","original":{"line":85,"column":24},"generated":{"line":1,"column":1790}},{"source":"src/camera.js","name":"i","original":{"line":85,"column":34},"generated":{"line":1,"column":1792}},{"source":"src/camera.js","name":"drawKeypoint","original":{"line":89,"column":2},"generated":{"line":1,"column":1796}},{"source":"src/camera.js","name":"keypoint","original":{"line":89,"column":15},"generated":{"line":1,"column":1809}},{"source":"src/camera.js","name":"score","original":{"line":94,"column":8},"generated":{"line":1,"column":1812}},{"source":"src/camera.js","original":{"line":91,"column":36},"generated":{"line":1,"column":1816}},{"source":"src/camera.js","name":"keypoint","original":{"line":91,"column":18},"generated":{"line":1,"column":1822}},{"source":"src/camera.js","name":"score","original":{"line":91,"column":27},"generated":{"line":1,"column":1824}},{"source":"src/camera.js","name":"keypoint","original":{"line":91,"column":43},"generated":{"line":1,"column":1830}},{"source":"src/camera.js","name":"score","original":{"line":91,"column":52},"generated":{"line":1,"column":1832}},{"source":"src/camera.js","original":{"line":91,"column":60},"generated":{"line":1,"column":1838}},{"source":"src/camera.js","name":"params","original":{"line":92,"column":27},"generated":{"line":1,"column":1843}},{"source":"src/camera.js","name":"STATE","original":{"line":92,"column":34},"generated":{"line":1,"column":1845}},{"source":"src/camera.js","name":"modelConfig","original":{"line":92,"column":40},"generated":{"line":1,"column":1851}},{"source":"src/camera.js","name":"scoreThreshold","original":{"line":92,"column":52},"generated":{"line":1,"column":1863}},{"source":"src/camera.js","original":{"line":92,"column":70},"generated":{"line":1,"column":1879}},{"source":"src/camera.js","original":{"line":94,"column":33},"generated":{"line":1,"column":1882}},{"source":"src/camera.js","name":"circle","original":{"line":95,"column":12},"generated":{"line":1,"column":1883}},{"source":"src/camera.js","name":"circle","original":{"line":95,"column":12},"generated":{"line":1,"column":1889}},{"source":"src/camera.js","original":{"line":95,"column":21},"generated":{"line":1,"column":1891}},{"source":"src/camera.js","name":"Path2D","original":{"line":95,"column":25},"generated":{"line":1,"column":1895}},{"source":"src/camera.js","name":"circle","original":{"line":96,"column":6},"generated":{"line":1,"column":1902}},{"source":"src/camera.js","name":"arc","original":{"line":96,"column":13},"generated":{"line":1,"column":1904}},{"source":"src/camera.js","name":"keypoint","original":{"line":96,"column":17},"generated":{"line":1,"column":1908}},{"source":"src/camera.js","name":"x","original":{"line":96,"column":26},"generated":{"line":1,"column":1910}},{"source":"src/camera.js","name":"keypoint","original":{"line":96,"column":29},"generated":{"line":1,"column":1912}},{"source":"src/camera.js","name":"y","original":{"line":96,"column":38},"generated":{"line":1,"column":1914}},{"source":"src/camera.js","name":"params","original":{"line":96,"column":41},"generated":{"line":1,"column":1916}},{"source":"src/camera.js","name":"DEFAULT_RADIUS","original":{"line":96,"column":48},"generated":{"line":1,"column":1918}},{"source":"src/camera.js","original":{"line":96,"column":64},"generated":{"line":1,"column":1933}},{"source":"src/camera.js","original":{"line":96,"column":67},"generated":{"line":1,"column":1935}},{"source":"src/camera.js","name":"Math","original":{"line":96,"column":71},"generated":{"line":1,"column":1937}},{"source":"src/camera.js","name":"PI","original":{"line":96,"column":76},"generated":{"line":1,"column":1942}},{"source":"src/camera.js","name":"ctx","original":{"line":97,"column":11},"generated":{"line":1,"column":1946}},{"source":"src/camera.js","name":"ctx","original":{"line":97,"column":11},"generated":{"line":1,"column":1951}},{"source":"src/camera.js","name":"fill","original":{"line":97,"column":15},"generated":{"line":1,"column":1955}},{"source":"src/camera.js","name":"circle","original":{"line":97,"column":20},"generated":{"line":1,"column":1960}},{"source":"src/camera.js","name":"ctx","original":{"line":98,"column":11},"generated":{"line":1,"column":1963}},{"source":"src/camera.js","name":"ctx","original":{"line":98,"column":11},"generated":{"line":1,"column":1968}},{"source":"src/camera.js","name":"stroke","original":{"line":98,"column":15},"generated":{"line":1,"column":1972}},{"source":"src/camera.js","name":"circle","original":{"line":98,"column":22},"generated":{"line":1,"column":1979}},{"source":"src/camera.js","name":"drawSkeleton","original":{"line":106,"column":2},"generated":{"line":1,"column":1983}},{"source":"src/camera.js","name":"keypoints","original":{"line":106,"column":15},"generated":{"line":1,"column":1996}},{"source":"src/camera.js","name":"ctx","original":{"line":107,"column":9},"generated":{"line":1,"column":1999}},{"source":"src/camera.js","name":"ctx","original":{"line":107,"column":9},"generated":{"line":1,"column":2004}},{"source":"src/camera.js","name":"fillStyle","original":{"line":107,"column":13},"generated":{"line":1,"column":2008}},{"source":"src/camera.js","original":{"line":107,"column":25},"generated":{"line":1,"column":2018}},{"source":"src/camera.js","name":"ctx","original":{"line":108,"column":9},"generated":{"line":1,"column":2026}},{"source":"src/camera.js","name":"ctx","original":{"line":108,"column":9},"generated":{"line":1,"column":2031}},{"source":"src/camera.js","name":"strokeStyle","original":{"line":108,"column":13},"generated":{"line":1,"column":2035}},{"source":"src/camera.js","original":{"line":108,"column":27},"generated":{"line":1,"column":2047}},{"source":"src/camera.js","name":"ctx","original":{"line":109,"column":9},"generated":{"line":1,"column":2055}},{"source":"src/camera.js","name":"ctx","original":{"line":109,"column":9},"generated":{"line":1,"column":2060}},{"source":"src/camera.js","name":"lineWidth","original":{"line":109,"column":13},"generated":{"line":1,"column":2064}},{"source":"src/camera.js","name":"params","original":{"line":109,"column":25},"generated":{"line":1,"column":2074}},{"source":"src/camera.js","name":"DEFAULT_LINE_WIDTH","original":{"line":109,"column":32},"generated":{"line":1,"column":2076}},{"source":"src/camera.js","name":"posedetection","original":{"line":111,"column":4},"generated":{"line":1,"column":2095}},{"source":"src/camera.js","name":"util","original":{"line":111,"column":18},"generated":{"line":1,"column":2097}},{"source":"src/camera.js","name":"getAdjacentPairs","original":{"line":111,"column":23},"generated":{"line":1,"column":2102}},{"source":"src/camera.js","name":"params","original":{"line":111,"column":40},"generated":{"line":1,"column":2119}},{"source":"src/camera.js","name":"STATE","original":{"line":111,"column":47},"generated":{"line":1,"column":2121}},{"source":"src/camera.js","name":"model","original":{"line":111,"column":53},"generated":{"line":1,"column":2127}},{"source":"src/camera.js","name":"forEach","original":{"line":111,"column":60},"generated":{"line":1,"column":2134}},{"source":"src/camera.js","original":{"line":111,"column":68},"generated":{"line":1,"column":2142}},{"source":"src/camera.js","name":"i","original":{"line":112,"column":70},"generated":{"line":1,"column":2144}},{"source":"src/camera.js","name":"j","original":{"line":112,"column":73},"generated":{"line":1,"column":2146}},{"source":"src/camera.js","name":"kp1","original":{"line":114,"column":12},"generated":{"line":1,"column":2152}},{"source":"src/camera.js","name":"kp1","original":{"line":114,"column":12},"generated":{"line":1,"column":2158}},{"source":"src/camera.js","name":"keypoints","original":{"line":114,"column":18},"generated":{"line":1,"column":2160}},{"source":"src/camera.js","name":"i","original":{"line":114,"column":28},"generated":{"line":1,"column":2162}},{"source":"src/camera.js","name":"kp2","original":{"line":115,"column":12},"generated":{"line":1,"column":2165}},{"source":"src/camera.js","name":"keypoints","original":{"line":115,"column":18},"generated":{"line":1,"column":2167}},{"source":"src/camera.js","name":"j","original":{"line":115,"column":28},"generated":{"line":1,"column":2169}},{"source":"src/camera.js","name":"score1","original":{"line":118,"column":12},"generated":{"line":1,"column":2172}},{"source":"src/camera.js","original":{"line":118,"column":34},"generated":{"line":1,"column":2174}},{"source":"src/camera.js","name":"kp1","original":{"line":118,"column":21},"generated":{"line":1,"column":2180}},{"source":"src/camera.js","name":"score","original":{"line":118,"column":25},"generated":{"line":1,"column":2182}},{"source":"src/camera.js","name":"kp1","original":{"line":118,"column":41},"generated":{"line":1,"column":2188}},{"source":"src/camera.js","name":"score","original":{"line":118,"column":45},"generated":{"line":1,"column":2190}},{"source":"src/camera.js","original":{"line":118,"column":53},"generated":{"line":1,"column":2196}},{"source":"src/camera.js","name":"score2","original":{"line":119,"column":12},"generated":{"line":1,"column":2198}},{"source":"src/camera.js","original":{"line":119,"column":34},"generated":{"line":1,"column":2200}},{"source":"src/camera.js","name":"kp2","original":{"line":119,"column":21},"generated":{"line":1,"column":2206}},{"source":"src/camera.js","name":"score","original":{"line":119,"column":25},"generated":{"line":1,"column":2208}},{"source":"src/camera.js","name":"kp2","original":{"line":119,"column":41},"generated":{"line":1,"column":2214}},{"source":"src/camera.js","name":"score","original":{"line":119,"column":45},"generated":{"line":1,"column":2216}},{"source":"src/camera.js","original":{"line":119,"column":53},"generated":{"line":1,"column":2222}},{"source":"src/camera.js","name":"scoreThreshold","original":{"line":120,"column":12},"generated":{"line":1,"column":2224}},{"source":"src/camera.js","name":"params","original":{"line":120,"column":29},"generated":{"line":1,"column":2226}},{"source":"src/camera.js","name":"STATE","original":{"line":120,"column":36},"generated":{"line":1,"column":2228}},{"source":"src/camera.js","name":"modelConfig","original":{"line":120,"column":42},"generated":{"line":1,"column":2234}},{"source":"src/camera.js","name":"scoreThreshold","original":{"line":120,"column":54},"generated":{"line":1,"column":2246}},{"source":"src/camera.js","original":{"line":120,"column":72},"generated":{"line":1,"column":2262}},{"source":"src/camera.js","name":"score1","original":{"line":122,"column":10},"generated":{"line":1,"column":2264}},{"source":"src/camera.js","name":"scoreThreshold","original":{"line":122,"column":20},"generated":{"line":1,"column":2267}},{"source":"src/camera.js","name":"score2","original":{"line":122,"column":38},"generated":{"line":1,"column":2270}},{"source":"src/camera.js","name":"scoreThreshold","original":{"line":122,"column":48},"generated":{"line":1,"column":2273}},{"source":"src/camera.js","name":"ctx","original":{"line":123,"column":13},"generated":{"line":1,"column":2277}},{"source":"src/camera.js","name":"ctx","original":{"line":123,"column":13},"generated":{"line":1,"column":2282}},{"source":"src/camera.js","name":"beginPath","original":{"line":123,"column":17},"generated":{"line":1,"column":2286}},{"source":"src/camera.js","name":"ctx","original":{"line":124,"column":13},"generated":{"line":1,"column":2298}},{"source":"src/camera.js","name":"ctx","original":{"line":124,"column":13},"generated":{"line":1,"column":2303}},{"source":"src/camera.js","name":"moveTo","original":{"line":124,"column":17},"generated":{"line":1,"column":2307}},{"source":"src/camera.js","name":"kp1","original":{"line":124,"column":24},"generated":{"line":1,"column":2314}},{"source":"src/camera.js","name":"x","original":{"line":124,"column":28},"generated":{"line":1,"column":2316}},{"source":"src/camera.js","name":"kp1","original":{"line":124,"column":31},"generated":{"line":1,"column":2318}},{"source":"src/camera.js","name":"y","original":{"line":124,"column":35},"generated":{"line":1,"column":2320}},{"source":"src/camera.js","name":"ctx","original":{"line":125,"column":13},"generated":{"line":1,"column":2323}},{"source":"src/camera.js","name":"ctx","original":{"line":125,"column":13},"generated":{"line":1,"column":2328}},{"source":"src/camera.js","name":"lineTo","original":{"line":125,"column":17},"generated":{"line":1,"column":2332}},{"source":"src/camera.js","name":"kp2","original":{"line":125,"column":24},"generated":{"line":1,"column":2339}},{"source":"src/camera.js","name":"x","original":{"line":125,"column":28},"generated":{"line":1,"column":2341}},{"source":"src/camera.js","name":"kp2","original":{"line":125,"column":31},"generated":{"line":1,"column":2343}},{"source":"src/camera.js","name":"y","original":{"line":125,"column":35},"generated":{"line":1,"column":2345}},{"source":"src/camera.js","name":"ctx","original":{"line":126,"column":13},"generated":{"line":1,"column":2348}},{"source":"src/camera.js","name":"ctx","original":{"line":126,"column":13},"generated":{"line":1,"column":2353}},{"source":"src/camera.js","name":"stroke","original":{"line":126,"column":17},"generated":{"line":1,"column":2357}},{"source":"src/camera.js","name":"start","original":{"line":131,"column":2},"generated":{"line":1,"column":2369}},{"source":"src/camera.js","name":"mediaRecorder","original":{"line":132,"column":9},"generated":{"line":1,"column":2377}},{"source":"src/camera.js","name":"mediaRecorder","original":{"line":132,"column":9},"generated":{"line":1,"column":2382}},{"source":"src/camera.js","name":"start","original":{"line":132,"column":23},"generated":{"line":1,"column":2396}},{"source":"src/camera.js","name":"stop","original":{"line":135,"column":2},"generated":{"line":1,"column":2404}},{"source":"src/camera.js","name":"mediaRecorder","original":{"line":136,"column":9},"generated":{"line":1,"column":2411}},{"source":"src/camera.js","name":"mediaRecorder","original":{"line":136,"column":9},"generated":{"line":1,"column":2416}},{"source":"src/camera.js","name":"stop","original":{"line":136,"column":23},"generated":{"line":1,"column":2430}},{"source":"src/camera.js","name":"handleDataAvailable","original":{"line":139,"column":2},"generated":{"line":1,"column":2437}},{"source":"src/camera.js","name":"event","original":{"line":139,"column":22},"generated":{"line":1,"column":2457}},{"source":"src/camera.js","name":"event","original":{"line":140,"column":8},"generated":{"line":1,"column":2460}},{"source":"src/camera.js","name":"event","original":{"line":140,"column":8},"generated":{"line":1,"column":2463}},{"source":"src/camera.js","name":"data","original":{"line":140,"column":14},"generated":{"line":1,"column":2465}},{"source":"src/camera.js","name":"size","original":{"line":140,"column":19},"generated":{"line":1,"column":2470}},{"source":"src/camera.js","original":{"line":140,"column":26},"generated":{"line":1,"column":2475}},{"source":"src/camera.js","original":{"line":140,"column":29},"generated":{"line":1,"column":2477}},{"source":"src/camera.js","name":"recordedChunks","original":{"line":141,"column":12},"generated":{"line":1,"column":2478}},{"source":"src/camera.js","name":"recordedChunks","original":{"line":141,"column":12},"generated":{"line":1,"column":2484}},{"source":"src/camera.js","original":{"line":141,"column":29},"generated":{"line":1,"column":2486}},{"source":"src/camera.js","name":"event","original":{"line":141,"column":30},"generated":{"line":1,"column":2487}},{"source":"src/camera.js","name":"data","original":{"line":141,"column":36},"generated":{"line":1,"column":2489}},{"source":"src/camera.js","name":"blob","original":{"line":144,"column":12},"generated":{"line":1,"column":2495}},{"source":"src/camera.js","original":{"line":144,"column":19},"generated":{"line":1,"column":2497}},{"source":"src/camera.js","name":"Blob","original":{"line":144,"column":23},"generated":{"line":1,"column":2501}},{"source":"src/camera.js","name":"recordedChunks","original":{"line":144,"column":28},"generated":{"line":1,"column":2506}},{"source":"src/camera.js","original":{"line":144,"column":44},"generated":{"line":1,"column":2508}},{"source":"src/camera.js","name":"type","original":{"line":144,"column":45},"generated":{"line":1,"column":2509}},{"source":"src/camera.js","original":{"line":144,"column":51},"generated":{"line":1,"column":2514}},{"source":"src/camera.js","name":"url","original":{"line":145,"column":12},"generated":{"line":1,"column":2529}},{"source":"src/camera.js","name":"URL","original":{"line":145,"column":18},"generated":{"line":1,"column":2531}},{"source":"src/camera.js","name":"createObjectURL","original":{"line":145,"column":22},"generated":{"line":1,"column":2535}},{"source":"src/camera.js","name":"blob","original":{"line":145,"column":38},"generated":{"line":1,"column":2551}},{"source":"src/camera.js","name":"a","original":{"line":146,"column":12},"generated":{"line":1,"column":2554}},{"source":"src/camera.js","name":"document","original":{"line":146,"column":16},"generated":{"line":1,"column":2556}},{"source":"src/camera.js","name":"createElement","original":{"line":146,"column":25},"generated":{"line":1,"column":2565}},{"source":"src/camera.js","original":{"line":146,"column":39},"generated":{"line":1,"column":2579}},{"source":"src/camera.js","name":"document","original":{"line":147,"column":6},"generated":{"line":1,"column":2584}},{"source":"src/camera.js","name":"body","original":{"line":147,"column":15},"generated":{"line":1,"column":2593}},{"source":"src/camera.js","name":"appendChild","original":{"line":147,"column":20},"generated":{"line":1,"column":2598}},{"source":"src/camera.js","name":"a","original":{"line":147,"column":32},"generated":{"line":1,"column":2610}},{"source":"src/camera.js","name":"a","original":{"line":148,"column":6},"generated":{"line":1,"column":2613}},{"source":"src/camera.js","name":"style","original":{"line":148,"column":8},"generated":{"line":1,"column":2615}},{"source":"src/camera.js","original":{"line":148,"column":16},"generated":{"line":1,"column":2621}},{"source":"src/camera.js","name":"a","original":{"line":149,"column":6},"generated":{"line":1,"column":2637}},{"source":"src/camera.js","name":"href","original":{"line":149,"column":8},"generated":{"line":1,"column":2639}},{"source":"src/camera.js","name":"url","original":{"line":149,"column":15},"generated":{"line":1,"column":2644}},{"source":"src/camera.js","name":"a","original":{"line":150,"column":6},"generated":{"line":1,"column":2646}},{"source":"src/camera.js","name":"download","original":{"line":150,"column":8},"generated":{"line":1,"column":2648}},{"source":"src/camera.js","original":{"line":150,"column":19},"generated":{"line":1,"column":2657}},{"source":"src/camera.js","name":"a","original":{"line":151,"column":6},"generated":{"line":1,"column":2669}},{"source":"src/camera.js","name":"click","original":{"line":151,"column":8},"generated":{"line":1,"column":2671}},{"source":"src/camera.js","name":"window","original":{"line":152,"column":6},"generated":{"line":1,"column":2679}},{"source":"src/camera.js","name":"URL","original":{"line":152,"column":13},"generated":{"line":1,"column":2686}},{"source":"src/camera.js","name":"revokeObjectURL","original":{"line":152,"column":17},"generated":{"line":1,"column":2690}},{"source":"src/camera.js","name":"url","original":{"line":152,"column":33},"generated":{"line":1,"column":2706}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":2711}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":2719}},{"source":"src/camera.js","original":{"line":21,"column":21},"generated":{"line":1,"column":2727}}],"sources":{"src/camera.js":"/**\n * @license\n * Copyright 2021 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport * as posedetection from '@tensorflow-models/pose-detection';\n\nimport * as params from './params';\n\nexport class Context {\n  constructor() {\n    this.video = document.getElementById('video');\n    this.canvas = document.getElementById('output');\n    this.source = document.getElementById('currentVID');\n    this.ctx = this.canvas.getContext('2d');\n    const stream = this.canvas.captureStream();\n    const options = {mimeType: 'video/webm; codecs=vp9'};\n    this.mediaRecorder = new MediaRecorder(stream, options);\n    this.mediaRecorder.ondataavailable = this.handleDataAvailable;\n  }\n\n  drawCtx() {\n    this.ctx.drawImage(\n        this.video, 0, 0, this.video.videoWidth, this.video.videoHeight);\n  }\n\n  clearCtx() {\n    this.ctx.clearRect(0, 0, this.video.videoWidth, this.video.videoHeight);\n  }\n\n  /**\n   * Draw the keypoints and skeleton on the video.\n   * @param poses A list of poses to render.\n   */\n  drawResults(poses) {\n    for (const pose of poses) {\n      this.drawResult(pose);\n    }\n  }\n\n  /**\n   * Draw the keypoints and skeleton on the video.\n   * @param pose A pose with keypoints to render.\n   */\n  drawResult(pose) {\n    if (pose.keypoints != null) {\n      this.drawKeypoints(pose.keypoints);\n      this.drawSkeleton(pose.keypoints);\n    }\n  }\n\n  /**\n   * Draw the keypoints on the video.\n   * @param keypoints A list of keypoints.\n   */\n  drawKeypoints(keypoints) {\n    const keypointInd =\n        posedetection.util.getKeypointIndexBySide(params.STATE.model);\n    this.ctx.fillStyle = 'White';\n    this.ctx.strokeStyle = 'White';\n    this.ctx.lineWidth = params.DEFAULT_LINE_WIDTH;\n\n    for (const i of keypointInd.middle) {\n      this.drawKeypoint(keypoints[i]);\n    }\n\n    this.ctx.fillStyle = 'Green';\n    for (const i of keypointInd.left) {\n      this.drawKeypoint(keypoints[i]);\n    }\n\n    this.ctx.fillStyle = 'Orange';\n    for (const i of keypointInd.right) {\n      this.drawKeypoint(keypoints[i]);\n    }\n  }\n\n  drawKeypoint(keypoint) {\n    // If score is null, just show the keypoint.\n    const score = keypoint.score != null ? keypoint.score : 1;\n    const scoreThreshold = params.STATE.modelConfig.scoreThreshold || 0;\n\n    if (score >= scoreThreshold) {\n      const circle = new Path2D();\n      circle.arc(keypoint.x, keypoint.y, params.DEFAULT_RADIUS, 0, 2 * Math.PI);\n      this.ctx.fill(circle);\n      this.ctx.stroke(circle);\n    }\n  }\n\n  /**\n   * Draw the skeleton of a body on the video.\n   * @param keypoints A list of keypoints.\n   */\n  drawSkeleton(keypoints) {\n    this.ctx.fillStyle = 'White';\n    this.ctx.strokeStyle = 'White';\n    this.ctx.lineWidth = params.DEFAULT_LINE_WIDTH;\n\n    posedetection.util.getAdjacentPairs(params.STATE.model).forEach(([\n                                                                      i, j\n                                                                    ]) => {\n      const kp1 = keypoints[i];\n      const kp2 = keypoints[j];\n\n      // If score is null, just show the keypoint.\n      const score1 = kp1.score != null ? kp1.score : 1;\n      const score2 = kp2.score != null ? kp2.score : 1;\n      const scoreThreshold = params.STATE.modelConfig.scoreThreshold || 0;\n\n      if (score1 >= scoreThreshold && score2 >= scoreThreshold) {\n        this.ctx.beginPath();\n        this.ctx.moveTo(kp1.x, kp1.y);\n        this.ctx.lineTo(kp2.x, kp2.y);\n        this.ctx.stroke();\n      }\n    });\n  }\n\n  start() {\n    this.mediaRecorder.start();\n  }\n\n  stop() {\n    this.mediaRecorder.stop();\n  }\n\n  handleDataAvailable(event) {\n    if (event.data.size > 0) {\n      const recordedChunks = [event.data];\n\n      // Download.\n      const blob = new Blob(recordedChunks, {type: 'video/webm'});\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      document.body.appendChild(a);\n      a.style = 'display: none';\n      a.href = url;\n      a.download = 'pose.webm';\n      a.click();\n      window.URL.revokeObjectURL(url);\n    }\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"aaaebdce5496d4a0928adb356d256e09","cacheData":{"env":{}}}