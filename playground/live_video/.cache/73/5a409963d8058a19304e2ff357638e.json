{"id":"rxPu","dependencies":[{"name":"/Users/alberttian/f21/playground/frontend/live_video/.babelrc","includedInParent":true,"mtime":1633056216691},{"name":"/Users/alberttian/f21/playground/frontend/live_video/package.json","includedInParent":true,"mtime":1633056435183},{"name":"@tensorflow-models/pose-detection","loc":{"line":17,"column":31},"parent":"/Users/alberttian/f21/playground/frontend/live_video/src/camera.js","resolved":"/Users/alberttian/f21/playground/frontend/live_video/node_modules/@tensorflow-models/pose-detection/dist/pose-detection.esm.js"},{"name":"scatter-gl","loc":{"line":18,"column":25},"parent":"/Users/alberttian/f21/playground/frontend/live_video/src/camera.js","resolved":"/Users/alberttian/f21/playground/frontend/live_video/node_modules/scatter-gl/dist/index.js"},{"name":"./params","loc":{"line":20,"column":24},"parent":"/Users/alberttian/f21/playground/frontend/live_video/src/camera.js","resolved":"/Users/alberttian/f21/playground/frontend/live_video/src/params.js"},{"name":"./util","loc":{"line":21,"column":23},"parent":"/Users/alberttian/f21/playground/frontend/live_video/src/camera.js","resolved":"/Users/alberttian/f21/playground/frontend/live_video/src/util.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Camera=void 0;var e=r(require(\"@tensorflow-models/pose-detection\")),t=r(require(\"scatter-gl\")),i=r(require(\"./params\")),o=require(\"./util\");function s(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(s=function(e){return e?i:t})(e)}function r(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var i=s(t);if(i&&i.has(e))return i.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(\"default\"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var n=r?Object.getOwnPropertyDescriptor(e,a):null;n&&(n.get||n.set)?Object.defineProperty(o,a,n):o[a]=e[a]}return o.default=e,i&&i.set(e,o),o}const a=[[0,0,0],[0,1,0],[-1,0,0],[-1,-1,0]],n=[\"#ffffff\",\"#800000\",\"#469990\",\"#e6194b\",\"#42d4f4\",\"#fabed4\",\"#aaffc3\",\"#9a6324\",\"#000075\",\"#f58231\",\"#4363d8\",\"#ffd8b1\",\"#dcbeff\",\"#808000\",\"#ffe119\",\"#911eb4\",\"#bfef45\",\"#f032e6\",\"#3cb44b\",\"#a9a9a9\"];class d{constructor(){this.video=document.getElementById(\"video\"),this.canvas=document.getElementById(\"output\"),this.ctx=this.canvas.getContext(\"2d\"),this.scatterGLEl=document.querySelector(\"#scatter-gl-container\"),this.scatterGL=new t.ScatterGL(this.scatterGLEl,{rotateOnStart:!0,selectEnabled:!1,styles:{polyline:{defaultOpacity:1,deselectedOpacity:1}}}),this.scatterGLHasInitialized=!1}static async setupCamera(e){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error(\"Browser API navigator.mediaDevices.getUserMedia not available\");const{targetFPS:t,sizeOption:s}=e,r=i.VIDEO_SIZE[s],a={audio:!1,video:{facingMode:\"user\",width:(0,o.isMobile)()?i.VIDEO_SIZE[\"360 X 270\"].width:r.width,height:(0,o.isMobile)()?i.VIDEO_SIZE[\"360 X 270\"].height:r.height,frameRate:{ideal:t}}},n=await navigator.mediaDevices.getUserMedia(a),c=new d;c.video.srcObject=n,await new Promise(e=>{c.video.onloadedmetadata=(()=>{e(video)})}),c.video.play();const l=c.video.videoWidth,h=c.video.videoHeight;return c.video.width=l,c.video.height=h,c.canvas.width=l,c.canvas.height=h,document.querySelector(\".canvas-wrapper\").style=`width: ${l}px; height: ${h}px`,c.ctx.translate(c.video.videoWidth,0),c.ctx.scale(-1,1),c.scatterGLEl.style=`width: ${l}px; height: ${h}px;`,c.scatterGL.resize(),c.scatterGLEl.style.display=i.STATE.modelConfig.render3D?\"inline-block\":\"none\",c}drawCtx(){this.ctx.drawImage(this.video,0,0,this.video.videoWidth,this.video.videoHeight)}clearCtx(){this.ctx.clearRect(0,0,this.video.videoWidth,this.video.videoHeight)}drawResults(e){for(const t of e)this.drawResult(t)}drawResult(e){null!=e.keypoints&&(this.drawKeypoints(e.keypoints),this.drawSkeleton(e.keypoints,e.id)),null!=e.keypoints3D&&i.STATE.modelConfig.render3D&&this.drawKeypoints3D(e.keypoints3D)}drawKeypoints(t){const o=e.util.getKeypointIndexBySide(i.STATE.model);this.ctx.fillStyle=\"Red\",this.ctx.strokeStyle=\"White\",this.ctx.lineWidth=i.DEFAULT_LINE_WIDTH;for(const e of o.middle)this.drawKeypoint(t[e]);this.ctx.fillStyle=\"Green\";for(const e of o.left)this.drawKeypoint(t[e]);this.ctx.fillStyle=\"Orange\";for(const e of o.right)this.drawKeypoint(t[e])}drawKeypoint(e){if((null!=e.score?e.score:1)>=(i.STATE.modelConfig.scoreThreshold||0)){const t=new Path2D;t.arc(e.x,e.y,i.DEFAULT_RADIUS,0,2*Math.PI),this.ctx.fill(t),this.ctx.stroke(t)}}drawSkeleton(t,o){const s=i.STATE.modelConfig.enableTracking&&null!=o?n[o%20]:\"White\";this.ctx.fillStyle=s,this.ctx.strokeStyle=s,this.ctx.lineWidth=i.DEFAULT_LINE_WIDTH,e.util.getAdjacentPairs(i.STATE.model).forEach(([e,o])=>{const s=t[e],r=t[o],a=null!=s.score?s.score:1,n=null!=r.score?r.score:1,d=i.STATE.modelConfig.scoreThreshold||0;a>=d&&n>=d&&(this.ctx.beginPath(),this.ctx.moveTo(s.x,s.y),this.ctx.lineTo(r.x,r.y),this.ctx.stroke())})}drawKeypoints3D(o){const s=i.STATE.modelConfig.scoreThreshold||0,r=o.map(e=>[-e.x,-e.y,-e.z]),n=new t.ScatterGL.Dataset([...r,...a]),d=e.util.getKeypointIndexBySide(i.STATE.model);this.scatterGL.setPointColorer(e=>null==o[e]||o[e].score<s?\"#ffffff\":0===e?\"#ff0000\":d.left.indexOf(e)>-1?\"#00ff00\":d.right.indexOf(e)>-1?\"#ffa500\":void 0),this.scatterGLHasInitialized?this.scatterGL.updateDataset(n):this.scatterGL.render(n);const c=e.util.getAdjacentPairs(i.STATE.model).map(e=>({indices:e}));this.scatterGL.setSequences(c),this.scatterGLHasInitialized=!0}}exports.Camera=d;"},"sourceMaps":{"js":{"mappings":[{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":0}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":13}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":20}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":35}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":43}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":56}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":57}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":64}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":68}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":76}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":88}},{"source":"src/camera.js","original":{"line":17,"column":0},"generated":{"line":1,"column":90}},{"source":"src/camera.js","original":{"line":17,"column":0},"generated":{"line":1,"column":94}},{"source":"src/camera.js","original":{"line":17,"column":0},"generated":{"line":1,"column":96}},{"source":"src/camera.js","original":{"line":17,"column":0},"generated":{"line":1,"column":98}},{"source":"src/camera.js","original":{"line":17,"column":0},"generated":{"line":1,"column":106}},{"source":"src/camera.js","original":{"line":18,"column":0},"generated":{"line":1,"column":144}},{"source":"src/camera.js","original":{"line":18,"column":0},"generated":{"line":1,"column":146}},{"source":"src/camera.js","original":{"line":18,"column":0},"generated":{"line":1,"column":148}},{"source":"src/camera.js","original":{"line":18,"column":0},"generated":{"line":1,"column":156}},{"source":"src/camera.js","original":{"line":20,"column":0},"generated":{"line":1,"column":171}},{"source":"src/camera.js","original":{"line":20,"column":0},"generated":{"line":1,"column":173}},{"source":"src/camera.js","original":{"line":20,"column":0},"generated":{"line":1,"column":175}},{"source":"src/camera.js","original":{"line":20,"column":0},"generated":{"line":1,"column":183}},{"source":"src/camera.js","original":{"line":21,"column":0},"generated":{"line":1,"column":196}},{"source":"src/camera.js","original":{"line":21,"column":0},"generated":{"line":1,"column":198}},{"source":"src/camera.js","original":{"line":21,"column":0},"generated":{"line":1,"column":206}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":216}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":225}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":227}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":230}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":233}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":252}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":260}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":267}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":272}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":276}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":278}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":282}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":290}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":292}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":296}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":304}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":311}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":313}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":322}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":325}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":332}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":334}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":336}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":340}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":343}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":352}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":354}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":356}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":359}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":363}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":366}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":369}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":371}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":382}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":389}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":391}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":394}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":401}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":404}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":421}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":424}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":443}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":445}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":451}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":452}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":460}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":463}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":467}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":469}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":471}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":474}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":477}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":480}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":482}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":486}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":489}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":496}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":498}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":502}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":505}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":509}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":511}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":514}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":516}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":523}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":539}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":546}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":571}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":575}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":579}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":584}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":586}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":589}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":601}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":604}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":611}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":621}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":636}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":641}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":643}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":646}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":647}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":651}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":653}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":655}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":662}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":687}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":689}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":692}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":697}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":701}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":703}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":708}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":710}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":715}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":722}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":737}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":739}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":741}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":744}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":746}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":749}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":751}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":754}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":761}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":763}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":771}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":773}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":776}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":778}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":782}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":784}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":787}},{"source":"src/camera.js","original":{"line":25,"column":0},"generated":{"line":1,"column":789}},{"source":"src/camera.js","name":"ANCHOR_POINTS","original":{"line":25,"column":6},"generated":{"line":1,"column":795}},{"source":"src/camera.js","original":{"line":25,"column":22},"generated":{"line":1,"column":797}},{"source":"src/camera.js","original":{"line":25,"column":23},"generated":{"line":1,"column":798}},{"source":"src/camera.js","original":{"line":25,"column":24},"generated":{"line":1,"column":799}},{"source":"src/camera.js","original":{"line":25,"column":27},"generated":{"line":1,"column":801}},{"source":"src/camera.js","original":{"line":25,"column":30},"generated":{"line":1,"column":803}},{"source":"src/camera.js","original":{"line":25,"column":34},"generated":{"line":1,"column":806}},{"source":"src/camera.js","original":{"line":25,"column":35},"generated":{"line":1,"column":807}},{"source":"src/camera.js","original":{"line":25,"column":38},"generated":{"line":1,"column":809}},{"source":"src/camera.js","original":{"line":25,"column":41},"generated":{"line":1,"column":811}},{"source":"src/camera.js","original":{"line":25,"column":45},"generated":{"line":1,"column":814}},{"source":"src/camera.js","original":{"line":25,"column":47},"generated":{"line":1,"column":816}},{"source":"src/camera.js","original":{"line":25,"column":50},"generated":{"line":1,"column":818}},{"source":"src/camera.js","original":{"line":25,"column":53},"generated":{"line":1,"column":820}},{"source":"src/camera.js","original":{"line":25,"column":57},"generated":{"line":1,"column":823}},{"source":"src/camera.js","original":{"line":25,"column":59},"generated":{"line":1,"column":825}},{"source":"src/camera.js","original":{"line":25,"column":63},"generated":{"line":1,"column":828}},{"source":"src/camera.js","original":{"line":25,"column":66},"generated":{"line":1,"column":830}},{"source":"src/camera.js","name":"COLOR_PALETTE","original":{"line":47,"column":6},"generated":{"line":1,"column":834}},{"source":"src/camera.js","original":{"line":47,"column":22},"generated":{"line":1,"column":836}},{"source":"src/camera.js","original":{"line":48,"column":2},"generated":{"line":1,"column":837}},{"source":"src/camera.js","original":{"line":48,"column":13},"generated":{"line":1,"column":847}},{"source":"src/camera.js","original":{"line":48,"column":24},"generated":{"line":1,"column":857}},{"source":"src/camera.js","original":{"line":48,"column":35},"generated":{"line":1,"column":867}},{"source":"src/camera.js","original":{"line":48,"column":46},"generated":{"line":1,"column":877}},{"source":"src/camera.js","original":{"line":48,"column":57},"generated":{"line":1,"column":887}},{"source":"src/camera.js","original":{"line":48,"column":68},"generated":{"line":1,"column":897}},{"source":"src/camera.js","original":{"line":49,"column":2},"generated":{"line":1,"column":907}},{"source":"src/camera.js","original":{"line":49,"column":13},"generated":{"line":1,"column":917}},{"source":"src/camera.js","original":{"line":49,"column":24},"generated":{"line":1,"column":927}},{"source":"src/camera.js","original":{"line":49,"column":35},"generated":{"line":1,"column":937}},{"source":"src/camera.js","original":{"line":49,"column":46},"generated":{"line":1,"column":947}},{"source":"src/camera.js","original":{"line":49,"column":57},"generated":{"line":1,"column":957}},{"source":"src/camera.js","original":{"line":49,"column":68},"generated":{"line":1,"column":967}},{"source":"src/camera.js","original":{"line":50,"column":2},"generated":{"line":1,"column":977}},{"source":"src/camera.js","original":{"line":50,"column":13},"generated":{"line":1,"column":987}},{"source":"src/camera.js","original":{"line":50,"column":24},"generated":{"line":1,"column":997}},{"source":"src/camera.js","original":{"line":50,"column":35},"generated":{"line":1,"column":1007}},{"source":"src/camera.js","original":{"line":50,"column":46},"generated":{"line":1,"column":1017}},{"source":"src/camera.js","original":{"line":50,"column":57},"generated":{"line":1,"column":1027}},{"source":"src/camera.js","original":{"line":52,"column":7},"generated":{"line":1,"column":1038}},{"source":"src/camera.js","name":"Camera","original":{"line":52,"column":13},"generated":{"line":1,"column":1044}},{"source":"src/camera.js","name":"constructor","original":{"line":53,"column":2},"generated":{"line":1,"column":1046}},{"source":"src/camera.js","name":"video","original":{"line":54,"column":9},"generated":{"line":1,"column":1060}},{"source":"src/camera.js","name":"video","original":{"line":54,"column":9},"generated":{"line":1,"column":1065}},{"source":"src/camera.js","name":"document","original":{"line":54,"column":17},"generated":{"line":1,"column":1071}},{"source":"src/camera.js","name":"getElementById","original":{"line":54,"column":26},"generated":{"line":1,"column":1080}},{"source":"src/camera.js","original":{"line":54,"column":41},"generated":{"line":1,"column":1095}},{"source":"src/camera.js","name":"canvas","original":{"line":55,"column":9},"generated":{"line":1,"column":1104}},{"source":"src/camera.js","name":"canvas","original":{"line":55,"column":9},"generated":{"line":1,"column":1109}},{"source":"src/camera.js","name":"document","original":{"line":55,"column":18},"generated":{"line":1,"column":1116}},{"source":"src/camera.js","name":"getElementById","original":{"line":55,"column":27},"generated":{"line":1,"column":1125}},{"source":"src/camera.js","original":{"line":55,"column":42},"generated":{"line":1,"column":1140}},{"source":"src/camera.js","name":"ctx","original":{"line":56,"column":9},"generated":{"line":1,"column":1150}},{"source":"src/camera.js","name":"ctx","original":{"line":56,"column":9},"generated":{"line":1,"column":1155}},{"source":"src/camera.js","original":{"line":56,"column":15},"generated":{"line":1,"column":1159}},{"source":"src/camera.js","name":"canvas","original":{"line":56,"column":20},"generated":{"line":1,"column":1164}},{"source":"src/camera.js","name":"getContext","original":{"line":56,"column":27},"generated":{"line":1,"column":1171}},{"source":"src/camera.js","original":{"line":56,"column":38},"generated":{"line":1,"column":1182}},{"source":"src/camera.js","name":"scatterGLEl","original":{"line":57,"column":9},"generated":{"line":1,"column":1188}},{"source":"src/camera.js","name":"scatterGLEl","original":{"line":57,"column":9},"generated":{"line":1,"column":1193}},{"source":"src/camera.js","name":"document","original":{"line":57,"column":23},"generated":{"line":1,"column":1205}},{"source":"src/camera.js","name":"querySelector","original":{"line":57,"column":32},"generated":{"line":1,"column":1214}},{"source":"src/camera.js","original":{"line":57,"column":46},"generated":{"line":1,"column":1228}},{"source":"src/camera.js","name":"scatterGL","original":{"line":58,"column":9},"generated":{"line":1,"column":1253}},{"source":"src/camera.js","name":"scatterGL","original":{"line":58,"column":9},"generated":{"line":1,"column":1258}},{"source":"src/camera.js","original":{"line":58,"column":21},"generated":{"line":1,"column":1268}},{"source":"src/camera.js","name":"scatter","original":{"line":58,"column":25},"generated":{"line":1,"column":1272}},{"source":"src/camera.js","name":"ScatterGL","original":{"line":58,"column":33},"generated":{"line":1,"column":1274}},{"source":"src/camera.js","original":{"line":58,"column":43},"generated":{"line":1,"column":1284}},{"source":"src/camera.js","name":"scatterGLEl","original":{"line":58,"column":48},"generated":{"line":1,"column":1289}},{"source":"src/camera.js","original":{"line":58,"column":61},"generated":{"line":1,"column":1301}},{"source":"src/camera.js","original":{"line":59,"column":23},"generated":{"line":1,"column":1302}},{"source":"src/camera.js","original":{"line":59,"column":23},"generated":{"line":1,"column":1317}},{"source":"src/camera.js","original":{"line":60,"column":23},"generated":{"line":1,"column":1319}},{"source":"src/camera.js","original":{"line":60,"column":23},"generated":{"line":1,"column":1334}},{"source":"src/camera.js","original":{"line":61,"column":16},"generated":{"line":1,"column":1336}},{"source":"src/camera.js","original":{"line":61,"column":16},"generated":{"line":1,"column":1343}},{"source":"src/camera.js","name":"polyline","original":{"line":61,"column":17},"generated":{"line":1,"column":1344}},{"source":"src/camera.js","original":{"line":61,"column":27},"generated":{"line":1,"column":1353}},{"source":"src/camera.js","name":"defaultOpacity","original":{"line":61,"column":28},"generated":{"line":1,"column":1354}},{"source":"src/camera.js","original":{"line":61,"column":44},"generated":{"line":1,"column":1369}},{"source":"src/camera.js","name":"deselectedOpacity","original":{"line":61,"column":47},"generated":{"line":1,"column":1371}},{"source":"src/camera.js","original":{"line":61,"column":66},"generated":{"line":1,"column":1389}},{"source":"src/camera.js","name":"scatterGLHasInitialized","original":{"line":63,"column":9},"generated":{"line":1,"column":1395}},{"source":"src/camera.js","name":"scatterGLHasInitialized","original":{"line":63,"column":9},"generated":{"line":1,"column":1400}},{"source":"src/camera.js","original":{"line":63,"column":35},"generated":{"line":1,"column":1425}},{"source":"src/camera.js","name":"setupCamera","original":{"line":70,"column":15},"generated":{"line":1,"column":1427}},{"source":"src/camera.js","name":"cameraParam","original":{"line":70,"column":27},"generated":{"line":1,"column":1452}},{"source":"src/camera.js","original":{"line":71,"column":8},"generated":{"line":1,"column":1455}},{"source":"src/camera.js","name":"navigator","original":{"line":71,"column":9},"generated":{"line":1,"column":1459}},{"source":"src/camera.js","name":"mediaDevices","original":{"line":71,"column":19},"generated":{"line":1,"column":1469}},{"source":"src/camera.js","name":"navigator","original":{"line":71,"column":36},"generated":{"line":1,"column":1484}},{"source":"src/camera.js","name":"mediaDevices","original":{"line":71,"column":46},"generated":{"line":1,"column":1494}},{"source":"src/camera.js","name":"getUserMedia","original":{"line":71,"column":59},"generated":{"line":1,"column":1507}},{"source":"src/camera.js","original":{"line":72,"column":12},"generated":{"line":1,"column":1520}},{"source":"src/camera.js","original":{"line":72,"column":12},"generated":{"line":1,"column":1526}},{"source":"src/camera.js","name":"Error","original":{"line":72,"column":16},"generated":{"line":1,"column":1530}},{"source":"src/camera.js","original":{"line":73,"column":10},"generated":{"line":1,"column":1536}},{"source":"src/camera.js","original":{"line":76,"column":10},"generated":{"line":1,"column":1601}},{"source":"src/camera.js","original":{"line":76,"column":10},"generated":{"line":1,"column":1607}},{"source":"src/camera.js","name":"targetFPS","original":{"line":76,"column":11},"generated":{"line":1,"column":1617}},{"source":"src/camera.js","original":{"line":76,"column":10},"generated":{"line":1,"column":1619}},{"source":"src/camera.js","name":"sizeOption","original":{"line":76,"column":22},"generated":{"line":1,"column":1630}},{"source":"src/camera.js","name":"cameraParam","original":{"line":76,"column":36},"generated":{"line":1,"column":1633}},{"source":"src/camera.js","name":"$size","original":{"line":77,"column":10},"generated":{"line":1,"column":1635}},{"source":"src/camera.js","name":"params","original":{"line":77,"column":18},"generated":{"line":1,"column":1637}},{"source":"src/camera.js","name":"VIDEO_SIZE","original":{"line":77,"column":25},"generated":{"line":1,"column":1639}},{"source":"src/camera.js","name":"sizeOption","original":{"line":77,"column":36},"generated":{"line":1,"column":1650}},{"source":"src/camera.js","name":"videoConfig","original":{"line":78,"column":10},"generated":{"line":1,"column":1653}},{"source":"src/camera.js","original":{"line":78,"column":24},"generated":{"line":1,"column":1655}},{"source":"src/camera.js","original":{"line":79,"column":15},"generated":{"line":1,"column":1656}},{"source":"src/camera.js","original":{"line":79,"column":15},"generated":{"line":1,"column":1663}},{"source":"src/camera.js","original":{"line":80,"column":15},"generated":{"line":1,"column":1665}},{"source":"src/camera.js","original":{"line":80,"column":15},"generated":{"line":1,"column":1671}},{"source":"src/camera.js","name":"facingMode","original":{"line":81,"column":8},"generated":{"line":1,"column":1672}},{"source":"src/camera.js","original":{"line":81,"column":20},"generated":{"line":1,"column":1683}},{"source":"src/camera.js","name":"width","original":{"line":84,"column":8},"generated":{"line":1,"column":1690}},{"source":"src/camera.js","original":{"line":84,"column":15},"generated":{"line":1,"column":1697}},{"source":"src/camera.js","name":"params","original":{"line":84,"column":28},"generated":{"line":1,"column":1699}},{"source":"src/camera.js","name":"params","original":{"line":84,"column":28},"generated":{"line":1,"column":1701}},{"source":"src/camera.js","name":"params","original":{"line":84,"column":28},"generated":{"line":1,"column":1713}},{"source":"src/camera.js","name":"VIDEO_SIZE","original":{"line":84,"column":35},"generated":{"line":1,"column":1715}},{"source":"src/camera.js","original":{"line":84,"column":46},"generated":{"line":1,"column":1726}},{"source":"src/camera.js","name":"width","original":{"line":84,"column":59},"generated":{"line":1,"column":1739}},{"source":"src/camera.js","name":"$size","original":{"line":84,"column":67},"generated":{"line":1,"column":1745}},{"source":"src/camera.js","name":"width","original":{"line":84,"column":73},"generated":{"line":1,"column":1747}},{"source":"src/camera.js","name":"height","original":{"line":85,"column":8},"generated":{"line":1,"column":1753}},{"source":"src/camera.js","original":{"line":85,"column":16},"generated":{"line":1,"column":1761}},{"source":"src/camera.js","name":"params","original":{"line":85,"column":29},"generated":{"line":1,"column":1763}},{"source":"src/camera.js","name":"params","original":{"line":85,"column":29},"generated":{"line":1,"column":1765}},{"source":"src/camera.js","name":"params","original":{"line":85,"column":29},"generated":{"line":1,"column":1777}},{"source":"src/camera.js","name":"VIDEO_SIZE","original":{"line":85,"column":36},"generated":{"line":1,"column":1779}},{"source":"src/camera.js","original":{"line":85,"column":47},"generated":{"line":1,"column":1790}},{"source":"src/camera.js","name":"height","original":{"line":85,"column":60},"generated":{"line":1,"column":1803}},{"source":"src/camera.js","name":"$size","original":{"line":86,"column":29},"generated":{"line":1,"column":1810}},{"source":"src/camera.js","name":"height","original":{"line":86,"column":35},"generated":{"line":1,"column":1812}},{"source":"src/camera.js","name":"frameRate","original":{"line":87,"column":8},"generated":{"line":1,"column":1819}},{"source":"src/camera.js","original":{"line":87,"column":19},"generated":{"line":1,"column":1829}},{"source":"src/camera.js","name":"ideal","original":{"line":88,"column":10},"generated":{"line":1,"column":1830}},{"source":"src/camera.js","name":"targetFPS","original":{"line":88,"column":17},"generated":{"line":1,"column":1836}},{"source":"src/camera.js","name":"stream","original":{"line":93,"column":10},"generated":{"line":1,"column":1841}},{"source":"src/camera.js","name":"navigator","original":{"line":93,"column":25},"generated":{"line":1,"column":1849}},{"source":"src/camera.js","name":"mediaDevices","original":{"line":93,"column":35},"generated":{"line":1,"column":1859}},{"source":"src/camera.js","name":"getUserMedia","original":{"line":93,"column":48},"generated":{"line":1,"column":1872}},{"source":"src/camera.js","name":"videoConfig","original":{"line":93,"column":61},"generated":{"line":1,"column":1885}},{"source":"src/camera.js","name":"camera","original":{"line":95,"column":10},"generated":{"line":1,"column":1888}},{"source":"src/camera.js","original":{"line":95,"column":19},"generated":{"line":1,"column":1890}},{"source":"src/camera.js","name":"Camera","original":{"line":95,"column":23},"generated":{"line":1,"column":1894}},{"source":"src/camera.js","name":"camera","original":{"line":96,"column":4},"generated":{"line":1,"column":1896}},{"source":"src/camera.js","name":"video","original":{"line":96,"column":11},"generated":{"line":1,"column":1898}},{"source":"src/camera.js","name":"srcObject","original":{"line":96,"column":17},"generated":{"line":1,"column":1904}},{"source":"src/camera.js","name":"stream","original":{"line":96,"column":29},"generated":{"line":1,"column":1914}},{"source":"src/camera.js","original":{"line":98,"column":10},"generated":{"line":1,"column":1922}},{"source":"src/camera.js","name":"Promise","original":{"line":98,"column":14},"generated":{"line":1,"column":1926}},{"source":"src/camera.js","name":"resolve","original":{"line":98,"column":23},"generated":{"line":1,"column":1934}},{"source":"src/camera.js","name":"camera","original":{"line":99,"column":6},"generated":{"line":1,"column":1938}},{"source":"src/camera.js","name":"video","original":{"line":99,"column":13},"generated":{"line":1,"column":1940}},{"source":"src/camera.js","name":"onloadedmetadata","original":{"line":99,"column":19},"generated":{"line":1,"column":1946}},{"source":"src/camera.js","original":{"line":99,"column":38},"generated":{"line":1,"column":1963}},{"source":"src/camera.js","name":"resolve","original":{"line":100,"column":8},"generated":{"line":1,"column":1969}},{"source":"src/camera.js","name":"video","original":{"line":100,"column":16},"generated":{"line":1,"column":1971}},{"source":"src/camera.js","name":"camera","original":{"line":104,"column":4},"generated":{"line":1,"column":1982}},{"source":"src/camera.js","name":"video","original":{"line":104,"column":11},"generated":{"line":1,"column":1984}},{"source":"src/camera.js","name":"play","original":{"line":104,"column":17},"generated":{"line":1,"column":1990}},{"source":"src/camera.js","name":"videoWidth","original":{"line":106,"column":10},"generated":{"line":1,"column":1997}},{"source":"src/camera.js","name":"videoWidth","original":{"line":106,"column":10},"generated":{"line":1,"column":2003}},{"source":"src/camera.js","name":"camera","original":{"line":106,"column":23},"generated":{"line":1,"column":2005}},{"source":"src/camera.js","name":"video","original":{"line":106,"column":30},"generated":{"line":1,"column":2007}},{"source":"src/camera.js","name":"videoWidth","original":{"line":106,"column":36},"generated":{"line":1,"column":2013}},{"source":"src/camera.js","name":"videoHeight","original":{"line":107,"column":10},"generated":{"line":1,"column":2024}},{"source":"src/camera.js","name":"camera","original":{"line":107,"column":24},"generated":{"line":1,"column":2026}},{"source":"src/camera.js","name":"video","original":{"line":107,"column":31},"generated":{"line":1,"column":2028}},{"source":"src/camera.js","name":"videoHeight","original":{"line":107,"column":37},"generated":{"line":1,"column":2034}},{"source":"src/camera.js","name":"camera","original":{"line":128,"column":11},"generated":{"line":1,"column":2046}},{"source":"src/camera.js","name":"camera","original":{"line":109,"column":4},"generated":{"line":1,"column":2053}},{"source":"src/camera.js","name":"video","original":{"line":109,"column":11},"generated":{"line":1,"column":2055}},{"source":"src/camera.js","name":"width","original":{"line":109,"column":17},"generated":{"line":1,"column":2061}},{"source":"src/camera.js","name":"videoWidth","original":{"line":109,"column":25},"generated":{"line":1,"column":2067}},{"source":"src/camera.js","name":"camera","original":{"line":110,"column":4},"generated":{"line":1,"column":2069}},{"source":"src/camera.js","name":"video","original":{"line":110,"column":11},"generated":{"line":1,"column":2071}},{"source":"src/camera.js","name":"height","original":{"line":110,"column":17},"generated":{"line":1,"column":2077}},{"source":"src/camera.js","name":"videoHeight","original":{"line":110,"column":26},"generated":{"line":1,"column":2084}},{"source":"src/camera.js","name":"camera","original":{"line":112,"column":4},"generated":{"line":1,"column":2086}},{"source":"src/camera.js","name":"canvas","original":{"line":112,"column":11},"generated":{"line":1,"column":2088}},{"source":"src/camera.js","name":"width","original":{"line":112,"column":18},"generated":{"line":1,"column":2095}},{"source":"src/camera.js","name":"videoWidth","original":{"line":112,"column":26},"generated":{"line":1,"column":2101}},{"source":"src/camera.js","name":"camera","original":{"line":113,"column":4},"generated":{"line":1,"column":2103}},{"source":"src/camera.js","name":"canvas","original":{"line":113,"column":11},"generated":{"line":1,"column":2105}},{"source":"src/camera.js","name":"height","original":{"line":113,"column":18},"generated":{"line":1,"column":2112}},{"source":"src/camera.js","name":"videoHeight","original":{"line":113,"column":27},"generated":{"line":1,"column":2119}},{"source":"src/camera.js","name":"document","original":{"line":114,"column":28},"generated":{"line":1,"column":2121}},{"source":"src/camera.js","name":"querySelector","original":{"line":114,"column":37},"generated":{"line":1,"column":2130}},{"source":"src/camera.js","original":{"line":114,"column":51},"generated":{"line":1,"column":2144}},{"source":"src/camera.js","name":"style","original":{"line":115,"column":20},"generated":{"line":1,"column":2163}},{"source":"src/camera.js","name":"videoWidth","original":{"line":115,"column":38},"generated":{"line":1,"column":2179}},{"source":"src/camera.js","name":"videoHeight","original":{"line":115,"column":63},"generated":{"line":1,"column":2195}},{"source":"src/camera.js","name":"camera","original":{"line":118,"column":4},"generated":{"line":1,"column":2201}},{"source":"src/camera.js","name":"ctx","original":{"line":118,"column":11},"generated":{"line":1,"column":2203}},{"source":"src/camera.js","name":"translate","original":{"line":118,"column":15},"generated":{"line":1,"column":2207}},{"source":"src/camera.js","name":"camera","original":{"line":118,"column":25},"generated":{"line":1,"column":2217}},{"source":"src/camera.js","name":"video","original":{"line":118,"column":32},"generated":{"line":1,"column":2219}},{"source":"src/camera.js","name":"videoWidth","original":{"line":118,"column":38},"generated":{"line":1,"column":2225}},{"source":"src/camera.js","original":{"line":118,"column":50},"generated":{"line":1,"column":2236}},{"source":"src/camera.js","name":"camera","original":{"line":119,"column":4},"generated":{"line":1,"column":2239}},{"source":"src/camera.js","name":"ctx","original":{"line":119,"column":11},"generated":{"line":1,"column":2241}},{"source":"src/camera.js","name":"scale","original":{"line":119,"column":15},"generated":{"line":1,"column":2245}},{"source":"src/camera.js","original":{"line":119,"column":22},"generated":{"line":1,"column":2252}},{"source":"src/camera.js","original":{"line":119,"column":25},"generated":{"line":1,"column":2254}},{"source":"src/camera.js","name":"camera","original":{"line":121,"column":4},"generated":{"line":1,"column":2257}},{"source":"src/camera.js","name":"scatterGLEl","original":{"line":121,"column":11},"generated":{"line":1,"column":2259}},{"source":"src/camera.js","name":"style","original":{"line":121,"column":23},"generated":{"line":1,"column":2271}},{"source":"src/camera.js","name":"videoWidth","original":{"line":122,"column":18},"generated":{"line":1,"column":2287}},{"source":"src/camera.js","name":"videoHeight","original":{"line":122,"column":43},"generated":{"line":1,"column":2303}},{"source":"src/camera.js","name":"camera","original":{"line":123,"column":4},"generated":{"line":1,"column":2310}},{"source":"src/camera.js","name":"scatterGL","original":{"line":123,"column":11},"generated":{"line":1,"column":2312}},{"source":"src/camera.js","name":"resize","original":{"line":123,"column":21},"generated":{"line":1,"column":2322}},{"source":"src/camera.js","name":"camera","original":{"line":125,"column":4},"generated":{"line":1,"column":2331}},{"source":"src/camera.js","name":"scatterGLEl","original":{"line":125,"column":11},"generated":{"line":1,"column":2333}},{"source":"src/camera.js","name":"style","original":{"line":125,"column":23},"generated":{"line":1,"column":2345}},{"source":"src/camera.js","name":"display","original":{"line":125,"column":29},"generated":{"line":1,"column":2351}},{"source":"src/camera.js","name":"params","original":{"line":126,"column":8},"generated":{"line":1,"column":2359}},{"source":"src/camera.js","name":"STATE","original":{"line":126,"column":15},"generated":{"line":1,"column":2361}},{"source":"src/camera.js","name":"modelConfig","original":{"line":126,"column":21},"generated":{"line":1,"column":2367}},{"source":"src/camera.js","name":"render3D","original":{"line":126,"column":33},"generated":{"line":1,"column":2379}},{"source":"src/camera.js","original":{"line":126,"column":44},"generated":{"line":1,"column":2388}},{"source":"src/camera.js","original":{"line":126,"column":61},"generated":{"line":1,"column":2403}},{"source":"src/camera.js","name":"camera","original":{"line":128,"column":11},"generated":{"line":1,"column":2410}},{"source":"src/camera.js","name":"drawCtx","original":{"line":131,"column":2},"generated":{"line":1,"column":2412}},{"source":"src/camera.js","name":"ctx","original":{"line":132,"column":9},"generated":{"line":1,"column":2422}},{"source":"src/camera.js","name":"ctx","original":{"line":132,"column":9},"generated":{"line":1,"column":2427}},{"source":"src/camera.js","name":"drawImage","original":{"line":132,"column":13},"generated":{"line":1,"column":2431}},{"source":"src/camera.js","original":{"line":133,"column":8},"generated":{"line":1,"column":2441}},{"source":"src/camera.js","name":"video","original":{"line":133,"column":13},"generated":{"line":1,"column":2446}},{"source":"src/camera.js","original":{"line":133,"column":20},"generated":{"line":1,"column":2452}},{"source":"src/camera.js","original":{"line":133,"column":23},"generated":{"line":1,"column":2454}},{"source":"src/camera.js","original":{"line":133,"column":26},"generated":{"line":1,"column":2456}},{"source":"src/camera.js","name":"video","original":{"line":133,"column":31},"generated":{"line":1,"column":2461}},{"source":"src/camera.js","name":"videoWidth","original":{"line":133,"column":37},"generated":{"line":1,"column":2467}},{"source":"src/camera.js","original":{"line":133,"column":49},"generated":{"line":1,"column":2478}},{"source":"src/camera.js","name":"video","original":{"line":133,"column":54},"generated":{"line":1,"column":2483}},{"source":"src/camera.js","name":"videoHeight","original":{"line":133,"column":60},"generated":{"line":1,"column":2489}},{"source":"src/camera.js","name":"clearCtx","original":{"line":136,"column":2},"generated":{"line":1,"column":2502}},{"source":"src/camera.js","name":"ctx","original":{"line":137,"column":9},"generated":{"line":1,"column":2513}},{"source":"src/camera.js","name":"ctx","original":{"line":137,"column":9},"generated":{"line":1,"column":2518}},{"source":"src/camera.js","name":"clearRect","original":{"line":137,"column":13},"generated":{"line":1,"column":2522}},{"source":"src/camera.js","original":{"line":137,"column":23},"generated":{"line":1,"column":2532}},{"source":"src/camera.js","original":{"line":137,"column":26},"generated":{"line":1,"column":2534}},{"source":"src/camera.js","original":{"line":137,"column":29},"generated":{"line":1,"column":2536}},{"source":"src/camera.js","name":"video","original":{"line":137,"column":34},"generated":{"line":1,"column":2541}},{"source":"src/camera.js","name":"videoWidth","original":{"line":137,"column":40},"generated":{"line":1,"column":2547}},{"source":"src/camera.js","original":{"line":137,"column":52},"generated":{"line":1,"column":2558}},{"source":"src/camera.js","name":"video","original":{"line":137,"column":57},"generated":{"line":1,"column":2563}},{"source":"src/camera.js","name":"videoHeight","original":{"line":137,"column":63},"generated":{"line":1,"column":2569}},{"source":"src/camera.js","name":"drawResults","original":{"line":144,"column":2},"generated":{"line":1,"column":2582}},{"source":"src/camera.js","name":"poses","original":{"line":144,"column":14},"generated":{"line":1,"column":2594}},{"source":"src/camera.js","original":{"line":145,"column":9},"generated":{"line":1,"column":2597}},{"source":"src/camera.js","original":{"line":145,"column":9},"generated":{"line":1,"column":2601}},{"source":"src/camera.js","name":"pose","original":{"line":145,"column":15},"generated":{"line":1,"column":2607}},{"source":"src/camera.js","name":"poses","original":{"line":145,"column":23},"generated":{"line":1,"column":2612}},{"source":"src/camera.js","name":"drawResult","original":{"line":146,"column":11},"generated":{"line":1,"column":2614}},{"source":"src/camera.js","name":"drawResult","original":{"line":146,"column":11},"generated":{"line":1,"column":2619}},{"source":"src/camera.js","name":"pose","original":{"line":146,"column":22},"generated":{"line":1,"column":2630}},{"source":"src/camera.js","name":"drawResult","original":{"line":154,"column":2},"generated":{"line":1,"column":2633}},{"source":"src/camera.js","name":"pose","original":{"line":154,"column":13},"generated":{"line":1,"column":2644}},{"source":"src/camera.js","original":{"line":155,"column":26},"generated":{"line":1,"column":2647}},{"source":"src/camera.js","name":"pose","original":{"line":155,"column":8},"generated":{"line":1,"column":2653}},{"source":"src/camera.js","name":"keypoints","original":{"line":155,"column":13},"generated":{"line":1,"column":2655}},{"source":"src/camera.js","name":"drawKeypoints","original":{"line":156,"column":11},"generated":{"line":1,"column":2667}},{"source":"src/camera.js","name":"drawKeypoints","original":{"line":156,"column":11},"generated":{"line":1,"column":2672}},{"source":"src/camera.js","name":"pose","original":{"line":156,"column":25},"generated":{"line":1,"column":2686}},{"source":"src/camera.js","name":"keypoints","original":{"line":156,"column":30},"generated":{"line":1,"column":2688}},{"source":"src/camera.js","name":"drawSkeleton","original":{"line":157,"column":11},"generated":{"line":1,"column":2699}},{"source":"src/camera.js","name":"drawSkeleton","original":{"line":157,"column":11},"generated":{"line":1,"column":2704}},{"source":"src/camera.js","name":"pose","original":{"line":157,"column":24},"generated":{"line":1,"column":2717}},{"source":"src/camera.js","name":"keypoints","original":{"line":157,"column":29},"generated":{"line":1,"column":2719}},{"source":"src/camera.js","name":"pose","original":{"line":157,"column":40},"generated":{"line":1,"column":2729}},{"source":"src/camera.js","name":"id","original":{"line":157,"column":45},"generated":{"line":1,"column":2731}},{"source":"src/camera.js","original":{"line":159,"column":28},"generated":{"line":1,"column":2736}},{"source":"src/camera.js","name":"pose","original":{"line":159,"column":8},"generated":{"line":1,"column":2742}},{"source":"src/camera.js","name":"keypoints3D","original":{"line":159,"column":13},"generated":{"line":1,"column":2744}},{"source":"src/camera.js","name":"params","original":{"line":159,"column":36},"generated":{"line":1,"column":2757}},{"source":"src/camera.js","name":"STATE","original":{"line":159,"column":43},"generated":{"line":1,"column":2759}},{"source":"src/camera.js","name":"modelConfig","original":{"line":159,"column":49},"generated":{"line":1,"column":2765}},{"source":"src/camera.js","name":"render3D","original":{"line":159,"column":61},"generated":{"line":1,"column":2777}},{"source":"src/camera.js","name":"drawKeypoints3D","original":{"line":160,"column":11},"generated":{"line":1,"column":2787}},{"source":"src/camera.js","name":"drawKeypoints3D","original":{"line":160,"column":11},"generated":{"line":1,"column":2792}},{"source":"src/camera.js","name":"pose","original":{"line":160,"column":27},"generated":{"line":1,"column":2808}},{"source":"src/camera.js","name":"keypoints3D","original":{"line":160,"column":32},"generated":{"line":1,"column":2810}},{"source":"src/camera.js","name":"drawKeypoints","original":{"line":168,"column":2},"generated":{"line":1,"column":2823}},{"source":"src/camera.js","name":"keypoints","original":{"line":168,"column":16},"generated":{"line":1,"column":2837}},{"source":"src/camera.js","name":"keypointInd","original":{"line":169,"column":10},"generated":{"line":1,"column":2840}},{"source":"src/camera.js","name":"keypointInd","original":{"line":169,"column":10},"generated":{"line":1,"column":2846}},{"source":"src/camera.js","name":"posedetection","original":{"line":170,"column":8},"generated":{"line":1,"column":2848}},{"source":"src/camera.js","name":"util","original":{"line":170,"column":22},"generated":{"line":1,"column":2850}},{"source":"src/camera.js","name":"getKeypointIndexBySide","original":{"line":170,"column":27},"generated":{"line":1,"column":2855}},{"source":"src/camera.js","name":"params","original":{"line":170,"column":50},"generated":{"line":1,"column":2878}},{"source":"src/camera.js","name":"STATE","original":{"line":170,"column":57},"generated":{"line":1,"column":2880}},{"source":"src/camera.js","name":"model","original":{"line":170,"column":63},"generated":{"line":1,"column":2886}},{"source":"src/camera.js","name":"ctx","original":{"line":171,"column":9},"generated":{"line":1,"column":2893}},{"source":"src/camera.js","name":"ctx","original":{"line":171,"column":9},"generated":{"line":1,"column":2898}},{"source":"src/camera.js","name":"fillStyle","original":{"line":171,"column":13},"generated":{"line":1,"column":2902}},{"source":"src/camera.js","original":{"line":171,"column":25},"generated":{"line":1,"column":2912}},{"source":"src/camera.js","name":"ctx","original":{"line":172,"column":9},"generated":{"line":1,"column":2918}},{"source":"src/camera.js","name":"ctx","original":{"line":172,"column":9},"generated":{"line":1,"column":2923}},{"source":"src/camera.js","name":"strokeStyle","original":{"line":172,"column":13},"generated":{"line":1,"column":2927}},{"source":"src/camera.js","original":{"line":172,"column":27},"generated":{"line":1,"column":2939}},{"source":"src/camera.js","name":"ctx","original":{"line":173,"column":9},"generated":{"line":1,"column":2947}},{"source":"src/camera.js","name":"ctx","original":{"line":173,"column":9},"generated":{"line":1,"column":2952}},{"source":"src/camera.js","name":"lineWidth","original":{"line":173,"column":13},"generated":{"line":1,"column":2956}},{"source":"src/camera.js","name":"params","original":{"line":173,"column":25},"generated":{"line":1,"column":2966}},{"source":"src/camera.js","name":"DEFAULT_LINE_WIDTH","original":{"line":173,"column":32},"generated":{"line":1,"column":2968}},{"source":"src/camera.js","original":{"line":175,"column":9},"generated":{"line":1,"column":2987}},{"source":"src/camera.js","original":{"line":175,"column":9},"generated":{"line":1,"column":2991}},{"source":"src/camera.js","name":"i","original":{"line":175,"column":15},"generated":{"line":1,"column":2997}},{"source":"src/camera.js","name":"keypointInd","original":{"line":175,"column":20},"generated":{"line":1,"column":3002}},{"source":"src/camera.js","name":"middle","original":{"line":175,"column":32},"generated":{"line":1,"column":3004}},{"source":"src/camera.js","name":"drawKeypoint","original":{"line":176,"column":11},"generated":{"line":1,"column":3011}},{"source":"src/camera.js","name":"drawKeypoint","original":{"line":176,"column":11},"generated":{"line":1,"column":3016}},{"source":"src/camera.js","name":"keypoints","original":{"line":176,"column":24},"generated":{"line":1,"column":3029}},{"source":"src/camera.js","name":"i","original":{"line":176,"column":34},"generated":{"line":1,"column":3031}},{"source":"src/camera.js","name":"ctx","original":{"line":179,"column":9},"generated":{"line":1,"column":3035}},{"source":"src/camera.js","name":"ctx","original":{"line":179,"column":9},"generated":{"line":1,"column":3040}},{"source":"src/camera.js","name":"fillStyle","original":{"line":179,"column":13},"generated":{"line":1,"column":3044}},{"source":"src/camera.js","original":{"line":179,"column":25},"generated":{"line":1,"column":3054}},{"source":"src/camera.js","original":{"line":180,"column":9},"generated":{"line":1,"column":3062}},{"source":"src/camera.js","original":{"line":180,"column":9},"generated":{"line":1,"column":3066}},{"source":"src/camera.js","name":"i","original":{"line":180,"column":15},"generated":{"line":1,"column":3072}},{"source":"src/camera.js","name":"keypointInd","original":{"line":180,"column":20},"generated":{"line":1,"column":3077}},{"source":"src/camera.js","name":"left","original":{"line":180,"column":32},"generated":{"line":1,"column":3079}},{"source":"src/camera.js","name":"drawKeypoint","original":{"line":181,"column":11},"generated":{"line":1,"column":3084}},{"source":"src/camera.js","name":"drawKeypoint","original":{"line":181,"column":11},"generated":{"line":1,"column":3089}},{"source":"src/camera.js","name":"keypoints","original":{"line":181,"column":24},"generated":{"line":1,"column":3102}},{"source":"src/camera.js","name":"i","original":{"line":181,"column":34},"generated":{"line":1,"column":3104}},{"source":"src/camera.js","name":"ctx","original":{"line":184,"column":9},"generated":{"line":1,"column":3108}},{"source":"src/camera.js","name":"ctx","original":{"line":184,"column":9},"generated":{"line":1,"column":3113}},{"source":"src/camera.js","name":"fillStyle","original":{"line":184,"column":13},"generated":{"line":1,"column":3117}},{"source":"src/camera.js","original":{"line":184,"column":25},"generated":{"line":1,"column":3127}},{"source":"src/camera.js","original":{"line":185,"column":9},"generated":{"line":1,"column":3136}},{"source":"src/camera.js","original":{"line":185,"column":9},"generated":{"line":1,"column":3140}},{"source":"src/camera.js","name":"i","original":{"line":185,"column":15},"generated":{"line":1,"column":3146}},{"source":"src/camera.js","name":"keypointInd","original":{"line":185,"column":20},"generated":{"line":1,"column":3151}},{"source":"src/camera.js","name":"right","original":{"line":185,"column":32},"generated":{"line":1,"column":3153}},{"source":"src/camera.js","name":"drawKeypoint","original":{"line":186,"column":11},"generated":{"line":1,"column":3159}},{"source":"src/camera.js","name":"drawKeypoint","original":{"line":186,"column":11},"generated":{"line":1,"column":3164}},{"source":"src/camera.js","name":"keypoints","original":{"line":186,"column":24},"generated":{"line":1,"column":3177}},{"source":"src/camera.js","name":"i","original":{"line":186,"column":34},"generated":{"line":1,"column":3179}},{"source":"src/camera.js","name":"drawKeypoint","original":{"line":190,"column":2},"generated":{"line":1,"column":3183}},{"source":"src/camera.js","name":"keypoint","original":{"line":190,"column":15},"generated":{"line":1,"column":3196}},{"source":"src/camera.js","name":"score","original":{"line":195,"column":8},"generated":{"line":1,"column":3199}},{"source":"src/camera.js","original":{"line":192,"column":36},"generated":{"line":1,"column":3203}},{"source":"src/camera.js","name":"keypoint","original":{"line":192,"column":18},"generated":{"line":1,"column":3209}},{"source":"src/camera.js","name":"score","original":{"line":192,"column":27},"generated":{"line":1,"column":3211}},{"source":"src/camera.js","name":"keypoint","original":{"line":192,"column":43},"generated":{"line":1,"column":3217}},{"source":"src/camera.js","name":"score","original":{"line":192,"column":52},"generated":{"line":1,"column":3219}},{"source":"src/camera.js","original":{"line":192,"column":60},"generated":{"line":1,"column":3225}},{"source":"src/camera.js","name":"params","original":{"line":193,"column":27},"generated":{"line":1,"column":3230}},{"source":"src/camera.js","name":"STATE","original":{"line":193,"column":34},"generated":{"line":1,"column":3232}},{"source":"src/camera.js","name":"modelConfig","original":{"line":193,"column":40},"generated":{"line":1,"column":3238}},{"source":"src/camera.js","name":"scoreThreshold","original":{"line":193,"column":52},"generated":{"line":1,"column":3250}},{"source":"src/camera.js","original":{"line":193,"column":70},"generated":{"line":1,"column":3266}},{"source":"src/camera.js","original":{"line":195,"column":33},"generated":{"line":1,"column":3269}},{"source":"src/camera.js","name":"circle","original":{"line":196,"column":12},"generated":{"line":1,"column":3270}},{"source":"src/camera.js","name":"circle","original":{"line":196,"column":12},"generated":{"line":1,"column":3276}},{"source":"src/camera.js","original":{"line":196,"column":21},"generated":{"line":1,"column":3278}},{"source":"src/camera.js","name":"Path2D","original":{"line":196,"column":25},"generated":{"line":1,"column":3282}},{"source":"src/camera.js","name":"circle","original":{"line":197,"column":6},"generated":{"line":1,"column":3289}},{"source":"src/camera.js","name":"arc","original":{"line":197,"column":13},"generated":{"line":1,"column":3291}},{"source":"src/camera.js","name":"keypoint","original":{"line":197,"column":17},"generated":{"line":1,"column":3295}},{"source":"src/camera.js","name":"x","original":{"line":197,"column":26},"generated":{"line":1,"column":3297}},{"source":"src/camera.js","name":"keypoint","original":{"line":197,"column":29},"generated":{"line":1,"column":3299}},{"source":"src/camera.js","name":"y","original":{"line":197,"column":38},"generated":{"line":1,"column":3301}},{"source":"src/camera.js","name":"params","original":{"line":197,"column":41},"generated":{"line":1,"column":3303}},{"source":"src/camera.js","name":"DEFAULT_RADIUS","original":{"line":197,"column":48},"generated":{"line":1,"column":3305}},{"source":"src/camera.js","original":{"line":197,"column":64},"generated":{"line":1,"column":3320}},{"source":"src/camera.js","original":{"line":197,"column":67},"generated":{"line":1,"column":3322}},{"source":"src/camera.js","name":"Math","original":{"line":197,"column":71},"generated":{"line":1,"column":3324}},{"source":"src/camera.js","name":"PI","original":{"line":197,"column":76},"generated":{"line":1,"column":3329}},{"source":"src/camera.js","name":"ctx","original":{"line":198,"column":11},"generated":{"line":1,"column":3333}},{"source":"src/camera.js","name":"ctx","original":{"line":198,"column":11},"generated":{"line":1,"column":3338}},{"source":"src/camera.js","name":"fill","original":{"line":198,"column":15},"generated":{"line":1,"column":3342}},{"source":"src/camera.js","name":"circle","original":{"line":198,"column":20},"generated":{"line":1,"column":3347}},{"source":"src/camera.js","name":"ctx","original":{"line":199,"column":11},"generated":{"line":1,"column":3350}},{"source":"src/camera.js","name":"ctx","original":{"line":199,"column":11},"generated":{"line":1,"column":3355}},{"source":"src/camera.js","name":"stroke","original":{"line":199,"column":15},"generated":{"line":1,"column":3359}},{"source":"src/camera.js","name":"circle","original":{"line":199,"column":22},"generated":{"line":1,"column":3366}},{"source":"src/camera.js","name":"drawSkeleton","original":{"line":207,"column":2},"generated":{"line":1,"column":3370}},{"source":"src/camera.js","name":"keypoints","original":{"line":207,"column":15},"generated":{"line":1,"column":3383}},{"source":"src/camera.js","name":"poseId","original":{"line":207,"column":26},"generated":{"line":1,"column":3385}},{"source":"src/camera.js","name":"color","original":{"line":209,"column":10},"generated":{"line":1,"column":3388}},{"source":"src/camera.js","name":"color","original":{"line":209,"column":10},"generated":{"line":1,"column":3394}},{"source":"src/camera.js","name":"params","original":{"line":209,"column":18},"generated":{"line":1,"column":3396}},{"source":"src/camera.js","name":"STATE","original":{"line":209,"column":25},"generated":{"line":1,"column":3398}},{"source":"src/camera.js","name":"modelConfig","original":{"line":209,"column":31},"generated":{"line":1,"column":3404}},{"source":"src/camera.js","name":"enableTracking","original":{"line":209,"column":43},"generated":{"line":1,"column":3416}},{"source":"src/camera.js","original":{"line":209,"column":71},"generated":{"line":1,"column":3432}},{"source":"src/camera.js","name":"poseId","original":{"line":209,"column":61},"generated":{"line":1,"column":3438}},{"source":"src/camera.js","name":"COLOR_PALETTE","original":{"line":210,"column":8},"generated":{"line":1,"column":3440}},{"source":"src/camera.js","name":"poseId","original":{"line":210,"column":22},"generated":{"line":1,"column":3442}},{"source":"src/camera.js","original":{"line":210,"column":31},"generated":{"line":1,"column":3444}},{"source":"src/camera.js","original":{"line":211,"column":8},"generated":{"line":1,"column":3448}},{"source":"src/camera.js","name":"ctx","original":{"line":212,"column":9},"generated":{"line":1,"column":3456}},{"source":"src/camera.js","name":"ctx","original":{"line":212,"column":9},"generated":{"line":1,"column":3461}},{"source":"src/camera.js","name":"fillStyle","original":{"line":212,"column":13},"generated":{"line":1,"column":3465}},{"source":"src/camera.js","name":"color","original":{"line":212,"column":25},"generated":{"line":1,"column":3475}},{"source":"src/camera.js","name":"ctx","original":{"line":213,"column":9},"generated":{"line":1,"column":3477}},{"source":"src/camera.js","name":"ctx","original":{"line":213,"column":9},"generated":{"line":1,"column":3482}},{"source":"src/camera.js","name":"strokeStyle","original":{"line":213,"column":13},"generated":{"line":1,"column":3486}},{"source":"src/camera.js","name":"color","original":{"line":213,"column":27},"generated":{"line":1,"column":3498}},{"source":"src/camera.js","name":"ctx","original":{"line":214,"column":9},"generated":{"line":1,"column":3500}},{"source":"src/camera.js","name":"ctx","original":{"line":214,"column":9},"generated":{"line":1,"column":3505}},{"source":"src/camera.js","name":"lineWidth","original":{"line":214,"column":13},"generated":{"line":1,"column":3509}},{"source":"src/camera.js","name":"params","original":{"line":214,"column":25},"generated":{"line":1,"column":3519}},{"source":"src/camera.js","name":"DEFAULT_LINE_WIDTH","original":{"line":214,"column":32},"generated":{"line":1,"column":3521}},{"source":"src/camera.js","name":"posedetection","original":{"line":216,"column":4},"generated":{"line":1,"column":3540}},{"source":"src/camera.js","name":"util","original":{"line":216,"column":18},"generated":{"line":1,"column":3542}},{"source":"src/camera.js","name":"getAdjacentPairs","original":{"line":216,"column":23},"generated":{"line":1,"column":3547}},{"source":"src/camera.js","name":"params","original":{"line":216,"column":40},"generated":{"line":1,"column":3564}},{"source":"src/camera.js","name":"STATE","original":{"line":216,"column":47},"generated":{"line":1,"column":3566}},{"source":"src/camera.js","name":"model","original":{"line":216,"column":53},"generated":{"line":1,"column":3572}},{"source":"src/camera.js","name":"forEach","original":{"line":216,"column":60},"generated":{"line":1,"column":3579}},{"source":"src/camera.js","original":{"line":216,"column":68},"generated":{"line":1,"column":3587}},{"source":"src/camera.js","name":"i","original":{"line":217,"column":70},"generated":{"line":1,"column":3589}},{"source":"src/camera.js","name":"j","original":{"line":217,"column":73},"generated":{"line":1,"column":3591}},{"source":"src/camera.js","name":"kp1","original":{"line":219,"column":12},"generated":{"line":1,"column":3597}},{"source":"src/camera.js","name":"kp1","original":{"line":219,"column":12},"generated":{"line":1,"column":3603}},{"source":"src/camera.js","name":"keypoints","original":{"line":219,"column":18},"generated":{"line":1,"column":3605}},{"source":"src/camera.js","name":"i","original":{"line":219,"column":28},"generated":{"line":1,"column":3607}},{"source":"src/camera.js","name":"kp2","original":{"line":220,"column":12},"generated":{"line":1,"column":3610}},{"source":"src/camera.js","name":"keypoints","original":{"line":220,"column":18},"generated":{"line":1,"column":3612}},{"source":"src/camera.js","name":"j","original":{"line":220,"column":28},"generated":{"line":1,"column":3614}},{"source":"src/camera.js","name":"score1","original":{"line":223,"column":12},"generated":{"line":1,"column":3617}},{"source":"src/camera.js","original":{"line":223,"column":34},"generated":{"line":1,"column":3619}},{"source":"src/camera.js","name":"kp1","original":{"line":223,"column":21},"generated":{"line":1,"column":3625}},{"source":"src/camera.js","name":"score","original":{"line":223,"column":25},"generated":{"line":1,"column":3627}},{"source":"src/camera.js","name":"kp1","original":{"line":223,"column":41},"generated":{"line":1,"column":3633}},{"source":"src/camera.js","name":"score","original":{"line":223,"column":45},"generated":{"line":1,"column":3635}},{"source":"src/camera.js","original":{"line":223,"column":53},"generated":{"line":1,"column":3641}},{"source":"src/camera.js","name":"score2","original":{"line":224,"column":12},"generated":{"line":1,"column":3643}},{"source":"src/camera.js","original":{"line":224,"column":34},"generated":{"line":1,"column":3645}},{"source":"src/camera.js","name":"kp2","original":{"line":224,"column":21},"generated":{"line":1,"column":3651}},{"source":"src/camera.js","name":"score","original":{"line":224,"column":25},"generated":{"line":1,"column":3653}},{"source":"src/camera.js","name":"kp2","original":{"line":224,"column":41},"generated":{"line":1,"column":3659}},{"source":"src/camera.js","name":"score","original":{"line":224,"column":45},"generated":{"line":1,"column":3661}},{"source":"src/camera.js","original":{"line":224,"column":53},"generated":{"line":1,"column":3667}},{"source":"src/camera.js","name":"scoreThreshold","original":{"line":225,"column":12},"generated":{"line":1,"column":3669}},{"source":"src/camera.js","name":"params","original":{"line":225,"column":29},"generated":{"line":1,"column":3671}},{"source":"src/camera.js","name":"STATE","original":{"line":225,"column":36},"generated":{"line":1,"column":3673}},{"source":"src/camera.js","name":"modelConfig","original":{"line":225,"column":42},"generated":{"line":1,"column":3679}},{"source":"src/camera.js","name":"scoreThreshold","original":{"line":225,"column":54},"generated":{"line":1,"column":3691}},{"source":"src/camera.js","original":{"line":225,"column":72},"generated":{"line":1,"column":3707}},{"source":"src/camera.js","name":"score1","original":{"line":227,"column":10},"generated":{"line":1,"column":3709}},{"source":"src/camera.js","name":"scoreThreshold","original":{"line":227,"column":20},"generated":{"line":1,"column":3712}},{"source":"src/camera.js","name":"score2","original":{"line":227,"column":38},"generated":{"line":1,"column":3715}},{"source":"src/camera.js","name":"scoreThreshold","original":{"line":227,"column":48},"generated":{"line":1,"column":3718}},{"source":"src/camera.js","name":"ctx","original":{"line":228,"column":13},"generated":{"line":1,"column":3722}},{"source":"src/camera.js","name":"ctx","original":{"line":228,"column":13},"generated":{"line":1,"column":3727}},{"source":"src/camera.js","name":"beginPath","original":{"line":228,"column":17},"generated":{"line":1,"column":3731}},{"source":"src/camera.js","name":"ctx","original":{"line":229,"column":13},"generated":{"line":1,"column":3743}},{"source":"src/camera.js","name":"ctx","original":{"line":229,"column":13},"generated":{"line":1,"column":3748}},{"source":"src/camera.js","name":"moveTo","original":{"line":229,"column":17},"generated":{"line":1,"column":3752}},{"source":"src/camera.js","name":"kp1","original":{"line":229,"column":24},"generated":{"line":1,"column":3759}},{"source":"src/camera.js","name":"x","original":{"line":229,"column":28},"generated":{"line":1,"column":3761}},{"source":"src/camera.js","name":"kp1","original":{"line":229,"column":31},"generated":{"line":1,"column":3763}},{"source":"src/camera.js","name":"y","original":{"line":229,"column":35},"generated":{"line":1,"column":3765}},{"source":"src/camera.js","name":"ctx","original":{"line":230,"column":13},"generated":{"line":1,"column":3768}},{"source":"src/camera.js","name":"ctx","original":{"line":230,"column":13},"generated":{"line":1,"column":3773}},{"source":"src/camera.js","name":"lineTo","original":{"line":230,"column":17},"generated":{"line":1,"column":3777}},{"source":"src/camera.js","name":"kp2","original":{"line":230,"column":24},"generated":{"line":1,"column":3784}},{"source":"src/camera.js","name":"x","original":{"line":230,"column":28},"generated":{"line":1,"column":3786}},{"source":"src/camera.js","name":"kp2","original":{"line":230,"column":31},"generated":{"line":1,"column":3788}},{"source":"src/camera.js","name":"y","original":{"line":230,"column":35},"generated":{"line":1,"column":3790}},{"source":"src/camera.js","name":"ctx","original":{"line":231,"column":13},"generated":{"line":1,"column":3793}},{"source":"src/camera.js","name":"ctx","original":{"line":231,"column":13},"generated":{"line":1,"column":3798}},{"source":"src/camera.js","name":"stroke","original":{"line":231,"column":17},"generated":{"line":1,"column":3802}},{"source":"src/camera.js","name":"drawKeypoints3D","original":{"line":236,"column":2},"generated":{"line":1,"column":3814}},{"source":"src/camera.js","name":"keypoints","original":{"line":236,"column":18},"generated":{"line":1,"column":3830}},{"source":"src/camera.js","name":"scoreThreshold","original":{"line":237,"column":10},"generated":{"line":1,"column":3833}},{"source":"src/camera.js","name":"scoreThreshold","original":{"line":237,"column":10},"generated":{"line":1,"column":3839}},{"source":"src/camera.js","name":"params","original":{"line":237,"column":27},"generated":{"line":1,"column":3841}},{"source":"src/camera.js","name":"STATE","original":{"line":237,"column":34},"generated":{"line":1,"column":3843}},{"source":"src/camera.js","name":"modelConfig","original":{"line":237,"column":40},"generated":{"line":1,"column":3849}},{"source":"src/camera.js","name":"scoreThreshold","original":{"line":237,"column":52},"generated":{"line":1,"column":3861}},{"source":"src/camera.js","original":{"line":237,"column":70},"generated":{"line":1,"column":3877}},{"source":"src/camera.js","name":"pointsData","original":{"line":238,"column":10},"generated":{"line":1,"column":3879}},{"source":"src/camera.js","name":"keypoints","original":{"line":239,"column":8},"generated":{"line":1,"column":3881}},{"source":"src/camera.js","name":"map","original":{"line":239,"column":18},"generated":{"line":1,"column":3883}},{"source":"src/camera.js","name":"keypoint","original":{"line":239,"column":22},"generated":{"line":1,"column":3887}},{"source":"src/camera.js","original":{"line":239,"column":35},"generated":{"line":1,"column":3890}},{"source":"src/camera.js","name":"keypoint","original":{"line":239,"column":37},"generated":{"line":1,"column":3892}},{"source":"src/camera.js","name":"x","original":{"line":239,"column":46},"generated":{"line":1,"column":3894}},{"source":"src/camera.js","name":"keypoint","original":{"line":239,"column":50},"generated":{"line":1,"column":3897}},{"source":"src/camera.js","name":"y","original":{"line":239,"column":59},"generated":{"line":1,"column":3899}},{"source":"src/camera.js","name":"keypoint","original":{"line":239,"column":63},"generated":{"line":1,"column":3902}},{"source":"src/camera.js","name":"z","original":{"line":239,"column":72},"generated":{"line":1,"column":3904}},{"source":"src/camera.js","name":"dataset","original":{"line":241,"column":10},"generated":{"line":1,"column":3908}},{"source":"src/camera.js","original":{"line":242,"column":8},"generated":{"line":1,"column":3910}},{"source":"src/camera.js","name":"scatter","original":{"line":242,"column":12},"generated":{"line":1,"column":3914}},{"source":"src/camera.js","name":"ScatterGL","original":{"line":242,"column":20},"generated":{"line":1,"column":3916}},{"source":"src/camera.js","name":"Dataset","original":{"line":242,"column":30},"generated":{"line":1,"column":3926}},{"source":"src/camera.js","original":{"line":242,"column":38},"generated":{"line":1,"column":3934}},{"source":"src/camera.js","name":"pointsData","original":{"line":242,"column":42},"generated":{"line":1,"column":3938}},{"source":"src/camera.js","name":"ANCHOR_POINTS","original":{"line":242,"column":57},"generated":{"line":1,"column":3943}},{"source":"src/camera.js","name":"keypointInd","original":{"line":244,"column":10},"generated":{"line":1,"column":3947}},{"source":"src/camera.js","name":"posedetection","original":{"line":245,"column":8},"generated":{"line":1,"column":3949}},{"source":"src/camera.js","name":"util","original":{"line":245,"column":22},"generated":{"line":1,"column":3951}},{"source":"src/camera.js","name":"getKeypointIndexBySide","original":{"line":245,"column":27},"generated":{"line":1,"column":3956}},{"source":"src/camera.js","name":"params","original":{"line":245,"column":50},"generated":{"line":1,"column":3979}},{"source":"src/camera.js","name":"STATE","original":{"line":245,"column":57},"generated":{"line":1,"column":3981}},{"source":"src/camera.js","name":"model","original":{"line":245,"column":63},"generated":{"line":1,"column":3987}},{"source":"src/camera.js","name":"scatterGL","original":{"line":246,"column":9},"generated":{"line":1,"column":3994}},{"source":"src/camera.js","name":"scatterGL","original":{"line":246,"column":9},"generated":{"line":1,"column":3999}},{"source":"src/camera.js","name":"setPointColorer","original":{"line":246,"column":19},"generated":{"line":1,"column":4009}},{"source":"src/camera.js","name":"i","original":{"line":246,"column":36},"generated":{"line":1,"column":4025}},{"source":"src/camera.js","original":{"line":247,"column":26},"generated":{"line":1,"column":4028}},{"source":"src/camera.js","name":"keypoints","original":{"line":247,"column":10},"generated":{"line":1,"column":4034}},{"source":"src/camera.js","name":"i","original":{"line":247,"column":20},"generated":{"line":1,"column":4036}},{"source":"src/camera.js","name":"keypoints","original":{"line":247,"column":34},"generated":{"line":1,"column":4040}},{"source":"src/camera.js","name":"i","original":{"line":247,"column":44},"generated":{"line":1,"column":4042}},{"source":"src/camera.js","name":"score","original":{"line":247,"column":47},"generated":{"line":1,"column":4045}},{"source":"src/camera.js","name":"scoreThreshold","original":{"line":247,"column":55},"generated":{"line":1,"column":4051}},{"source":"src/camera.js","original":{"line":249,"column":15},"generated":{"line":1,"column":4053}},{"source":"src/camera.js","original":{"line":251,"column":16},"generated":{"line":1,"column":4063}},{"source":"src/camera.js","name":"i","original":{"line":251,"column":10},"generated":{"line":1,"column":4067}},{"source":"src/camera.js","original":{"line":252,"column":15},"generated":{"line":1,"column":4069}},{"source":"src/camera.js","name":"keypointInd","original":{"line":254,"column":10},"generated":{"line":1,"column":4079}},{"source":"src/camera.js","name":"left","original":{"line":254,"column":22},"generated":{"line":1,"column":4081}},{"source":"src/camera.js","name":"indexOf","original":{"line":254,"column":27},"generated":{"line":1,"column":4086}},{"source":"src/camera.js","name":"i","original":{"line":254,"column":35},"generated":{"line":1,"column":4094}},{"source":"src/camera.js","original":{"line":254,"column":41},"generated":{"line":1,"column":4098}},{"source":"src/camera.js","original":{"line":255,"column":15},"generated":{"line":1,"column":4100}},{"source":"src/camera.js","name":"keypointInd","original":{"line":257,"column":10},"generated":{"line":1,"column":4110}},{"source":"src/camera.js","name":"right","original":{"line":257,"column":22},"generated":{"line":1,"column":4112}},{"source":"src/camera.js","name":"indexOf","original":{"line":257,"column":28},"generated":{"line":1,"column":4118}},{"source":"src/camera.js","name":"i","original":{"line":257,"column":36},"generated":{"line":1,"column":4126}},{"source":"src/camera.js","original":{"line":257,"column":42},"generated":{"line":1,"column":4130}},{"source":"src/camera.js","original":{"line":258,"column":15},"generated":{"line":1,"column":4132}},{"source":"src/camera.js","name":"keypointInd","original":{"line":257,"column":10},"generated":{"line":1,"column":4147}},{"source":"src/camera.js","original":{"line":262,"column":9},"generated":{"line":1,"column":4150}},{"source":"src/camera.js","name":"scatterGLHasInitialized","original":{"line":262,"column":14},"generated":{"line":1,"column":4155}},{"source":"src/camera.js","name":"scatterGL","original":{"line":265,"column":11},"generated":{"line":1,"column":4179}},{"source":"src/camera.js","name":"scatterGL","original":{"line":265,"column":11},"generated":{"line":1,"column":4184}},{"source":"src/camera.js","name":"updateDataset","original":{"line":265,"column":21},"generated":{"line":1,"column":4194}},{"source":"src/camera.js","name":"dataset","original":{"line":265,"column":35},"generated":{"line":1,"column":4208}},{"source":"src/camera.js","name":"scatterGL","original":{"line":263,"column":11},"generated":{"line":1,"column":4211}},{"source":"src/camera.js","name":"scatterGL","original":{"line":263,"column":11},"generated":{"line":1,"column":4216}},{"source":"src/camera.js","name":"render","original":{"line":263,"column":21},"generated":{"line":1,"column":4226}},{"source":"src/camera.js","name":"dataset","original":{"line":263,"column":28},"generated":{"line":1,"column":4233}},{"source":"src/camera.js","name":"connections","original":{"line":267,"column":10},"generated":{"line":1,"column":4236}},{"source":"src/camera.js","name":"sequences","original":{"line":268,"column":10},"generated":{"line":1,"column":4242}},{"source":"src/camera.js","name":"posedetection","original":{"line":267,"column":24},"generated":{"line":1,"column":4244}},{"source":"src/camera.js","name":"util","original":{"line":267,"column":38},"generated":{"line":1,"column":4246}},{"source":"src/camera.js","name":"getAdjacentPairs","original":{"line":267,"column":43},"generated":{"line":1,"column":4251}},{"source":"src/camera.js","name":"params","original":{"line":267,"column":60},"generated":{"line":1,"column":4268}},{"source":"src/camera.js","name":"STATE","original":{"line":267,"column":67},"generated":{"line":1,"column":4270}},{"source":"src/camera.js","name":"model","original":{"line":267,"column":73},"generated":{"line":1,"column":4276}},{"source":"src/camera.js","name":"map","original":{"line":268,"column":34},"generated":{"line":1,"column":4283}},{"source":"src/camera.js","name":"pair","original":{"line":268,"column":38},"generated":{"line":1,"column":4287}},{"source":"src/camera.js","original":{"line":268,"column":47},"generated":{"line":1,"column":4291}},{"source":"src/camera.js","name":"indices","original":{"line":268,"column":48},"generated":{"line":1,"column":4292}},{"source":"src/camera.js","name":"pair","original":{"line":268,"column":57},"generated":{"line":1,"column":4300}},{"source":"src/camera.js","name":"scatterGL","original":{"line":269,"column":9},"generated":{"line":1,"column":4305}},{"source":"src/camera.js","name":"scatterGL","original":{"line":269,"column":9},"generated":{"line":1,"column":4310}},{"source":"src/camera.js","name":"setSequences","original":{"line":269,"column":19},"generated":{"line":1,"column":4320}},{"source":"src/camera.js","name":"sequences","original":{"line":269,"column":32},"generated":{"line":1,"column":4333}},{"source":"src/camera.js","name":"scatterGLHasInitialized","original":{"line":270,"column":9},"generated":{"line":1,"column":4336}},{"source":"src/camera.js","name":"scatterGLHasInitialized","original":{"line":270,"column":9},"generated":{"line":1,"column":4341}},{"source":"src/camera.js","original":{"line":270,"column":35},"generated":{"line":1,"column":4366}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":4369}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":4377}},{"source":"src/camera.js","original":{"line":52,"column":20},"generated":{"line":1,"column":4384}}],"sources":{"src/camera.js":"/**\n * @license\n * Copyright 2021 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\nimport * as posedetection from '@tensorflow-models/pose-detection';\nimport * as scatter from 'scatter-gl';\n\nimport * as params from './params';\nimport {isMobile} from './util';\n\n// These anchor points allow the pose pointcloud to resize according to its\n// position in the input.\nconst ANCHOR_POINTS = [[0, 0, 0], [0, 1, 0], [-1, 0, 0], [-1, -1, 0]];\n\n// #ffffff - White\n// #800000 - Maroon\n// #469990 - Malachite\n// #e6194b - Crimson\n// #42d4f4 - Picton Blue\n// #fabed4 - Cupid\n// #aaffc3 - Mint Green\n// #9a6324 - Kumera\n// #000075 - Navy Blue\n// #f58231 - Jaffa\n// #4363d8 - Royal Blue\n// #ffd8b1 - Caramel\n// #dcbeff - Mauve\n// #808000 - Olive\n// #ffe119 - Candlelight\n// #911eb4 - Seance\n// #bfef45 - Inchworm\n// #f032e6 - Razzle Dazzle Rose\n// #3cb44b - Chateau Green\n// #a9a9a9 - Silver Chalice\nconst COLOR_PALETTE = [\n  '#ffffff', '#800000', '#469990', '#e6194b', '#42d4f4', '#fabed4', '#aaffc3',\n  '#9a6324', '#000075', '#f58231', '#4363d8', '#ffd8b1', '#dcbeff', '#808000',\n  '#ffe119', '#911eb4', '#bfef45', '#f032e6', '#3cb44b', '#a9a9a9'\n];\nexport class Camera {\n  constructor() {\n    this.video = document.getElementById('video');\n    this.canvas = document.getElementById('output');\n    this.ctx = this.canvas.getContext('2d');\n    this.scatterGLEl = document.querySelector('#scatter-gl-container');\n    this.scatterGL = new scatter.ScatterGL(this.scatterGLEl, {\n      'rotateOnStart': true,\n      'selectEnabled': false,\n      'styles': {polyline: {defaultOpacity: 1, deselectedOpacity: 1}}\n    });\n    this.scatterGLHasInitialized = false;\n  }\n\n  /**\n   * Initiate a Camera instance and wait for the camera stream to be ready.\n   * @param cameraParam From app `STATE.camera`.\n   */\n  static async setupCamera(cameraParam) {\n    if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n      throw new Error(\n          'Browser API navigator.mediaDevices.getUserMedia not available');\n    }\n\n    const {targetFPS, sizeOption} = cameraParam;\n    const $size = params.VIDEO_SIZE[sizeOption];\n    const videoConfig = {\n      'audio': false,\n      'video': {\n        facingMode: 'user',\n        // Only setting the video to a specified size for large screen, on\n        // mobile devices accept the default size.\n        width: isMobile() ? params.VIDEO_SIZE['360 X 270'].width : $size.width,\n        height: isMobile() ? params.VIDEO_SIZE['360 X 270'].height :\n                             $size.height,\n        frameRate: {\n          ideal: targetFPS,\n        }\n      }\n    };\n\n    const stream = await navigator.mediaDevices.getUserMedia(videoConfig);\n\n    const camera = new Camera();\n    camera.video.srcObject = stream;\n\n    await new Promise((resolve) => {\n      camera.video.onloadedmetadata = () => {\n        resolve(video);\n      };\n    });\n\n    camera.video.play();\n\n    const videoWidth = camera.video.videoWidth;\n    const videoHeight = camera.video.videoHeight;\n    // Must set below two lines, otherwise video element doesn't show.\n    camera.video.width = videoWidth;\n    camera.video.height = videoHeight;\n\n    camera.canvas.width = videoWidth;\n    camera.canvas.height = videoHeight;\n    const canvasContainer = document.querySelector('.canvas-wrapper');\n    canvasContainer.style = `width: ${videoWidth}px; height: ${videoHeight}px`;\n\n    // Because the image from camera is mirrored, need to flip horizontally.\n    camera.ctx.translate(camera.video.videoWidth, 0);\n    camera.ctx.scale(-1, 1);\n\n    camera.scatterGLEl.style =\n        `width: ${videoWidth}px; height: ${videoHeight}px;`;\n    camera.scatterGL.resize();\n\n    camera.scatterGLEl.style.display =\n        params.STATE.modelConfig.render3D ? 'inline-block' : 'none';\n\n    return camera;\n  }\n\n  drawCtx() {\n    this.ctx.drawImage(\n        this.video, 0, 0, this.video.videoWidth, this.video.videoHeight);\n  }\n\n  clearCtx() {\n    this.ctx.clearRect(0, 0, this.video.videoWidth, this.video.videoHeight);\n  }\n\n  /**\n   * Draw the keypoints and skeleton on the video.\n   * @param poses A list of poses to render.\n   */\n  drawResults(poses) {\n    for (const pose of poses) {\n      this.drawResult(pose);\n    }\n  }\n\n  /**\n   * Draw the keypoints and skeleton on the video.\n   * @param pose A pose with keypoints to render.\n   */\n  drawResult(pose) {\n    if (pose.keypoints != null) {\n      this.drawKeypoints(pose.keypoints);\n      this.drawSkeleton(pose.keypoints, pose.id);\n    }\n    if (pose.keypoints3D != null && params.STATE.modelConfig.render3D) {\n      this.drawKeypoints3D(pose.keypoints3D);\n    }\n  }\n\n  /**\n   * Draw the keypoints on the video.\n   * @param keypoints A list of keypoints.\n   */\n  drawKeypoints(keypoints) {\n    const keypointInd =\n        posedetection.util.getKeypointIndexBySide(params.STATE.model);\n    this.ctx.fillStyle = 'Red';\n    this.ctx.strokeStyle = 'White';\n    this.ctx.lineWidth = params.DEFAULT_LINE_WIDTH;\n\n    for (const i of keypointInd.middle) {\n      this.drawKeypoint(keypoints[i]);\n    }\n\n    this.ctx.fillStyle = 'Green';\n    for (const i of keypointInd.left) {\n      this.drawKeypoint(keypoints[i]);\n    }\n\n    this.ctx.fillStyle = 'Orange';\n    for (const i of keypointInd.right) {\n      this.drawKeypoint(keypoints[i]);\n    }\n  }\n\n  drawKeypoint(keypoint) {\n    // If score is null, just show the keypoint.\n    const score = keypoint.score != null ? keypoint.score : 1;\n    const scoreThreshold = params.STATE.modelConfig.scoreThreshold || 0;\n\n    if (score >= scoreThreshold) {\n      const circle = new Path2D();\n      circle.arc(keypoint.x, keypoint.y, params.DEFAULT_RADIUS, 0, 2 * Math.PI);\n      this.ctx.fill(circle);\n      this.ctx.stroke(circle);\n    }\n  }\n\n  /**\n   * Draw the skeleton of a body on the video.\n   * @param keypoints A list of keypoints.\n   */\n  drawSkeleton(keypoints, poseId) {\n    // Each poseId is mapped to a color in the color palette.\n    const color = params.STATE.modelConfig.enableTracking && poseId != null ?\n        COLOR_PALETTE[poseId % 20] :\n        'White';\n    this.ctx.fillStyle = color;\n    this.ctx.strokeStyle = color;\n    this.ctx.lineWidth = params.DEFAULT_LINE_WIDTH;\n\n    posedetection.util.getAdjacentPairs(params.STATE.model).forEach(([\n                                                                      i, j\n                                                                    ]) => {\n      const kp1 = keypoints[i];\n      const kp2 = keypoints[j];\n\n      // If score is null, just show the keypoint.\n      const score1 = kp1.score != null ? kp1.score : 1;\n      const score2 = kp2.score != null ? kp2.score : 1;\n      const scoreThreshold = params.STATE.modelConfig.scoreThreshold || 0;\n\n      if (score1 >= scoreThreshold && score2 >= scoreThreshold) {\n        this.ctx.beginPath();\n        this.ctx.moveTo(kp1.x, kp1.y);\n        this.ctx.lineTo(kp2.x, kp2.y);\n        this.ctx.stroke();\n      }\n    });\n  }\n\n  drawKeypoints3D(keypoints) {\n    const scoreThreshold = params.STATE.modelConfig.scoreThreshold || 0;\n    const pointsData =\n        keypoints.map(keypoint => ([-keypoint.x, -keypoint.y, -keypoint.z]));\n\n    const dataset =\n        new scatter.ScatterGL.Dataset([...pointsData, ...ANCHOR_POINTS]);\n\n    const keypointInd =\n        posedetection.util.getKeypointIndexBySide(params.STATE.model);\n    this.scatterGL.setPointColorer((i) => {\n      if (keypoints[i] == null || keypoints[i].score < scoreThreshold) {\n        // hide anchor points and low-confident points.\n        return '#ffffff';\n      }\n      if (i === 0) {\n        return '#ff0000' /* Red */;\n      }\n      if (keypointInd.left.indexOf(i) > -1) {\n        return '#00ff00' /* Green */;\n      }\n      if (keypointInd.right.indexOf(i) > -1) {\n        return '#ffa500' /* Orange */;\n      }\n    });\n\n    if (!this.scatterGLHasInitialized) {\n      this.scatterGL.render(dataset);\n    } else {\n      this.scatterGL.updateDataset(dataset);\n    }\n    const connections = posedetection.util.getAdjacentPairs(params.STATE.model);\n    const sequences = connections.map(pair => ({indices: pair}));\n    this.scatterGL.setSequences(sequences);\n    this.scatterGLHasInitialized = true;\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"57df5a8da5f3cebd6381ece80863d041","cacheData":{"env":{}}}