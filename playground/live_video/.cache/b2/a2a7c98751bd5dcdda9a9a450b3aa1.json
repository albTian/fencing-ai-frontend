{"id":"nadS","dependencies":[{"name":"/Users/alberttian/f21/playground/frontend/live_video/node_modules/@tensorflow/tfjs-backend-webgl/dist/kernels/TopK.js.map","includedInParent":true,"mtime":1631991247369},{"name":"/Users/alberttian/f21/playground/frontend/live_video/package.json","includedInParent":true,"mtime":1633056435183},{"name":"/Users/alberttian/f21/playground/frontend/live_video/.babelrc","includedInParent":true,"mtime":1633056216691},{"name":"/Users/alberttian/f21/playground/frontend/live_video/node_modules/@tensorflow/tfjs-backend-webgl/package.json","includedInParent":true,"mtime":1631991247369},{"name":"@tensorflow/tfjs-core","loc":{"line":17,"column":32},"parent":"/Users/alberttian/f21/playground/frontend/live_video/node_modules/@tensorflow/tfjs-backend-webgl/dist/kernels/TopK.js","resolved":"/Users/alberttian/f21/playground/frontend/live_video/node_modules/@tensorflow/tfjs-core/dist/index.js"},{"name":"../kernel_utils/shared","loc":{"line":18,"column":28},"parent":"/Users/alberttian/f21/playground/frontend/live_video/node_modules/@tensorflow/tfjs-backend-webgl/dist/kernels/TopK.js","resolved":"/Users/alberttian/f21/playground/frontend/live_video/node_modules/@tensorflow/tfjs-backend-webgl/dist/kernel_utils/shared.js"},{"name":"../top_k_gpu","loc":{"line":19,"column":42},"parent":"/Users/alberttian/f21/playground/frontend/live_video/node_modules/@tensorflow/tfjs-backend-webgl/dist/kernels/TopK.js","resolved":"/Users/alberttian/f21/playground/frontend/live_video/node_modules/@tensorflow/tfjs-backend-webgl/dist/top_k_gpu.js"},{"name":"./Fill","loc":{"line":20,"column":21},"parent":"/Users/alberttian/f21/playground/frontend/live_video/node_modules/@tensorflow/tfjs-backend-webgl/dist/kernels/TopK.js","resolved":"/Users/alberttian/f21/playground/frontend/live_video/node_modules/@tensorflow/tfjs-backend-webgl/dist/kernels/Fill.js"},{"name":"./GatherV2","loc":{"line":21,"column":25},"parent":"/Users/alberttian/f21/playground/frontend/live_video/node_modules/@tensorflow/tfjs-backend-webgl/dist/kernels/TopK.js","resolved":"/Users/alberttian/f21/playground/frontend/live_video/node_modules/@tensorflow/tfjs-backend-webgl/dist/kernels/GatherV2.js"},{"name":"./Reshape","loc":{"line":22,"column":24},"parent":"/Users/alberttian/f21/playground/frontend/live_video/node_modules/@tensorflow/tfjs-backend-webgl/dist/kernels/TopK.js","resolved":"/Users/alberttian/f21/playground/frontend/live_video/node_modules/@tensorflow/tfjs-backend-webgl/dist/kernels/Reshape.js"},{"name":"./Slice","loc":{"line":23,"column":22},"parent":"/Users/alberttian/f21/playground/frontend/live_video/node_modules/@tensorflow/tfjs-backend-webgl/dist/kernels/TopK.js","resolved":"/Users/alberttian/f21/playground/frontend/live_video/node_modules/@tensorflow/tfjs-backend-webgl/dist/kernels/Slice.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.topK=l,exports.topKConfig=void 0;var e=require(\"@tensorflow/tfjs-core\"),t=require(\"../kernel_utils/shared\"),n=require(\"../top_k_gpu\"),r=require(\"./Fill\"),s=require(\"./GatherV2\"),a=require(\"./Reshape\"),o=require(\"./Slice\");function u(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function i(e){let t=1;for(;t<e;)t*=2;return t}function l(l){const{inputs:p,backend:c,attrs:d}=l,{x:f}=p,{k:h,sorted:k}=d,b=(0,e.env)().getNumber(\"TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD\"),m=(0,e.env)().getNumber(\"TOPK_K_CPU_HANDOFF_THRESHOLD\"),g=f.shape,_=g[g.length-1];if(c.shouldExecuteOnCPU([f])||_<b||h>m){const e=c.readSync(f.dataId),[n,r]=(0,t.topKImplCPU)(e,g,f.dtype,h,k);return[c.makeTensorInfo(n.shape,n.dtype,n.values),c.makeTensorInfo(r.shape,r.dtype,r.values)]}if(0===h)return g[g.length-1]=0,[c.makeTensorInfo(g,f.dtype,[]),c.makeTensorInfo(g,\"int32\",[])];if(1===_)return[f,(0,r.fill)({attrs:{shape:g,dtype:\"int32\",value:0},backend:c})];const I=c.texData.get(f.dataId),T=null!==I&&I.isPacked,x=T?c.unpackTensor(f):f,P=e.util.sizeFromShape(g)/_,N=(0,a.reshape)({inputs:{x:x},attrs:{shape:[P,_]},backend:c});T&&u(c,x);const v=i(h),F=i(_);let K=null;const O=()=>null===K?[N,N]:[N,K],S=(e,t,r)=>{const s=O(),a=new n.SwapProgram(r),o=[[_],[null===K?1:0],[Number.NEGATIVE_INFINITY],[e],[t]],i=K;K=c.runWebGLProgram(a,s,\"int32\",o),u(c,i)};for(let e=1;e<v;e*=2){const t=2*e;for(let n=e;n>=1;n/=2)S(t,n,[P,F])}for(let e=F;e>v;e/=2){const t=O(),r=new n.MergeProgram([P,e/2]),s=[[_],[null===K?1:0],[v]],a=K;K=c.runWebGLProgram(r,t,\"int32\",s),u(c,a);const o=v/2,i=2*o;for(let e=o;e>=1;e/=2)S(i,e,K.shape)}let q=K;K=(0,o.slice)({inputs:{x:K},backend:c,attrs:{begin:0,size:[P,h]}}),u(c,q);let y=(0,s.gatherV2)({inputs:{x:N,indices:K},backend:c,attrs:{axis:1,batchDims:1}});u(c,N);const D=g.slice(0,-1);D.push(h),q=K,K=(0,a.reshape)({inputs:{x:K},attrs:{shape:D},backend:c}),u(c,q);const C=y;return y=(0,a.reshape)({inputs:{x:y},attrs:{shape:D},backend:c}),u(c,C),[y,K]}const p={kernelName:e.TopK,backendName:\"webgl\",kernelFunc:l};exports.topKConfig=p;"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":189,"column":7},"generated":{"line":1,"column":0}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":189,"column":7},"generated":{"line":1,"column":13}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":189,"column":7},"generated":{"line":1,"column":20}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":189,"column":7},"generated":{"line":1,"column":35}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":189,"column":7},"generated":{"line":1,"column":43}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":189,"column":7},"generated":{"line":1,"column":56}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":189,"column":7},"generated":{"line":1,"column":57}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":189,"column":7},"generated":{"line":1,"column":64}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":189,"column":7},"generated":{"line":1,"column":68}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":189,"column":7},"generated":{"line":1,"column":76}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":189,"column":7},"generated":{"line":1,"column":81}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":189,"column":7},"generated":{"line":1,"column":83}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":189,"column":7},"generated":{"line":1,"column":91}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":189,"column":7},"generated":{"line":1,"column":107}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":109}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":113}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":115}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":123}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":148}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":150}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":21,"column":0},"generated":{"line":1,"column":158}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":184}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":186}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":22,"column":0},"generated":{"line":1,"column":194}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":210}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":212}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":23,"column":0},"generated":{"line":1,"column":220}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":24,"column":0},"generated":{"line":1,"column":230}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":24,"column":0},"generated":{"line":1,"column":232}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":24,"column":0},"generated":{"line":1,"column":240}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":254}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":256}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":264}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":26,"column":0},"generated":{"line":1,"column":277}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":26,"column":0},"generated":{"line":1,"column":279}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":26,"column":0},"generated":{"line":1,"column":287}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":28,"column":0},"generated":{"line":1,"column":298}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":28,"column":9},"generated":{"line":1,"column":307}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":1,"column":309}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":29,"column":31},"generated":{"line":1,"column":311}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":30,"column":21},"generated":{"line":1,"column":314}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":30,"column":6},"generated":{"line":1,"column":321}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":31,"column":4},"generated":{"line":1,"column":324}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":31,"column":12},"generated":{"line":1,"column":326}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":31,"column":42},"generated":{"line":1,"column":356}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":359}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":35,"column":9},"generated":{"line":1,"column":368}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":35,"column":23},"generated":{"line":1,"column":370}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":36,"column":6},"generated":{"line":1,"column":373}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":36,"column":6},"generated":{"line":1,"column":377}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":36,"column":13},"generated":{"line":1,"column":379}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":37,"column":9},"generated":{"line":1,"column":381}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":37,"column":9},"generated":{"line":1,"column":386}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":37,"column":16},"generated":{"line":1,"column":388}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":38,"column":4},"generated":{"line":1,"column":391}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":38,"column":12},"generated":{"line":1,"column":394}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":40,"column":9},"generated":{"line":1,"column":396}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":40,"column":9},"generated":{"line":1,"column":403}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":45,"column":6},"generated":{"line":1,"column":405}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":45,"column":16},"generated":{"line":1,"column":414}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":46,"column":4},"generated":{"line":1,"column":416}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":48,"column":8},"generated":{"line":1,"column":419}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":48,"column":8},"generated":{"line":1,"column":425}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":48,"column":9},"generated":{"line":1,"column":432}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":48,"column":8},"generated":{"line":1,"column":434}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":48,"column":17},"generated":{"line":1,"column":442}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":48,"column":8},"generated":{"line":1,"column":444}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":48,"column":26},"generated":{"line":1,"column":450}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":48,"column":35},"generated":{"line":1,"column":453}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":49,"column":8},"generated":{"line":1,"column":456}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":49,"column":9},"generated":{"line":1,"column":458}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":49,"column":14},"generated":{"line":1,"column":461}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":50,"column":8},"generated":{"line":1,"column":464}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":50,"column":9},"generated":{"line":1,"column":466}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":50,"column":8},"generated":{"line":1,"column":468}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":50,"column":12},"generated":{"line":1,"column":475}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":50,"column":22},"generated":{"line":1,"column":478}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":54,"column":8},"generated":{"line":1,"column":480}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":55,"column":6},"generated":{"line":1,"column":483}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":55,"column":12},"generated":{"line":1,"column":485}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":55,"column":12},"generated":{"line":1,"column":487}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":55,"column":12},"generated":{"line":1,"column":494}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":55,"column":22},"generated":{"line":1,"column":504}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":59,"column":8},"generated":{"line":1,"column":548}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":60,"column":6},"generated":{"line":1,"column":551}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":60,"column":12},"generated":{"line":1,"column":553}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":60,"column":12},"generated":{"line":1,"column":555}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":60,"column":12},"generated":{"line":1,"column":562}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":60,"column":22},"generated":{"line":1,"column":572}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":62,"column":8},"generated":{"line":1,"column":604}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":62,"column":17},"generated":{"line":1,"column":606}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":62,"column":19},"generated":{"line":1,"column":608}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":63,"column":8},"generated":{"line":1,"column":614}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":63,"column":18},"generated":{"line":1,"column":616}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":63,"column":25},"generated":{"line":1,"column":618}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":63,"column":32},"generated":{"line":1,"column":620}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":63,"column":41},"generated":{"line":1,"column":627}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":65,"column":6},"generated":{"line":1,"column":630}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":65,"column":6},"generated":{"line":1,"column":633}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":65,"column":14},"generated":{"line":1,"column":635}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":65,"column":33},"generated":{"line":1,"column":654}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":65,"column":34},"generated":{"line":1,"column":655}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":66,"column":6},"generated":{"line":1,"column":660}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":66,"column":16},"generated":{"line":1,"column":662}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":67,"column":6},"generated":{"line":1,"column":665}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":67,"column":10},"generated":{"line":1,"column":667}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":67,"column":40},"generated":{"line":1,"column":669}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":68,"column":10},"generated":{"line":1,"column":670}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":68,"column":10},"generated":{"line":1,"column":676}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":68,"column":18},"generated":{"line":1,"column":678}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":68,"column":26},"generated":{"line":1,"column":680}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":68,"column":35},"generated":{"line":1,"column":689}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":68,"column":37},"generated":{"line":1,"column":691}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":69,"column":11},"generated":{"line":1,"column":700}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":69,"column":24},"generated":{"line":1,"column":702}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":70,"column":8},"generated":{"line":1,"column":706}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":70,"column":20},"generated":{"line":1,"column":708}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":70,"column":20},"generated":{"line":1,"column":710}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":70,"column":20},"generated":{"line":1,"column":723}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":70,"column":27},"generated":{"line":1,"column":725}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":70,"column":35},"generated":{"line":1,"column":727}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":70,"column":37},"generated":{"line":1,"column":729}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":70,"column":63},"generated":{"line":1,"column":735}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":70,"column":66},"generated":{"line":1,"column":737}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":72,"column":11},"generated":{"line":1,"column":740}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":72,"column":11},"generated":{"line":1,"column":746}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":73,"column":6},"generated":{"line":1,"column":747}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":73,"column":14},"generated":{"line":1,"column":749}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":74,"column":10},"generated":{"line":1,"column":764}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":74,"column":22},"generated":{"line":1,"column":766}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":74,"column":29},"generated":{"line":1,"column":772}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":74,"column":41},"generated":{"line":1,"column":774}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":74,"column":48},"generated":{"line":1,"column":780}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":74,"column":60},"generated":{"line":1,"column":782}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":75,"column":6},"generated":{"line":1,"column":790}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":75,"column":14},"generated":{"line":1,"column":792}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":76,"column":10},"generated":{"line":1,"column":807}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":76,"column":25},"generated":{"line":1,"column":809}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":76,"column":32},"generated":{"line":1,"column":815}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":76,"column":47},"generated":{"line":1,"column":817}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":76,"column":54},"generated":{"line":1,"column":823}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":76,"column":69},"generated":{"line":1,"column":825}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":80,"column":6},"generated":{"line":1,"column":834}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":80,"column":12},"generated":{"line":1,"column":837}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":80,"column":6},"generated":{"line":1,"column":841}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":82,"column":11},"generated":{"line":1,"column":843}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":81,"column":4},"generated":{"line":1,"column":850}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":81,"column":11},"generated":{"line":1,"column":852}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":81,"column":18},"generated":{"line":1,"column":854}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":81,"column":27},"generated":{"line":1,"column":861}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":81,"column":32},"generated":{"line":1,"column":864}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":82,"column":11},"generated":{"line":1,"column":866}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":83,"column":6},"generated":{"line":1,"column":867}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":83,"column":14},"generated":{"line":1,"column":869}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":83,"column":29},"generated":{"line":1,"column":884}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":83,"column":37},"generated":{"line":1,"column":886}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":83,"column":39},"generated":{"line":1,"column":888}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":83,"column":46},"generated":{"line":1,"column":894}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":84,"column":6},"generated":{"line":1,"column":898}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":84,"column":14},"generated":{"line":1,"column":900}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":84,"column":29},"generated":{"line":1,"column":915}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":84,"column":37},"generated":{"line":1,"column":917}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":84,"column":46},"generated":{"line":1,"column":925}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":88,"column":6},"generated":{"line":1,"column":930}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":88,"column":18},"generated":{"line":1,"column":933}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":88,"column":6},"generated":{"line":1,"column":937}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":89,"column":11},"generated":{"line":1,"column":939}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":89,"column":11},"generated":{"line":1,"column":945}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":90,"column":6},"generated":{"line":1,"column":946}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":90,"column":9},"generated":{"line":1,"column":949}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":90,"column":14},"generated":{"line":1,"column":951}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":90,"column":14},"generated":{"line":1,"column":953}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":90,"column":14},"generated":{"line":1,"column":959}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":90,"column":15},"generated":{"line":1,"column":960}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":90,"column":22},"generated":{"line":1,"column":966}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":90,"column":23},"generated":{"line":1,"column":967}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":90,"column":30},"generated":{"line":1,"column":973}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":90,"column":38},"generated":{"line":1,"column":975}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":90,"column":45},"generated":{"line":1,"column":981}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":90,"column":54},"generated":{"line":1,"column":989}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":90,"column":61},"generated":{"line":1,"column":995}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":90,"column":65},"generated":{"line":1,"column":998}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":90,"column":65},"generated":{"line":1,"column":1006}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":96,"column":8},"generated":{"line":1,"column":1011}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":96,"column":8},"generated":{"line":1,"column":1017}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":96,"column":19},"generated":{"line":1,"column":1019}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":96,"column":27},"generated":{"line":1,"column":1021}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":96,"column":35},"generated":{"line":1,"column":1029}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":96,"column":39},"generated":{"line":1,"column":1033}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":96,"column":41},"generated":{"line":1,"column":1035}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":97,"column":8},"generated":{"line":1,"column":1043}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":97,"column":33},"generated":{"line":1,"column":1045}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":97,"column":20},"generated":{"line":1,"column":1052}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":97,"column":41},"generated":{"line":1,"column":1055}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":97,"column":50},"generated":{"line":1,"column":1057}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":98,"column":8},"generated":{"line":1,"column":1066}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":98,"column":20},"generated":{"line":1,"column":1068}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":98,"column":32},"generated":{"line":1,"column":1070}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":98,"column":40},"generated":{"line":1,"column":1072}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":98,"column":53},"generated":{"line":1,"column":1085}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":98,"column":58},"generated":{"line":1,"column":1088}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":102,"column":8},"generated":{"line":1,"column":1090}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":101,"column":16},"generated":{"line":1,"column":1092}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":101,"column":21},"generated":{"line":1,"column":1094}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":101,"column":21},"generated":{"line":1,"column":1099}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":101,"column":35},"generated":{"line":1,"column":1113}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":102,"column":24},"generated":{"line":1,"column":1116}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":103,"column":8},"generated":{"line":1,"column":1118}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":103,"column":14},"generated":{"line":1,"column":1121}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":104,"column":6},"generated":{"line":1,"column":1123}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":104,"column":6},"generated":{"line":1,"column":1125}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":104,"column":6},"generated":{"line":1,"column":1134}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":104,"column":7},"generated":{"line":1,"column":1135}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":104,"column":15},"generated":{"line":1,"column":1142}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":104,"column":16},"generated":{"line":1,"column":1143}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":104,"column":19},"generated":{"line":1,"column":1145}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":104,"column":31},"generated":{"line":1,"column":1148}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":104,"column":38},"generated":{"line":1,"column":1154}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":104,"column":39},"generated":{"line":1,"column":1155}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":104,"column":46},"generated":{"line":1,"column":1161}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":104,"column":47},"generated":{"line":1,"column":1162}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":104,"column":54},"generated":{"line":1,"column":1164}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":104,"column":65},"generated":{"line":1,"column":1168}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":104,"column":65},"generated":{"line":1,"column":1176}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":106,"column":6},"generated":{"line":1,"column":1180}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":107,"column":4},"generated":{"line":1,"column":1183}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":107,"column":40},"generated":{"line":1,"column":1185}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":107,"column":49},"generated":{"line":1,"column":1187}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":110,"column":8},"generated":{"line":1,"column":1190}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":110,"column":8},"generated":{"line":1,"column":1196}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":110,"column":16},"generated":{"line":1,"column":1198}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":110,"column":30},"generated":{"line":1,"column":1200}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":111,"column":8},"generated":{"line":1,"column":1203}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":111,"column":22},"generated":{"line":1,"column":1205}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":111,"column":36},"generated":{"line":1,"column":1207}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":117,"column":6},"generated":{"line":1,"column":1210}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":117,"column":6},"generated":{"line":1,"column":1214}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":117,"column":28},"generated":{"line":1,"column":1216}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":122,"column":8},"generated":{"line":1,"column":1221}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":122,"column":8},"generated":{"line":1,"column":1227}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":122,"column":20},"generated":{"line":1,"column":1229}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":122,"column":38},"generated":{"line":1,"column":1233}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":122,"column":26},"generated":{"line":1,"column":1240}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":122,"column":45},"generated":{"line":1,"column":1242}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":122,"column":46},"generated":{"line":1,"column":1243}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":122,"column":51},"generated":{"line":1,"column":1245}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":122,"column":58},"generated":{"line":1,"column":1248}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":122,"column":59},"generated":{"line":1,"column":1249}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":122,"column":64},"generated":{"line":1,"column":1251}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":124,"column":8},"generated":{"line":1,"column":1254}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":124,"column":18},"generated":{"line":1,"column":1256}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":124,"column":19},"generated":{"line":1,"column":1257}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":124,"column":32},"generated":{"line":1,"column":1259}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":124,"column":45},"generated":{"line":1,"column":1261}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":125,"column":10},"generated":{"line":1,"column":1266}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":125,"column":10},"generated":{"line":1,"column":1272}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":125,"column":19},"generated":{"line":1,"column":1274}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":126,"column":10},"generated":{"line":1,"column":1278}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":126,"column":20},"generated":{"line":1,"column":1280}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":126,"column":24},"generated":{"line":1,"column":1284}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":126,"column":20},"generated":{"line":1,"column":1286}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":126,"column":36},"generated":{"line":1,"column":1298}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":128,"column":10},"generated":{"line":1,"column":1301}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":129,"column":8},"generated":{"line":1,"column":1303}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":129,"column":9},"generated":{"line":1,"column":1304}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":129,"column":10},"generated":{"line":1,"column":1305}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":129,"column":20},"generated":{"line":1,"column":1308}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":127,"column":33},"generated":{"line":1,"column":1309}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":127,"column":21},"generated":{"line":1,"column":1316}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":127,"column":40},"generated":{"line":1,"column":1318}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":127,"column":44},"generated":{"line":1,"column":1320}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":129,"column":32},"generated":{"line":1,"column":1323}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":129,"column":33},"generated":{"line":1,"column":1324}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":129,"column":40},"generated":{"line":1,"column":1331}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":129,"column":60},"generated":{"line":1,"column":1350}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":129,"column":61},"generated":{"line":1,"column":1351}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":129,"column":67},"generated":{"line":1,"column":1354}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":129,"column":68},"generated":{"line":1,"column":1355}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":130,"column":10},"generated":{"line":1,"column":1359}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":130,"column":24},"generated":{"line":1,"column":1361}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":131,"column":4},"generated":{"line":1,"column":1363}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":131,"column":14},"generated":{"line":1,"column":1365}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":131,"column":22},"generated":{"line":1,"column":1367}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":131,"column":38},"generated":{"line":1,"column":1383}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":131,"column":47},"generated":{"line":1,"column":1385}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":131,"column":55},"generated":{"line":1,"column":1387}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":131,"column":64},"generated":{"line":1,"column":1395}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":132,"column":4},"generated":{"line":1,"column":1398}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":132,"column":40},"generated":{"line":1,"column":1400}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":132,"column":49},"generated":{"line":1,"column":1402}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":136,"column":7},"generated":{"line":1,"column":1406}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":136,"column":7},"generated":{"line":1,"column":1410}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":136,"column":11},"generated":{"line":1,"column":1414}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":136,"column":17},"generated":{"line":1,"column":1416}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":136,"column":20},"generated":{"line":1,"column":1418}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":136,"column":26},"generated":{"line":1,"column":1420}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":136,"column":33},"generated":{"line":1,"column":1422}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":136,"column":40},"generated":{"line":1,"column":1425}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":136,"column":43},"generated":{"line":1,"column":1427}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":137,"column":10},"generated":{"line":1,"column":1428}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":137,"column":10},"generated":{"line":1,"column":1434}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":137,"column":22},"generated":{"line":1,"column":1436}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":137,"column":16},"generated":{"line":1,"column":1438}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":138,"column":9},"generated":{"line":1,"column":1440}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":138,"column":9},"generated":{"line":1,"column":1444}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":138,"column":13},"generated":{"line":1,"column":1448}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":138,"column":19},"generated":{"line":1,"column":1450}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":138,"column":24},"generated":{"line":1,"column":1452}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":138,"column":31},"generated":{"line":1,"column":1455}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":138,"column":34},"generated":{"line":1,"column":1457}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":138,"column":41},"generated":{"line":1,"column":1460}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":139,"column":6},"generated":{"line":1,"column":1462}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":139,"column":14},"generated":{"line":1,"column":1464}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":139,"column":19},"generated":{"line":1,"column":1466}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":139,"column":24},"generated":{"line":1,"column":1468}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":139,"column":25},"generated":{"line":1,"column":1469}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":139,"column":32},"generated":{"line":1,"column":1471}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":144,"column":7},"generated":{"line":1,"column":1475}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":144,"column":7},"generated":{"line":1,"column":1479}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":144,"column":11},"generated":{"line":1,"column":1483}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":144,"column":25},"generated":{"line":1,"column":1485}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":144,"column":38},"generated":{"line":1,"column":1487}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":144,"column":52},"generated":{"line":1,"column":1489}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":144,"column":59},"generated":{"line":1,"column":1491}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":144,"column":74},"generated":{"line":1,"column":1494}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":144,"column":77},"generated":{"line":1,"column":1496}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":145,"column":10},"generated":{"line":1,"column":1497}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":145,"column":10},"generated":{"line":1,"column":1503}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":145,"column":19},"generated":{"line":1,"column":1505}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":146,"column":10},"generated":{"line":1,"column":1509}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":146,"column":25},"generated":{"line":1,"column":1511}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":146,"column":29},"generated":{"line":1,"column":1515}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":146,"column":25},"generated":{"line":1,"column":1517}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":146,"column":42},"generated":{"line":1,"column":1530}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":146,"column":43},"generated":{"line":1,"column":1531}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":146,"column":50},"generated":{"line":1,"column":1533}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":146,"column":64},"generated":{"line":1,"column":1535}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":148,"column":10},"generated":{"line":1,"column":1539}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":148,"column":25},"generated":{"line":1,"column":1541}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":148,"column":26},"generated":{"line":1,"column":1542}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":148,"column":27},"generated":{"line":1,"column":1543}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":148,"column":37},"generated":{"line":1,"column":1546}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":147,"column":34},"generated":{"line":1,"column":1547}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":147,"column":22},"generated":{"line":1,"column":1554}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":147,"column":41},"generated":{"line":1,"column":1556}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":147,"column":45},"generated":{"line":1,"column":1558}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":148,"column":50},"generated":{"line":1,"column":1561}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":148,"column":51},"generated":{"line":1,"column":1562}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":149,"column":10},"generated":{"line":1,"column":1566}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":149,"column":24},"generated":{"line":1,"column":1568}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":150,"column":4},"generated":{"line":1,"column":1570}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":151,"column":8},"generated":{"line":1,"column":1572}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":151,"column":16},"generated":{"line":1,"column":1574}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":151,"column":32},"generated":{"line":1,"column":1590}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":151,"column":46},"generated":{"line":1,"column":1592}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":151,"column":54},"generated":{"line":1,"column":1594}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":151,"column":63},"generated":{"line":1,"column":1602}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":152,"column":4},"generated":{"line":1,"column":1605}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":152,"column":40},"generated":{"line":1,"column":1607}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":152,"column":49},"generated":{"line":1,"column":1609}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":155,"column":10},"generated":{"line":1,"column":1612}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":155,"column":10},"generated":{"line":1,"column":1618}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":155,"column":16},"generated":{"line":1,"column":1620}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":155,"column":24},"generated":{"line":1,"column":1622}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":156,"column":10},"generated":{"line":1,"column":1624}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":156,"column":22},"generated":{"line":1,"column":1626}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":156,"column":16},"generated":{"line":1,"column":1628}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":157,"column":9},"generated":{"line":1,"column":1630}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":157,"column":9},"generated":{"line":1,"column":1634}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":157,"column":13},"generated":{"line":1,"column":1638}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":157,"column":19},"generated":{"line":1,"column":1640}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":157,"column":24},"generated":{"line":1,"column":1642}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":157,"column":31},"generated":{"line":1,"column":1645}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":157,"column":34},"generated":{"line":1,"column":1647}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":157,"column":41},"generated":{"line":1,"column":1650}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":158,"column":6},"generated":{"line":1,"column":1652}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":158,"column":14},"generated":{"line":1,"column":1654}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":158,"column":19},"generated":{"line":1,"column":1656}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":158,"column":24},"generated":{"line":1,"column":1658}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":158,"column":32},"generated":{"line":1,"column":1660}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":163,"column":6},"generated":{"line":1,"column":1667}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":163,"column":6},"generated":{"line":1,"column":1671}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":163,"column":20},"generated":{"line":1,"column":1673}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":164,"column":2},"generated":{"line":1,"column":1675}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":164,"column":12},"generated":{"line":1,"column":1678}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":165,"column":6},"generated":{"line":1,"column":1680}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":165,"column":6},"generated":{"line":1,"column":1682}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":165,"column":6},"generated":{"line":1,"column":1689}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":165,"column":7},"generated":{"line":1,"column":1690}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":165,"column":15},"generated":{"line":1,"column":1697}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":165,"column":16},"generated":{"line":1,"column":1698}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":165,"column":19},"generated":{"line":1,"column":1700}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":165,"column":29},"generated":{"line":1,"column":1703}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":165,"column":29},"generated":{"line":1,"column":1711}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":165,"column":38},"generated":{"line":1,"column":1713}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":165,"column":45},"generated":{"line":1,"column":1719}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":165,"column":46},"generated":{"line":1,"column":1720}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":165,"column":53},"generated":{"line":1,"column":1726}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":165,"column":56},"generated":{"line":1,"column":1728}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":165,"column":62},"generated":{"line":1,"column":1733}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":165,"column":63},"generated":{"line":1,"column":1734}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":165,"column":70},"generated":{"line":1,"column":1736}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":166,"column":2},"generated":{"line":1,"column":1742}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":166,"column":38},"generated":{"line":1,"column":1744}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":166,"column":47},"generated":{"line":1,"column":1746}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":169,"column":6},"generated":{"line":1,"column":1749}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":169,"column":6},"generated":{"line":1,"column":1753}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":169,"column":15},"generated":{"line":1,"column":1756}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":170,"column":6},"generated":{"line":1,"column":1758}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":170,"column":6},"generated":{"line":1,"column":1760}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":170,"column":6},"generated":{"line":1,"column":1770}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":170,"column":7},"generated":{"line":1,"column":1771}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":170,"column":15},"generated":{"line":1,"column":1778}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":170,"column":16},"generated":{"line":1,"column":1779}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":170,"column":19},"generated":{"line":1,"column":1781}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":170,"column":24},"generated":{"line":1,"column":1783}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":170,"column":24},"generated":{"line":1,"column":1791}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":170,"column":34},"generated":{"line":1,"column":1794}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":170,"column":34},"generated":{"line":1,"column":1802}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":170,"column":43},"generated":{"line":1,"column":1804}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":170,"column":50},"generated":{"line":1,"column":1810}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":170,"column":51},"generated":{"line":1,"column":1811}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":170,"column":57},"generated":{"line":1,"column":1816}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":170,"column":60},"generated":{"line":1,"column":1818}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":170,"column":71},"generated":{"line":1,"column":1828}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":171,"column":2},"generated":{"line":1,"column":1833}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":171,"column":38},"generated":{"line":1,"column":1835}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":171,"column":47},"generated":{"line":1,"column":1837}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":175,"column":8},"generated":{"line":1,"column":1840}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":175,"column":8},"generated":{"line":1,"column":1846}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":175,"column":19},"generated":{"line":1,"column":1848}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":175,"column":26},"generated":{"line":1,"column":1850}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":175,"column":32},"generated":{"line":1,"column":1856}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":175,"column":36},"generated":{"line":1,"column":1859}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":176,"column":2},"generated":{"line":1,"column":1862}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":176,"column":11},"generated":{"line":1,"column":1864}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":176,"column":16},"generated":{"line":1,"column":1869}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":178,"column":2},"generated":{"line":1,"column":1872}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":178,"column":16},"generated":{"line":1,"column":1874}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":179,"column":2},"generated":{"line":1,"column":1876}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":179,"column":12},"generated":{"line":1,"column":1879}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":179,"column":20},"generated":{"line":1,"column":1881}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":179,"column":20},"generated":{"line":1,"column":1883}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":179,"column":20},"generated":{"line":1,"column":1892}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":179,"column":21},"generated":{"line":1,"column":1893}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":179,"column":29},"generated":{"line":1,"column":1900}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":179,"column":30},"generated":{"line":1,"column":1901}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":179,"column":33},"generated":{"line":1,"column":1903}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":179,"column":43},"generated":{"line":1,"column":1906}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":179,"column":50},"generated":{"line":1,"column":1912}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":179,"column":51},"generated":{"line":1,"column":1913}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":179,"column":58},"generated":{"line":1,"column":1919}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":179,"column":69},"generated":{"line":1,"column":1922}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":179,"column":69},"generated":{"line":1,"column":1930}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":180,"column":2},"generated":{"line":1,"column":1934}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":180,"column":38},"generated":{"line":1,"column":1936}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":180,"column":47},"generated":{"line":1,"column":1938}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":182,"column":8},"generated":{"line":1,"column":1941}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":182,"column":8},"generated":{"line":1,"column":1947}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":182,"column":21},"generated":{"line":1,"column":1949}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":186,"column":9},"generated":{"line":1,"column":1951}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":183,"column":2},"generated":{"line":1,"column":1958}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":183,"column":11},"generated":{"line":1,"column":1961}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":183,"column":19},"generated":{"line":1,"column":1963}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":183,"column":19},"generated":{"line":1,"column":1965}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":183,"column":19},"generated":{"line":1,"column":1974}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":183,"column":20},"generated":{"line":1,"column":1975}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":183,"column":28},"generated":{"line":1,"column":1982}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":183,"column":29},"generated":{"line":1,"column":1983}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":183,"column":32},"generated":{"line":1,"column":1985}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":183,"column":41},"generated":{"line":1,"column":1988}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":183,"column":48},"generated":{"line":1,"column":1994}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":183,"column":49},"generated":{"line":1,"column":1995}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":183,"column":56},"generated":{"line":1,"column":2001}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":183,"column":67},"generated":{"line":1,"column":2004}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":183,"column":67},"generated":{"line":1,"column":2012}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":184,"column":2},"generated":{"line":1,"column":2016}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":184,"column":38},"generated":{"line":1,"column":2018}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":184,"column":47},"generated":{"line":1,"column":2020}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":186,"column":9},"generated":{"line":1,"column":2023}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":186,"column":10},"generated":{"line":1,"column":2024}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":186,"column":18},"generated":{"line":1,"column":2026}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":189,"column":7},"generated":{"line":1,"column":2029}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":189,"column":13},"generated":{"line":1,"column":2035}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":189,"column":40},"generated":{"line":1,"column":2037}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":190,"column":2},"generated":{"line":1,"column":2038}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":190,"column":14},"generated":{"line":1,"column":2049}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":189,"column":40},"generated":{"line":1,"column":2051}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":191,"column":2},"generated":{"line":1,"column":2056}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":191,"column":15},"generated":{"line":1,"column":2068}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":192,"column":2},"generated":{"line":1,"column":2076}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":192,"column":14},"generated":{"line":1,"column":2087}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":189,"column":7},"generated":{"line":1,"column":2090}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":189,"column":7},"generated":{"line":1,"column":2098}},{"source":"../../src/kernels/TopK.ts","name":null,"original":{"line":189,"column":7},"generated":{"line":1,"column":2109}}],"sources":{"../../src/kernels/TopK.ts":"/**\n * @license\n * Copyright 2020 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {env, KernelConfig, KernelFunc, NumericDataType, TensorInfo, TopK, TopKAttrs, TopKInputs, TypedArray, util} from '@tensorflow/tfjs-core';\n\nimport {MathBackendWebGL} from '../backend_webgl';\nimport {topKImplCPU} from '../kernel_utils/shared';\nimport {MergeProgram, SwapProgram} from '../top_k_gpu';\nimport {fill} from './Fill';\nimport {gatherV2} from './GatherV2';\nimport {reshape} from './Reshape';\nimport {slice} from './Slice';\n\nfunction disposeIntermediateTensorInfoOrNull(\n    backend: MathBackendWebGL, tensorInfo: TensorInfo) {\n  if (tensorInfo !== null) {\n    backend.disposeIntermediateTensorInfo(tensorInfo);\n  }\n}\n\nfunction roundUpToPow2(num: number) {\n  let pow2 = 1;\n  while (pow2 < num) {\n    pow2 *= 2;\n  }\n  return pow2;\n}\n\n// Based on Algorithm 2 of Bitonic Top K, ref:\n// https://anilshanbhag.in/static/papers/gputopk_sigmod18.pdf\nexport function topK(\n    args: {inputs: TopKInputs, backend: MathBackendWebGL, attrs: TopKAttrs}):\n    TensorInfo[] {\n  const {inputs, backend, attrs} = args;\n  const {x} = inputs;\n  const {k, sorted} = attrs;\n\n  // Empirically determined constant used to determine last dim threshold for\n  // handing off execution to the CPU.\n  const TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD =\n      env().getNumber('TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD');\n\n  // Empirically determined constant used to determine k threshold for handing\n  // off execution to the CPU.\n  const TOPK_K_CPU_HANDOFF_THRESHOLD =\n      env().getNumber('TOPK_K_CPU_HANDOFF_THRESHOLD');\n\n  const xShape = x.shape;\n  const lastDim = xShape[xShape.length - 1];\n\n  if (backend.shouldExecuteOnCPU([x]) ||\n      lastDim < TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD ||\n      k > TOPK_K_CPU_HANDOFF_THRESHOLD) {\n    const xVals = backend.readSync(x.dataId) as TypedArray;\n    const [allTopKVals, allTopKIndices] =\n        topKImplCPU(xVals, xShape, x.dtype as NumericDataType, k, sorted);\n\n    return [\n      backend.makeTensorInfo(\n          allTopKVals.shape, allTopKVals.dtype, allTopKVals.values),\n      backend.makeTensorInfo(\n          allTopKIndices.shape, allTopKIndices.dtype, allTopKIndices.values)\n    ];\n  }\n\n  if (k === 0) {\n    xShape[xShape.length - 1] = 0;\n    return [\n      backend.makeTensorInfo(xShape, x.dtype, []),\n      backend.makeTensorInfo(xShape, 'int32', [])\n    ];\n  }\n\n  if (lastDim === 1 /* firstPass */) {\n    return [\n      x, fill({attrs: {shape: xShape, dtype: 'int32', value: 0}, backend})\n    ];\n  }\n\n  // Eagerly unpack x input since it is passed in to all the shaders which\n  // require unpacked inputs.\n  const xtexData = backend.texData.get(x.dataId);\n  const xIsPacked = xtexData !== null && xtexData.isPacked;\n  const xUnPacked = xIsPacked ? backend.unpackTensor(x) : x;\n\n  // Reshape into a 2d tensor [batch, lastDim] and compute topk along lastDim.\n  const xSize = util.sizeFromShape(xShape);\n  const batch = xSize / lastDim;\n  const x2D = reshape(\n      {inputs: {x: xUnPacked}, attrs: {shape: [batch, lastDim]}, backend});\n\n  if (xIsPacked) {\n    disposeIntermediateTensorInfoOrNull(backend, xUnPacked);\n  }\n\n  const kPow2 = roundUpToPow2(k);\n  const lastDimPow2 = roundUpToPow2(lastDim);\n\n  // Only the indices containing the top K are kept at every step to reduce\n  // number of outputs in the GPU algorithms, so once the final set of indices\n  // is computed then gather is used to grab the corresponding values\n  // from the original input.\n  let indices: TensorInfo = null;\n\n  // GPU algorithm always takes in an indices input but this input is not used\n  // on the first run of a GPU algorithm, therefore if indices is null we simply\n  // pass in x2D instead of it but the value will not actually be used\n  const getInputs = () => indices === null ? [x2D, x2D] : [x2D, indices];\n\n  const runSwap = (dir: number, inc: number, shape: number[]) => {\n    const inputs = getInputs();\n    const program = new SwapProgram(shape);\n    const fistPass = indices === null ? 1 : 0;\n    const customValues =\n        [[lastDim], [fistPass], [Number.NEGATIVE_INFINITY], [dir], [inc]];\n    const prevIndices = indices;\n    indices = backend.runWebGLProgram(program, inputs, 'int32', customValues);\n    disposeIntermediateTensorInfoOrNull(backend, prevIndices);\n  };\n\n  // Step 1: local sort\n  for (let len = 1; len < kPow2; len *= 2) {\n    const dir = len * 2;\n    for (let inc = len; inc >= 1; inc /= 2) {\n      runSwap(dir, inc, [batch, lastDimPow2]);\n    }\n  }\n\n  // Step 2: merge\n  for (let indicesSize = lastDimPow2; indicesSize > kPow2; indicesSize /= 2) {\n    const inputs = getInputs();\n    const mergeProgram = new MergeProgram([batch, indicesSize / 2]);\n    const firstPass = indices === null ? 1 : 0;\n    const customValues = [[lastDim], [firstPass], [kPow2]];\n    const prevIndices = indices;\n    indices =\n        backend.runWebGLProgram(mergeProgram, inputs, 'int32', customValues);\n    disposeIntermediateTensorInfoOrNull(backend, prevIndices);\n\n    // Step 3: rebuild\n    const len = kPow2 / 2;\n    const dir = len * 2;\n    for (let inc = len; inc >= 1; inc /= 2) {\n      runSwap(dir, inc, indices.shape);\n    }\n  }\n\n  // Keep only the requested top K results instead of kPow2\n  let prevIndices = indices;\n  indices = slice(\n      {inputs: {x: indices}, backend, attrs: {begin: 0, size: [batch, k]}});\n  disposeIntermediateTensorInfoOrNull(backend, prevIndices);\n\n  // Gather values on last dimension\n  let values = gatherV2(\n      {inputs: {x: x2D, indices}, backend, attrs: {axis: 1, batchDims: 1}});\n  disposeIntermediateTensorInfoOrNull(backend, x2D);\n\n  // Reshape back to the original input shape, except that the last\n  // dimension is k.\n  const newShape = xShape.slice(0, -1);\n  newShape.push(k);\n\n  prevIndices = indices;\n  indices = reshape({inputs: {x: indices}, attrs: {shape: newShape}, backend});\n  disposeIntermediateTensorInfoOrNull(backend, prevIndices);\n\n  const prevValues = values;\n  values = reshape({inputs: {x: values}, attrs: {shape: newShape}, backend});\n  disposeIntermediateTensorInfoOrNull(backend, prevValues);\n\n  return [values, indices];\n}\n\nexport const topKConfig: KernelConfig = {\n  kernelName: TopK,\n  backendName: 'webgl',\n  kernelFunc: topK as {} as KernelFunc\n};\n"},"lineCount":null}},"error":null,"hash":"48f58af549d33d4d025b80019e9f8d21","cacheData":{"env":{}}}